webpackJsonp([3],[function(e,t,n){n(589),e.exports=n(595)},,function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},,,,function(e,t,n){"use strict";function bootstrap(e,n){c.reflector.reflectionCapabilities=new u.ReflectionCapabilities;var r=o.isPresent(n)?[t.BROWSER_APP_PROVIDERS,n]:t.BROWSER_APP_PROVIDERS;return c.platform(a.BROWSER_PROVIDERS).application(r).bootstrap(e)}var r=n(7);t.AngularEntrypoint=r.AngularEntrypoint;var i=n(9);t.BROWSER_PROVIDERS=i.BROWSER_PROVIDERS,t.CACHED_TEMPLATE_PROVIDER=i.CACHED_TEMPLATE_PROVIDER,t.ELEMENT_PROBE_PROVIDERS=i.ELEMENT_PROBE_PROVIDERS,t.ELEMENT_PROBE_PROVIDERS_PROD_MODE=i.ELEMENT_PROBE_PROVIDERS_PROD_MODE,t.inspectNativeElement=i.inspectNativeElement,t.BrowserDomAdapter=i.BrowserDomAdapter,t.By=i.By,t.Title=i.Title,t.DOCUMENT=i.DOCUMENT,t.enableDebugTools=i.enableDebugTools,t.disableDebugTools=i.disableDebugTools;var o=n(8),a=n(9),s=n(202),c=n(29),u=n(24),l=n(190),p=n(202),h=n(10);t.BROWSER_APP_PROVIDERS=o.CONST_EXPR([a.BROWSER_APP_COMMON_PROVIDERS,s.COMPILER_PROVIDERS,new h.Provider(p.XHR,{useClass:l.XHRImpl})]),t.bootstrap=bootstrap},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=function(){function AngularEntrypoint(e){this.name=e}return AngularEntrypoint=r([o.CONST(),i("design:paramtypes",[String])],AngularEntrypoint)}();t.AngularEntrypoint=a},function(e,t){(function(e){"use strict";function scheduleMicroTask(e){Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function getTypeNameForDebugging(e){return e.name?e.name:typeof e}function lockMode(){a=!0}function enableProdMode(){if(a)throw"Cannot enable prod mode after platform setup.";o=!1}function assertionsEnabled(){return o}function CONST_EXPR(e){return e}function CONST(){return function(e){return e}}function isPresent(e){return void 0!==e&&null!==e}function isBlank(e){return void 0===e||null===e}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isFunction(e){return"function"==typeof e}function isType(e){return isFunction(e)}function isStringMap(e){return"object"==typeof e&&null!==e}function isPromise(e){return e instanceof i.Promise}function isArray(e){return Array.isArray(e)}function isDate(e){return e instanceof t.Date&&!isNaN(e.valueOf())}function noop(){}function stringify(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.name)return e.name;if(e.overriddenName)return e.overriddenName;var t=e.toString(),n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function serializeEnum(e){return e}function deserializeEnum(e,t){return e}function resolveEnumToken(e,t){return e[t]}function looseIdentical(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function getMapKey(e){return e}function normalizeBlank(e){return isBlank(e)?null:e}function normalizeBool(e){return isBlank(e)?!1:e}function isJsObject(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function print(e){}function setValueOnPath(e,t,n){for(var r=t.split("."),i=e;r.length>1;){var o=r.shift();i=i.hasOwnProperty(o)&&isPresent(i[o])?i[o]:i[o]={}}void 0!==i&&null!==i||(i={}),i[r.shift()]=n}function getSymbolIterator(){if(isBlank(m))if(isPresent(Symbol)&&isPresent(Symbol.iterator))m=Symbol.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),t=0;t<e.length;++t){var n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(m=n)}return m}function evalExpression(e,t,n,r){var i=n+"\nreturn "+t+"\n//# sourceURL="+e,o=[],a=[];for(var s in r)o.push(s),a.push(r[s]);return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,a)}function isPrimitive(e){return!isJsObject(e)}function hasConstructor(e,t){return e.constructor===t}function bitWiseOr(e){return e.reduce(function(e,t){return e|t})}function bitWiseAnd(e){return e.reduce(function(e,t){return e&t})}function escape(e){return i.encodeURI(e)}var n,r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)};n="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:e:window,t.scheduleMicroTask=scheduleMicroTask,t.IS_DART=!1;var i=n;t.global=i,t.Type=Function,t.getTypeNameForDebugging=getTypeNameForDebugging,t.Math=i.Math,t.Date=i.Date;var o=!0,a=!1;t.lockMode=lockMode,t.enableProdMode=enableProdMode,t.assertionsEnabled=assertionsEnabled,i.assert=function(e){},t.CONST_EXPR=CONST_EXPR,t.CONST=CONST,t.isPresent=isPresent,t.isBlank=isBlank,t.isBoolean=isBoolean,t.isNumber=isNumber,t.isString=isString,t.isFunction=isFunction,t.isType=isType,t.isStringMap=isStringMap,t.isPromise=isPromise,t.isArray=isArray,t.isDate=isDate,t.noop=noop,t.stringify=stringify,t.serializeEnum=serializeEnum,t.deserializeEnum=deserializeEnum,t.resolveEnumToken=resolveEnumToken;var s=function(){function StringWrapper(){}return StringWrapper.fromCharCode=function(e){return String.fromCharCode(e)},StringWrapper.charCodeAt=function(e,t){return e.charCodeAt(t)},StringWrapper.split=function(e,t){return e.split(t)},StringWrapper.equals=function(e,t){return e===t},StringWrapper.stripLeft=function(e,t){if(e&&e.length){for(var n=0,r=0;r<e.length&&e[r]==t;r++)n++;e=e.substring(n)}return e},StringWrapper.stripRight=function(e,t){if(e&&e.length){for(var n=e.length,r=e.length-1;r>=0&&e[r]==t;r--)n--;e=e.substring(0,n)}return e},StringWrapper.replace=function(e,t,n){return e.replace(t,n)},StringWrapper.replaceAll=function(e,t,n){return e.replace(t,n)},StringWrapper.slice=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=null),e.slice(t,null===n?void 0:n)},StringWrapper.replaceAllMapped=function(e,t,n){return e.replace(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e.splice(-2,2),n(e)})},StringWrapper.contains=function(e,t){return-1!=e.indexOf(t)},StringWrapper.compare=function(e,t){return t>e?-1:e>t?1:0},StringWrapper}();t.StringWrapper=s;var c=function(){function StringJoiner(e){void 0===e&&(e=[]),this.parts=e}return StringJoiner.prototype.add=function(e){this.parts.push(e)},StringJoiner.prototype.toString=function(){return this.parts.join("")},StringJoiner}();t.StringJoiner=c;var u=function(e){function NumberParseError(t){e.call(this),this.message=t}return r(NumberParseError,e),NumberParseError.prototype.toString=function(){return this.message},NumberParseError}(Error);t.NumberParseError=u;var l=function(){function NumberWrapper(){}return NumberWrapper.toFixed=function(e,t){return e.toFixed(t)},NumberWrapper.equal=function(e,t){return e===t},NumberWrapper.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new u("Invalid integer literal when parsing "+e);return t},NumberWrapper.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var n=parseInt(e,t);if(!isNaN(n))return n}throw new u("Invalid integer literal when parsing "+e+" in base "+t)},NumberWrapper.parseFloat=function(e){return parseFloat(e)},Object.defineProperty(NumberWrapper,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),NumberWrapper.isNaN=function(e){return isNaN(e)},NumberWrapper.isInteger=function(e){return Number.isInteger(e)},NumberWrapper}();t.NumberWrapper=l,t.RegExp=i.RegExp;var p=function(){function RegExpWrapper(){}return RegExpWrapper.create=function(e,t){return void 0===t&&(t=""),t=t.replace(/g/g,""),new i.RegExp(e,t+"g")},RegExpWrapper.firstMatch=function(e,t){return e.lastIndex=0,e.exec(t)},RegExpWrapper.test=function(e,t){return e.lastIndex=0,e.test(t)},RegExpWrapper.matcher=function(e,t){return e.lastIndex=0,{re:e,input:t}},RegExpWrapper.replaceAll=function(e,t,n){var r=e.exec(t),i="";e.lastIndex=0;for(var o=0;r;)i+=t.substring(o,r.index),i+=n(r),o=r.index+r[0].length,e.lastIndex=o,r=e.exec(t);return i+=t.substring(o)},RegExpWrapper}();t.RegExpWrapper=p;var h=function(){function RegExpMatcherWrapper(){}return RegExpMatcherWrapper.next=function(e){return e.re.exec(e.input)},RegExpMatcherWrapper}();t.RegExpMatcherWrapper=h;var f=function(){function FunctionWrapper(){}return FunctionWrapper.apply=function(e,t){return e.apply(null,t)},FunctionWrapper}();t.FunctionWrapper=f,t.looseIdentical=looseIdentical,t.getMapKey=getMapKey,t.normalizeBlank=normalizeBlank,t.normalizeBool=normalizeBool,t.isJsObject=isJsObject,t.print=print;var d=function(){function Json(){}return Json.parse=function(e){return i.JSON.parse(e)},Json.stringify=function(e){return i.JSON.stringify(e,null,2)},Json}();t.Json=d;var y=function(){function DateWrapper(){}return DateWrapper.create=function(e,n,r,i,o,a,s){return void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),new t.Date(e,n-1,r,i,o,a,s)},DateWrapper.fromISOString=function(e){return new t.Date(e)},DateWrapper.fromMillis=function(e){return new t.Date(e)},DateWrapper.toMillis=function(e){return e.getTime()},DateWrapper.now=function(){return new t.Date},DateWrapper.toJson=function(e){return e.toJSON()},DateWrapper}();t.DateWrapper=y,t.setValueOnPath=setValueOnPath;var m=null;t.getSymbolIterator=getSymbolIterator,t.evalExpression=evalExpression,t.isPrimitive=isPrimitive,t.hasConstructor=hasConstructor,t.bitWiseOr=bitWiseOr,t.bitWiseAnd=bitWiseAnd,t.escape=escape}).call(t,function(){return this}())},function(e,t,n){"use strict";function _exceptionHandler(){return new a.ExceptionHandler(u.DOM,!r.IS_DART)}function _document(){return u.DOM.defaultDoc()}function initDomAdapter(){_.BrowserDomAdapter.makeCurrent(),C.wtfInit(),b.BrowserGetTestability.init()}var r=n(8),i=n(10),o=n(28),a=n(29),s=n(123),c=n(94),u=n(172),l=n(173),p=n(175),h=n(176),f=n(178),d=n(179),y=n(187),m=n(187),g=n(186),v=n(180),_=n(188),b=n(191),w=n(192),C=n(193),P=n(174),R=n(176),S=n(194),E=n(178);t.DOCUMENT=E.DOCUMENT;var D=n(198);t.Title=D.Title;var A=n(194);t.ELEMENT_PROBE_PROVIDERS=A.ELEMENT_PROBE_PROVIDERS,t.ELEMENT_PROBE_PROVIDERS_PROD_MODE=A.ELEMENT_PROBE_PROVIDERS_PROD_MODE,t.inspectNativeElement=A.inspectNativeElement,t.By=A.By;var O=n(188);t.BrowserDomAdapter=O.BrowserDomAdapter;var T=n(199);t.enableDebugTools=T.enableDebugTools,t.disableDebugTools=T.disableDebugTools;var I=n(176);t.HAMMER_GESTURE_CONFIG=I.HAMMER_GESTURE_CONFIG,t.HammerGestureConfig=I.HammerGestureConfig,t.BROWSER_PROVIDERS=r.CONST_EXPR([a.PLATFORM_COMMON_PROVIDERS,new i.Provider(a.PLATFORM_INITIALIZER,{useValue:initDomAdapter,multi:!0})]),t.BROWSER_APP_COMMON_PROVIDERS=r.CONST_EXPR([a.APPLICATION_COMMON_PROVIDERS,s.FORM_PROVIDERS,new i.Provider(a.PLATFORM_PIPES,{useValue:s.COMMON_PIPES,multi:!0}),new i.Provider(a.PLATFORM_DIRECTIVES,{useValue:s.COMMON_DIRECTIVES,multi:!0}),new i.Provider(a.ExceptionHandler,{useFactory:_exceptionHandler,deps:[]}),new i.Provider(f.DOCUMENT,{useFactory:_document,deps:[]}),new i.Provider(P.EVENT_MANAGER_PLUGINS,{useClass:l.DomEventsPlugin,multi:!0}),new i.Provider(P.EVENT_MANAGER_PLUGINS,{useClass:p.KeyEventsPlugin,multi:!0}),new i.Provider(P.EVENT_MANAGER_PLUGINS,{useClass:h.HammerGesturesPlugin,multi:!0}),new i.Provider(R.HAMMER_GESTURE_CONFIG,{useClass:R.HammerGestureConfig}),new i.Provider(d.DomRootRenderer,{useClass:d.DomRootRenderer_}),new i.Provider(a.RootRenderer,{useExisting:d.DomRootRenderer}),new i.Provider(m.SharedStylesHost,{useExisting:y.DomSharedStylesHost}),y.DomSharedStylesHost,c.Testability,g.BrowserDetails,v.AnimationBuilder,P.EventManager,S.ELEMENT_PROBE_PROVIDERS]),t.CACHED_TEMPLATE_PROVIDER=r.CONST_EXPR([new i.Provider(o.XHR,{useClass:w.CachedXHR})]),t.initDomAdapter=initDomAdapter},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(11);t.InjectMetadata=r.InjectMetadata,t.OptionalMetadata=r.OptionalMetadata,t.InjectableMetadata=r.InjectableMetadata,t.SelfMetadata=r.SelfMetadata,t.HostMetadata=r.HostMetadata,t.SkipSelfMetadata=r.SkipSelfMetadata,t.DependencyMetadata=r.DependencyMetadata,__export(n(12));var i=n(14);t.forwardRef=i.forwardRef,t.resolveForwardRef=i.resolveForwardRef;var o=n(15);t.Injector=o.Injector;var a=n(17);t.Binding=a.Binding,t.ProviderBuilder=a.ProviderBuilder,t.ResolvedFactory=a.ResolvedFactory,t.Dependency=a.Dependency,t.bind=a.bind,t.Provider=a.Provider,t.provide=a.provide;var s=n(25);t.Key=s.Key;var c=n(26);t.NoProviderError=c.NoProviderError,t.AbstractProviderError=c.AbstractProviderError,t.CyclicDependencyError=c.CyclicDependencyError,t.InstantiationError=c.InstantiationError,t.InvalidProviderError=c.InvalidProviderError,t.NoAnnotationError=c.NoAnnotationError,t.OutOfBoundsError=c.OutOfBoundsError;var u=n(27);t.OpaqueToken=u.OpaqueToken},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=function(){function InjectMetadata(e){this.token=e}return InjectMetadata.prototype.toString=function(){return"@Inject("+o.stringify(this.token)+")"},InjectMetadata=r([o.CONST(),i("design:paramtypes",[Object])],InjectMetadata)}();t.InjectMetadata=a;var s=function(){function OptionalMetadata(){}return OptionalMetadata.prototype.toString=function(){return"@Optional()"},OptionalMetadata=r([o.CONST(),i("design:paramtypes",[])],OptionalMetadata)}();t.OptionalMetadata=s;var c=function(){function DependencyMetadata(){}return Object.defineProperty(DependencyMetadata.prototype,"token",{get:function(){return null},enumerable:!0,configurable:!0}),DependencyMetadata=r([o.CONST(),i("design:paramtypes",[])],DependencyMetadata)}();t.DependencyMetadata=c;var u=function(){function InjectableMetadata(){}return InjectableMetadata=r([o.CONST(),i("design:paramtypes",[])],InjectableMetadata)}();t.InjectableMetadata=u;var l=function(){function SelfMetadata(){}return SelfMetadata.prototype.toString=function(){return"@Self()"},SelfMetadata=r([o.CONST(),i("design:paramtypes",[])],SelfMetadata)}();t.SelfMetadata=l;var p=function(){function SkipSelfMetadata(){}return SkipSelfMetadata.prototype.toString=function(){return"@SkipSelf()"},SkipSelfMetadata=r([o.CONST(),i("design:paramtypes",[])],SkipSelfMetadata)}();t.SkipSelfMetadata=p;var h=function(){function HostMetadata(){}return HostMetadata.prototype.toString=function(){return"@Host()"},HostMetadata=r([o.CONST(),i("design:paramtypes",[])],HostMetadata)}();t.HostMetadata=h},function(e,t,n){"use strict";var r=n(11),i=n(13);t.Inject=i.makeParamDecorator(r.InjectMetadata),t.Optional=i.makeParamDecorator(r.OptionalMetadata),t.Injectable=i.makeDecorator(r.InjectableMetadata),t.Self=i.makeParamDecorator(r.SelfMetadata),t.Host=i.makeParamDecorator(r.HostMetadata),t.SkipSelf=i.makeParamDecorator(r.SkipSelfMetadata)},function(e,t,n){"use strict";function extractAnnotation(e){return r.isFunction(e)&&e.hasOwnProperty("annotation")&&(e=e.annotation),e}function applyParams(e,t){if(e===Object||e===String||e===Function||e===Number||e===Array)throw new Error("Can not use native "+r.stringify(e)+" as constructor");if(r.isFunction(e))return e;if(e instanceof Array){var n=e,i=e[e.length-1];if(!r.isFunction(i))throw new Error("Last position of Class method array must be Function in key "+t+" was '"+r.stringify(i)+"'");var a=n.length-1;if(a!=i.length)throw new Error("Number of annotations ("+a+") does not match number of arguments ("+i.length+") in the function: "+r.stringify(i));for(var s=[],c=0,u=n.length-1;u>c;c++){var l=[];s.push(l);var p=n[c];if(p instanceof Array)for(var h=0;h<p.length;h++)l.push(extractAnnotation(p[h]));else r.isFunction(p)?l.push(extractAnnotation(p)):l.push(p)}return o.defineMetadata("parameters",s,i),i}throw new Error("Only Function or Array is supported in Class definition for key '"+t+"' is '"+r.stringify(e)+"'")}function Class(e){var t=applyParams(e.hasOwnProperty("constructor")?e.constructor:void 0,"constructor"),n=t.prototype;if(e.hasOwnProperty("extends")){if(!r.isFunction(e["extends"]))throw new Error("Class definition 'extends' property must be a constructor function was: "+r.stringify(e["extends"]));t.prototype=n=Object.create(e["extends"].prototype)}for(var a in e)"extends"!=a&&"prototype"!=a&&e.hasOwnProperty(a)&&(n[a]=applyParams(e[a],a));return this&&this.annotations instanceof Array&&o.defineMetadata("annotations",this.annotations,t),t.name||(t.overriddenName="class"+i++),t}function makeDecorator(e,t){function DecoratorFactory(n){var i=new e(n);if(this instanceof e)return i;var a=r.isFunction(this)&&this.annotations instanceof Array?this.annotations:[];a.push(i);var s=function(e){var t=o.getOwnMetadata("annotations",e);return t=t||[],t.push(i),o.defineMetadata("annotations",t,e),e};return s.annotations=a,s.Class=Class,t&&t(s),s}return void 0===t&&(t=null),DecoratorFactory.prototype=Object.create(e.prototype),DecoratorFactory}function makeParamDecorator(e){function ParamDecoratorFactory(){function ParamDecorator(e,t,n){var i=o.getMetadata("parameters",e);for(i=i||[];i.length<=n;)i.push(null);i[n]=i[n]||[];var a=i[n];return a.push(r),o.defineMetadata("parameters",i,e),e}for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=Object.create(e.prototype);return e.apply(r,t),this instanceof e?r:(ParamDecorator.annotation=r,ParamDecorator)}return ParamDecoratorFactory.prototype=Object.create(e.prototype),ParamDecoratorFactory}function makePropDecorator(e){function PropDecoratorFactory(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=Object.create(e.prototype);return e.apply(r,t),this instanceof e?r:function(e,t){var n=o.getOwnMetadata("propMetadata",e.constructor);n=n||{},n[t]=n[t]||[],n[t].unshift(r),o.defineMetadata("propMetadata",n,e.constructor)}}return PropDecoratorFactory.prototype=Object.create(e.prototype),PropDecoratorFactory}var r=n(8),i=0;t.Class=Class;var o=r.global.Reflect;!function(){if(!o||!o.getMetadata)throw"reflect-metadata shim is required when using class decorators"}(),t.makeDecorator=makeDecorator,t.makeParamDecorator=makeParamDecorator,t.makePropDecorator=makePropDecorator},function(e,t,n){"use strict";function forwardRef(e){return e.__forward_ref__=forwardRef,e.toString=function(){return r.stringify(this())},e}function resolveForwardRef(e){return r.isFunction(e)&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===forwardRef?e():e}var r=n(8);t.forwardRef=forwardRef,t.resolveForwardRef=resolveForwardRef},function(e,t,n){"use strict";function canSee(e,t){return e===t||t===p.PublicAndPrivate||e===p.PublicAndPrivate}function _mapProviders(e,t){for(var n=[],r=0;r<e._proto.numberOfProviders;++r)n.push(t(e._proto.getProviderAtIndex(r)));return n}var r=n(16),i=n(17),o=n(26),a=n(8),s=n(18),c=n(25),u=n(11),l=10;t.UNDEFINED=a.CONST_EXPR(new Object),function(e){e[e.Public=0]="Public",e[e.Private=1]="Private",e[e.PublicAndPrivate=2]="PublicAndPrivate"}(t.Visibility||(t.Visibility={}));var p=t.Visibility,h=function(){function ProtoInjectorInlineStrategy(e,t){this.provider0=null,this.provider1=null,this.provider2=null,this.provider3=null,this.provider4=null,this.provider5=null,this.provider6=null,this.provider7=null,this.provider8=null,this.provider9=null,this.keyId0=null,this.keyId1=null,this.keyId2=null,this.keyId3=null,this.keyId4=null,this.keyId5=null,this.keyId6=null,this.keyId7=null,this.keyId8=null,this.keyId9=null,this.visibility0=null,this.visibility1=null,this.visibility2=null,this.visibility3=null,this.visibility4=null,this.visibility5=null,this.visibility6=null,this.visibility7=null,this.visibility8=null,this.visibility9=null;var n=t.length;n>0&&(this.provider0=t[0].provider,this.keyId0=t[0].getKeyId(),this.visibility0=t[0].visibility),n>1&&(this.provider1=t[1].provider,this.keyId1=t[1].getKeyId(),this.visibility1=t[1].visibility),n>2&&(this.provider2=t[2].provider,this.keyId2=t[2].getKeyId(),this.visibility2=t[2].visibility),n>3&&(this.provider3=t[3].provider,this.keyId3=t[3].getKeyId(),this.visibility3=t[3].visibility),n>4&&(this.provider4=t[4].provider,this.keyId4=t[4].getKeyId(),this.visibility4=t[4].visibility),n>5&&(this.provider5=t[5].provider,this.keyId5=t[5].getKeyId(),this.visibility5=t[5].visibility),n>6&&(this.provider6=t[6].provider,this.keyId6=t[6].getKeyId(),this.visibility6=t[6].visibility),n>7&&(this.provider7=t[7].provider,this.keyId7=t[7].getKeyId(),this.visibility7=t[7].visibility),n>8&&(this.provider8=t[8].provider,this.keyId8=t[8].getKeyId(),this.visibility8=t[8].visibility),n>9&&(this.provider9=t[9].provider,this.keyId9=t[9].getKeyId(),this.visibility9=t[9].visibility)}return ProtoInjectorInlineStrategy.prototype.getProviderAtIndex=function(e){if(0==e)return this.provider0;if(1==e)return this.provider1;if(2==e)return this.provider2;if(3==e)return this.provider3;if(4==e)return this.provider4;if(5==e)return this.provider5;if(6==e)return this.provider6;if(7==e)return this.provider7;if(8==e)return this.provider8;if(9==e)return this.provider9;throw new o.OutOfBoundsError(e)},ProtoInjectorInlineStrategy.prototype.createInjectorStrategy=function(e){return new y(e,this)},ProtoInjectorInlineStrategy}();t.ProtoInjectorInlineStrategy=h;var f=function(){function ProtoInjectorDynamicStrategy(e,t){var n=t.length;this.providers=r.ListWrapper.createFixedSize(n),this.keyIds=r.ListWrapper.createFixedSize(n),this.visibilities=r.ListWrapper.createFixedSize(n);for(var i=0;n>i;i++)this.providers[i]=t[i].provider,this.keyIds[i]=t[i].getKeyId(),this.visibilities[i]=t[i].visibility}return ProtoInjectorDynamicStrategy.prototype.getProviderAtIndex=function(e){if(0>e||e>=this.providers.length)throw new o.OutOfBoundsError(e);return this.providers[e]},ProtoInjectorDynamicStrategy.prototype.createInjectorStrategy=function(e){return new m(this,e)},ProtoInjectorDynamicStrategy}();t.ProtoInjectorDynamicStrategy=f;var d=function(){function ProtoInjector(e){this.numberOfProviders=e.length,this._strategy=e.length>l?new f(this,e):new h(this,e)}return ProtoInjector.fromResolvedProviders=function(e){var t=e.map(function(e){return new g(e,p.Public)});return new ProtoInjector(t)},ProtoInjector.prototype.getProviderAtIndex=function(e){return this._strategy.getProviderAtIndex(e)},ProtoInjector}();t.ProtoInjector=d;var y=function(){function InjectorInlineStrategy(e,n){this.injector=e,this.protoStrategy=n,this.obj0=t.UNDEFINED,this.obj1=t.UNDEFINED,this.obj2=t.UNDEFINED,this.obj3=t.UNDEFINED,this.obj4=t.UNDEFINED,this.obj5=t.UNDEFINED,this.obj6=t.UNDEFINED,this.obj7=t.UNDEFINED,this.obj8=t.UNDEFINED,this.obj9=t.UNDEFINED}return InjectorInlineStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},InjectorInlineStrategy.prototype.instantiateProvider=function(e,t){return this.injector._new(e,t)},InjectorInlineStrategy.prototype.getObjByKeyId=function(e,n){var r=this.protoStrategy,i=this.injector;return r.keyId0===e&&canSee(r.visibility0,n)?(this.obj0===t.UNDEFINED&&(this.obj0=i._new(r.provider0,r.visibility0)),this.obj0):r.keyId1===e&&canSee(r.visibility1,n)?(this.obj1===t.UNDEFINED&&(this.obj1=i._new(r.provider1,r.visibility1)),this.obj1):r.keyId2===e&&canSee(r.visibility2,n)?(this.obj2===t.UNDEFINED&&(this.obj2=i._new(r.provider2,r.visibility2)),this.obj2):r.keyId3===e&&canSee(r.visibility3,n)?(this.obj3===t.UNDEFINED&&(this.obj3=i._new(r.provider3,r.visibility3)),this.obj3):r.keyId4===e&&canSee(r.visibility4,n)?(this.obj4===t.UNDEFINED&&(this.obj4=i._new(r.provider4,r.visibility4)),this.obj4):r.keyId5===e&&canSee(r.visibility5,n)?(this.obj5===t.UNDEFINED&&(this.obj5=i._new(r.provider5,r.visibility5)),this.obj5):r.keyId6===e&&canSee(r.visibility6,n)?(this.obj6===t.UNDEFINED&&(this.obj6=i._new(r.provider6,r.visibility6)),this.obj6):r.keyId7===e&&canSee(r.visibility7,n)?(this.obj7===t.UNDEFINED&&(this.obj7=i._new(r.provider7,r.visibility7)),this.obj7):r.keyId8===e&&canSee(r.visibility8,n)?(this.obj8===t.UNDEFINED&&(this.obj8=i._new(r.provider8,r.visibility8)),this.obj8):r.keyId9===e&&canSee(r.visibility9,n)?(this.obj9===t.UNDEFINED&&(this.obj9=i._new(r.provider9,r.visibility9)),this.obj9):t.UNDEFINED},InjectorInlineStrategy.prototype.getObjAtIndex=function(e){if(0==e)return this.obj0;if(1==e)return this.obj1;if(2==e)return this.obj2;if(3==e)return this.obj3;if(4==e)return this.obj4;if(5==e)return this.obj5;if(6==e)return this.obj6;if(7==e)return this.obj7;if(8==e)return this.obj8;if(9==e)return this.obj9;throw new o.OutOfBoundsError(e)},InjectorInlineStrategy.prototype.getMaxNumberOfObjects=function(){return l},InjectorInlineStrategy}();t.InjectorInlineStrategy=y;var m=function(){function InjectorDynamicStrategy(e,n){this.protoStrategy=e,this.injector=n,this.objs=r.ListWrapper.createFixedSize(e.providers.length),r.ListWrapper.fill(this.objs,t.UNDEFINED)}return InjectorDynamicStrategy.prototype.resetConstructionCounter=function(){this.injector._constructionCounter=0},InjectorDynamicStrategy.prototype.instantiateProvider=function(e,t){return this.injector._new(e,t)},InjectorDynamicStrategy.prototype.getObjByKeyId=function(e,n){for(var r=this.protoStrategy,i=0;i<r.keyIds.length;i++)if(r.keyIds[i]===e&&canSee(r.visibilities[i],n))return this.objs[i]===t.UNDEFINED&&(this.objs[i]=this.injector._new(r.providers[i],r.visibilities[i])),this.objs[i];return t.UNDEFINED},InjectorDynamicStrategy.prototype.getObjAtIndex=function(e){if(0>e||e>=this.objs.length)throw new o.OutOfBoundsError(e);return this.objs[e]},InjectorDynamicStrategy.prototype.getMaxNumberOfObjects=function(){return this.objs.length},InjectorDynamicStrategy}();t.InjectorDynamicStrategy=m;var g=function(){function ProviderWithVisibility(e,t){this.provider=e,this.visibility=t}return ProviderWithVisibility.prototype.getKeyId=function(){return this.provider.key.id},ProviderWithVisibility}();t.ProviderWithVisibility=g;var v=function(){function Injector(e,t,n,r,i){void 0===t&&(t=null),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===i&&(i=null),this._isHostBoundary=n,this._depProvider=r,this._debugContext=i,this._constructionCounter=0,this._proto=e,this._parent=t,this._strategy=e._strategy.createInjectorStrategy(this)}return Injector.resolve=function(e){return i.resolveProviders(e)},Injector.resolveAndCreate=function(e){var t=Injector.resolve(e);return Injector.fromResolvedProviders(t)},Injector.fromResolvedProviders=function(e){return new Injector(d.fromResolvedProviders(e))},Injector.fromResolvedBindings=function(e){return Injector.fromResolvedProviders(e)},Object.defineProperty(Injector.prototype,"hostBoundary",{get:function(){return this._isHostBoundary},enumerable:!0,configurable:!0}),Injector.prototype.debugContext=function(){return this._debugContext()},Injector.prototype.get=function(e){return this._getByKey(c.Key.get(e),null,null,!1,p.PublicAndPrivate)},Injector.prototype.getOptional=function(e){return this._getByKey(c.Key.get(e),null,null,!0,p.PublicAndPrivate)},Injector.prototype.getAt=function(e){return this._strategy.getObjAtIndex(e)},Object.defineProperty(Injector.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Injector.prototype,"internalStrategy",{get:function(){return this._strategy},enumerable:!0,configurable:!0}),Injector.prototype.resolveAndCreateChild=function(e){var t=Injector.resolve(e);return this.createChildFromResolved(t)},Injector.prototype.createChildFromResolved=function(e){var t=e.map(function(e){return new g(e,p.Public)}),n=new d(t),r=new Injector(n);return r._parent=this,r},Injector.prototype.resolveAndInstantiate=function(e){return this.instantiateResolved(Injector.resolve([e])[0])},Injector.prototype.instantiateResolved=function(e){return this._instantiateProvider(e,p.PublicAndPrivate)},Injector.prototype._new=function(e,t){if(this._constructionCounter++>this._strategy.getMaxNumberOfObjects())throw new o.CyclicDependencyError(this,e.key);return this._instantiateProvider(e,t)},Injector.prototype._instantiateProvider=function(e,t){if(e.multiProvider){for(var n=r.ListWrapper.createFixedSize(e.resolvedFactories.length),i=0;i<e.resolvedFactories.length;++i)n[i]=this._instantiate(e,e.resolvedFactories[i],t);return n}return this._instantiate(e,e.resolvedFactories[0],t)},Injector.prototype._instantiate=function(e,t,n){var r,i,a,c,u,l,p,h,f,d,y,m,g,v,_,b,w,C,P,R,S=t.factory,E=t.dependencies,D=E.length;try{r=D>0?this._getByDependency(e,E[0],n):null,i=D>1?this._getByDependency(e,E[1],n):null,a=D>2?this._getByDependency(e,E[2],n):null,c=D>3?this._getByDependency(e,E[3],n):null,u=D>4?this._getByDependency(e,E[4],n):null,l=D>5?this._getByDependency(e,E[5],n):null,p=D>6?this._getByDependency(e,E[6],n):null,h=D>7?this._getByDependency(e,E[7],n):null,f=D>8?this._getByDependency(e,E[8],n):null,d=D>9?this._getByDependency(e,E[9],n):null,y=D>10?this._getByDependency(e,E[10],n):null,m=D>11?this._getByDependency(e,E[11],n):null,g=D>12?this._getByDependency(e,E[12],n):null,v=D>13?this._getByDependency(e,E[13],n):null,_=D>14?this._getByDependency(e,E[14],n):null,b=D>15?this._getByDependency(e,E[15],n):null,w=D>16?this._getByDependency(e,E[16],n):null,C=D>17?this._getByDependency(e,E[17],n):null,P=D>18?this._getByDependency(e,E[18],n):null,R=D>19?this._getByDependency(e,E[19],n):null}catch(A){throw(A instanceof o.AbstractProviderError||A instanceof o.InstantiationError)&&A.addKey(this,e.key),A}var O;try{switch(D){case 0:O=S();break;case 1:O=S(r);break;case 2:O=S(r,i);break;case 3:O=S(r,i,a);break;case 4:O=S(r,i,a,c);break;case 5:O=S(r,i,a,c,u);break;case 6:O=S(r,i,a,c,u,l);break;case 7:O=S(r,i,a,c,u,l,p);break;case 8:O=S(r,i,a,c,u,l,p,h);break;case 9:O=S(r,i,a,c,u,l,p,h,f);break;case 10:O=S(r,i,a,c,u,l,p,h,f,d);break;case 11:O=S(r,i,a,c,u,l,p,h,f,d,y);break;case 12:O=S(r,i,a,c,u,l,p,h,f,d,y,m);break;case 13:O=S(r,i,a,c,u,l,p,h,f,d,y,m,g);break;case 14:O=S(r,i,a,c,u,l,p,h,f,d,y,m,g,v);break;case 15:O=S(r,i,a,c,u,l,p,h,f,d,y,m,g,v,_);break;case 16:O=S(r,i,a,c,u,l,p,h,f,d,y,m,g,v,_,b);break;case 17:O=S(r,i,a,c,u,l,p,h,f,d,y,m,g,v,_,b,w);break;case 18:O=S(r,i,a,c,u,l,p,h,f,d,y,m,g,v,_,b,w,C);break;case 19:O=S(r,i,a,c,u,l,p,h,f,d,y,m,g,v,_,b,w,C,P);break;case 20:O=S(r,i,a,c,u,l,p,h,f,d,y,m,g,v,_,b,w,C,P,R);break;default:throw new s.BaseException("Cannot instantiate '"+e.key.displayName+"' because it has more than 20 dependencies")}}catch(A){throw new o.InstantiationError(this,A,A.stack,e.key)}return O},Injector.prototype._getByDependency=function(e,n,r){var i=a.isPresent(this._depProvider)?this._depProvider.getDependency(this,e,n):t.UNDEFINED;return i!==t.UNDEFINED?i:this._getByKey(n.key,n.lowerBoundVisibility,n.upperBoundVisibility,n.optional,r)},Injector.prototype._getByKey=function(e,t,n,r,i){return e===_?this:n instanceof u.SelfMetadata?this._getByKeySelf(e,r,i):n instanceof u.HostMetadata?this._getByKeyHost(e,r,i,t):this._getByKeyDefault(e,r,i,t)},Injector.prototype._throwOrNull=function(e,t){
if(t)return null;throw new o.NoProviderError(this,e)},Injector.prototype._getByKeySelf=function(e,n,r){var i=this._strategy.getObjByKeyId(e.id,r);return i!==t.UNDEFINED?i:this._throwOrNull(e,n)},Injector.prototype._getByKeyHost=function(e,n,r,i){var o=this;if(i instanceof u.SkipSelfMetadata){if(o._isHostBoundary)return this._getPrivateDependency(e,n,o);o=o._parent}for(;null!=o;){var s=o._strategy.getObjByKeyId(e.id,r);if(s!==t.UNDEFINED)return s;if(a.isPresent(o._parent)&&o._isHostBoundary)return this._getPrivateDependency(e,n,o);o=o._parent}return this._throwOrNull(e,n)},Injector.prototype._getPrivateDependency=function(e,n,r){var i=r._parent._strategy.getObjByKeyId(e.id,p.Private);return i!==t.UNDEFINED?i:this._throwOrNull(e,n)},Injector.prototype._getByKeyDefault=function(e,n,r,i){var o=this;for(i instanceof u.SkipSelfMetadata&&(r=o._isHostBoundary?p.PublicAndPrivate:p.Public,o=o._parent);null!=o;){var a=o._strategy.getObjByKeyId(e.id,r);if(a!==t.UNDEFINED)return a;r=o._isHostBoundary?p.PublicAndPrivate:p.Public,o=o._parent}return this._throwOrNull(e,n)},Object.defineProperty(Injector.prototype,"displayName",{get:function(){return"Injector(providers: ["+_mapProviders(this,function(e){return' "'+e.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),Injector.prototype.toString=function(){return this.displayName},Injector}();t.Injector=v;var _=c.Key.get(v)},function(e,t,n){"use strict";function isListLikeIterable(e){return r.isJsObject(e)?r.isArray(e)||!(e instanceof t.Map)&&r.getSymbolIterator()in e:!1}function areIterablesEqual(e,t,n){for(var i=e[r.getSymbolIterator()](),o=t[r.getSymbolIterator()]();;){var a=i.next(),s=o.next();if(a.done&&s.done)return!0;if(a.done||s.done)return!1;if(!n(a.value,s.value))return!1}}function iterateListLike(e,t){if(r.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,o=e[r.getSymbolIterator()]();!(i=o.next()).done;)t(i.value)}var r=n(8);t.Map=r.global.Map,t.Set=r.global.Set;var i=function(){try{if(1===new t.Map([[1,2]]).size)return function(e){return new t.Map(e)}}catch(e){}return function(e){for(var n=new t.Map,r=0;r<e.length;r++){var i=e[r];n.set(i[0],i[1])}return n}}(),o=function(){try{if(new t.Map(new t.Map))return function(e){return new t.Map(e)}}catch(e){}return function(e){var n=new t.Map;return e.forEach(function(e,t){n.set(t,e)}),n}}(),a=function(){return(new t.Map).keys().next?function(e){for(var t,n=e.keys();!(t=n.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,n){e.set(n,null)})}}(),s=function(){try{if((new t.Map).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var n=l.createFixedSize(e.size),r=0;return e.forEach(function(e,i){n[r]=t?e:i,r++}),n}}(),c=function(){function MapWrapper(){}return MapWrapper.clone=function(e){return o(e)},MapWrapper.createFromStringMap=function(e){var n=new t.Map;for(var r in e)n.set(r,e[r]);return n},MapWrapper.toStringMap=function(e){var t={};return e.forEach(function(e,n){return t[n]=e}),t},MapWrapper.createFromPairs=function(e){return i(e)},MapWrapper.clearValues=function(e){a(e)},MapWrapper.iterable=function(e){return e},MapWrapper.keys=function(e){return s(e,!1)},MapWrapper.values=function(e){return s(e,!0)},MapWrapper}();t.MapWrapper=c;var u=function(){function StringMapWrapper(){}return StringMapWrapper.create=function(){return{}},StringMapWrapper.contains=function(e,t){return e.hasOwnProperty(t)},StringMapWrapper.get=function(e,t){return e.hasOwnProperty(t)?e[t]:void 0},StringMapWrapper.set=function(e,t,n){e[t]=n},StringMapWrapper.keys=function(e){return Object.keys(e)},StringMapWrapper.values=function(e){return Object.keys(e).reduce(function(t,n){return t.push(e[n]),t},[])},StringMapWrapper.isEmpty=function(e){for(var t in e)return!1;return!0},StringMapWrapper["delete"]=function(e,t){delete e[t]},StringMapWrapper.forEach=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},StringMapWrapper.merge=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},StringMapWrapper.equals=function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],e[i]!==t[i])return!1;return!0},StringMapWrapper}();t.StringMapWrapper=u;var l=function(){function ListWrapper(){}return ListWrapper.createFixedSize=function(e){return new Array(e)},ListWrapper.createGrowableSize=function(e){return new Array(e)},ListWrapper.clone=function(e){return e.slice(0)},ListWrapper.forEachWithIndex=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)},ListWrapper.first=function(e){return e?e[0]:null},ListWrapper.last=function(e){return e&&0!=e.length?e[e.length-1]:null},ListWrapper.indexOf=function(e,t,n){return void 0===n&&(n=0),e.indexOf(t,n)},ListWrapper.contains=function(e,t){return-1!==e.indexOf(t)},ListWrapper.reversed=function(e){var t=ListWrapper.clone(e);return t.reverse()},ListWrapper.concat=function(e,t){return e.concat(t)},ListWrapper.insert=function(e,t,n){e.splice(t,0,n)},ListWrapper.removeAt=function(e,t){var n=e[t];return e.splice(t,1),n},ListWrapper.removeAll=function(e,t){for(var n=0;n<t.length;++n){var r=e.indexOf(t[n]);e.splice(r,1)}},ListWrapper.remove=function(e,t){var n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1},ListWrapper.clear=function(e){e.length=0},ListWrapper.isEmpty=function(e){return 0==e.length},ListWrapper.fill=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=null),e.fill(t,n,null===r?e.length:r)},ListWrapper.equals=function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},ListWrapper.slice=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=null),e.slice(t,null===n?void 0:n)},ListWrapper.splice=function(e,t,n){return e.splice(t,n)},ListWrapper.sort=function(e,t){r.isPresent(t)?e.sort(t):e.sort()},ListWrapper.toString=function(e){return e.toString()},ListWrapper.toJSON=function(e){return JSON.stringify(e)},ListWrapper.maximum=function(e,t){if(0==e.length)return null;for(var n=null,i=-(1/0),o=0;o<e.length;o++){var a=e[o];if(!r.isBlank(a)){var s=t(a);s>i&&(n=a,i=s)}}return n},ListWrapper.flatten=function(e){var t=[];return e.forEach(function(e){return t=t.concat(e)}),t},ListWrapper}();t.ListWrapper=l,t.isListLikeIterable=isListLikeIterable,t.areIterablesEqual=areIterablesEqual,t.iterateListLike=iterateListLike;var p=function(){var e=new t.Set([1,2,3]);return 3===e.size?function(e){return new t.Set(e)}:function(e){var n=new t.Set(e);if(n.size!==e.length)for(var r=0;r<e.length;r++)n.add(e[r]);return n}}(),h=function(){function SetWrapper(){}return SetWrapper.createFromList=function(e){return p(e)},SetWrapper.has=function(e,t){return e.has(t)},SetWrapper["delete"]=function(e,t){e["delete"](t)},SetWrapper}();t.SetWrapper=h},function(e,t,n){"use strict";function bind(e){return new b(e)}function provide(e,t){var n=t.useClass,r=t.useValue,i=t.useExisting,o=t.useFactory,a=t.deps,s=t.multi;return new m(e,{useClass:n,useValue:r,useExisting:i,useFactory:o,deps:a,multi:s})}function resolveFactory(e){var t,n;if(a.isPresent(e.useClass)){var r=f.resolveForwardRef(e.useClass);t=u.reflector.factory(r),n=_dependenciesFor(r)}else a.isPresent(e.useExisting)?(t=function(e){return e},n=[d.fromKey(l.Key.get(e.useExisting))]):a.isPresent(e.useFactory)?(t=e.useFactory,n=_constructDependencies(e.useFactory,e.dependencies)):(t=function(){return e.useValue},n=y);return new _(t,n)}function resolveProvider(e){return new v(l.Key.get(e.token),[resolveFactory(e)],e.multi)}function resolveProviders(e){var t=_normalizeProviders(e,[]),n=t.map(resolveProvider);return c.MapWrapper.values(mergeResolvedProviders(n,new Map))}function mergeResolvedProviders(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t.get(r.key.id);if(a.isPresent(i)){if(r.multiProvider!==i.multiProvider)throw new h.MixingMultiProvidersWithRegularProvidersError(i,r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else t.set(r.key.id,r)}else{var s;s=r.multiProvider?new v(r.key,c.ListWrapper.clone(r.resolvedFactories),r.multiProvider):r,t.set(r.key.id,s)}}return t}function _normalizeProviders(e,t){return e.forEach(function(e){if(e instanceof a.Type)t.push(provide(e,{useClass:e}));else if(e instanceof m)t.push(e);else{if(!(e instanceof Array))throw e instanceof b?new h.InvalidProviderError(e.token):new h.InvalidProviderError(e);_normalizeProviders(e,t)}}),t}function _constructDependencies(e,t){if(a.isBlank(t))return _dependenciesFor(e);var n=t.map(function(e){return[e]});return t.map(function(t){return _extractToken(e,t,n)})}function _dependenciesFor(e){var t=u.reflector.parameters(e);if(a.isBlank(t))return[];if(t.some(a.isBlank))throw new h.NoAnnotationError(e,t);return t.map(function(n){return _extractToken(e,n,t)})}function _extractToken(e,t,n){var r=[],i=null,o=!1;if(!a.isArray(t))return t instanceof p.InjectMetadata?_createDependency(t.token,o,null,null,r):_createDependency(t,o,null,null,r);for(var s=null,c=null,u=0;u<t.length;++u){var l=t[u];l instanceof a.Type?i=l:l instanceof p.InjectMetadata?i=l.token:l instanceof p.OptionalMetadata?o=!0:l instanceof p.SelfMetadata?c=l:l instanceof p.HostMetadata?c=l:l instanceof p.SkipSelfMetadata?s=l:l instanceof p.DependencyMetadata&&(a.isPresent(l.token)&&(i=l.token),r.push(l))}if(i=f.resolveForwardRef(i),a.isPresent(i))return _createDependency(i,o,s,c,r);throw new h.NoAnnotationError(e,n)}function _createDependency(e,t,n,r,i){return new d(l.Key.get(e),t,n,r,i)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=n(18),c=n(16),u=n(21),l=n(25),p=n(11),h=n(26),f=n(14),d=function(){function Dependency(e,t,n,r,i){this.key=e,this.optional=t,this.lowerBoundVisibility=n,this.upperBoundVisibility=r,this.properties=i}return Dependency.fromKey=function(e){return new Dependency(e,!1,null,null,[])},Dependency}();t.Dependency=d;var y=a.CONST_EXPR([]),m=function(){function Provider(e,t){var n=t.useClass,r=t.useValue,i=t.useExisting,o=t.useFactory,a=t.deps,s=t.multi;this.token=e,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.dependencies=a,this._multi=s}return Object.defineProperty(Provider.prototype,"multi",{get:function(){return a.normalizeBool(this._multi)},enumerable:!0,configurable:!0}),Provider=i([a.CONST(),o("design:paramtypes",[Object,Object])],Provider)}();t.Provider=m;var g=function(e){function Binding(t,n){var r=n.toClass,i=n.toValue,o=n.toAlias,a=n.toFactory,s=n.deps,c=n.multi;e.call(this,t,{useClass:r,useValue:i,useExisting:o,useFactory:a,deps:s,multi:c})}return r(Binding,e),Object.defineProperty(Binding.prototype,"toClass",{get:function(){return this.useClass},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toAlias",{get:function(){return this.useExisting},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toFactory",{get:function(){return this.useFactory},enumerable:!0,configurable:!0}),Object.defineProperty(Binding.prototype,"toValue",{get:function(){return this.useValue},enumerable:!0,configurable:!0}),Binding=i([a.CONST(),o("design:paramtypes",[Object,Object])],Binding)}(m);t.Binding=g;var v=function(){function ResolvedProvider_(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n}return Object.defineProperty(ResolvedProvider_.prototype,"resolvedFactory",{get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),ResolvedProvider_}();t.ResolvedProvider_=v;var _=function(){function ResolvedFactory(e,t){this.factory=e,this.dependencies=t}return ResolvedFactory}();t.ResolvedFactory=_,t.bind=bind,t.provide=provide;var b=function(){function ProviderBuilder(e){this.token=e}return ProviderBuilder.prototype.toClass=function(e){if(!a.isType(e))throw new s.BaseException('Trying to create a class provider but "'+a.stringify(e)+'" is not a class!');return new m(this.token,{useClass:e})},ProviderBuilder.prototype.toValue=function(e){return new m(this.token,{useValue:e})},ProviderBuilder.prototype.toAlias=function(e){if(a.isBlank(e))throw new s.BaseException("Can not alias "+a.stringify(this.token)+" to a blank value!");return new m(this.token,{useExisting:e})},ProviderBuilder.prototype.toFactory=function(e,t){if(!a.isFunction(e))throw new s.BaseException('Trying to create a factory provider but "'+a.stringify(e)+'" is not a function!');return new m(this.token,{useFactory:e,deps:t})},ProviderBuilder}();t.ProviderBuilder=b,t.resolveFactory=resolveFactory,t.resolveProvider=resolveProvider,t.resolveProviders=resolveProviders,t.mergeResolvedProviders=mergeResolvedProviders},function(e,t,n){"use strict";function makeTypeError(e){return new TypeError(e)}function unimplemented(){throw new s("unimplemented")}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(19),o=n(20),a=n(20);t.ExceptionHandler=a.ExceptionHandler;var s=function(e){function BaseException(t){void 0===t&&(t="--"),e.call(this,t),this.message=t,this.stack=new Error(t).stack}return r(BaseException,e),BaseException.prototype.toString=function(){return this.message},BaseException}(Error);t.BaseException=s;var c=function(e){function WrappedException(t,n,r,i){e.call(this,t),this._wrapperMessage=t,this._originalException=n,this._originalStack=r,this._context=i,this._wrapperStack=new Error(t).stack}return r(WrappedException,e),Object.defineProperty(WrappedException.prototype,"wrapperMessage",{get:function(){return this._wrapperMessage},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"wrapperStack",{get:function(){return this._wrapperStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalException",{get:function(){return this._originalException},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"originalStack",{get:function(){return this._originalStack},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(WrappedException.prototype,"message",{get:function(){return o.ExceptionHandler.exceptionToString(this)},enumerable:!0,configurable:!0}),WrappedException.prototype.toString=function(){return this.message},WrappedException}(i.BaseWrappedException);t.WrappedException=c,t.makeTypeError=makeTypeError,t.unimplemented=unimplemented},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=function(e){function BaseWrappedException(t){e.call(this,t)}return n(BaseWrappedException,e),Object.defineProperty(BaseWrappedException.prototype,"wrapperMessage",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"wrapperStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalException",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"originalStack",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(BaseWrappedException.prototype,"message",{get:function(){return""},enumerable:!0,configurable:!0}),BaseWrappedException}(Error);t.BaseWrappedException=r},function(e,t,n){"use strict";var r=n(8),i=n(19),o=n(16),a=function(){function _ArrayLogger(){this.res=[]}return _ArrayLogger.prototype.log=function(e){this.res.push(e)},_ArrayLogger.prototype.logError=function(e){this.res.push(e)},_ArrayLogger.prototype.logGroup=function(e){this.res.push(e)},_ArrayLogger.prototype.logGroupEnd=function(){},_ArrayLogger}(),s=function(){function ExceptionHandler(e,t){void 0===t&&(t=!0),this._logger=e,this._rethrowException=t}return ExceptionHandler.exceptionToString=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var r=new a,i=new ExceptionHandler(r,!1);return i.call(e,t,n),r.res.join("\n")},ExceptionHandler.prototype.call=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this._findOriginalException(e),o=this._findOriginalStack(e),a=this._findContext(e);if(this._logger.logGroup("EXCEPTION: "+this._extractMessage(e)),r.isPresent(t)&&r.isBlank(o)&&(this._logger.logError("STACKTRACE:"),this._logger.logError(this._longStackTrace(t))),r.isPresent(n)&&this._logger.logError("REASON: "+n),r.isPresent(i)&&this._logger.logError("ORIGINAL EXCEPTION: "+this._extractMessage(i)),r.isPresent(o)&&(this._logger.logError("ORIGINAL STACKTRACE:"),this._logger.logError(this._longStackTrace(o))),r.isPresent(a)&&(this._logger.logError("ERROR CONTEXT:"),this._logger.logError(a)),this._logger.logGroupEnd(),this._rethrowException)throw e},ExceptionHandler.prototype._extractMessage=function(e){return e instanceof i.BaseWrappedException?e.wrapperMessage:e.toString()},ExceptionHandler.prototype._longStackTrace=function(e){return o.isListLikeIterable(e)?e.join("\n\n-----async gap-----\n"):e.toString()},ExceptionHandler.prototype._findContext=function(e){try{return e instanceof i.BaseWrappedException?r.isPresent(e.context)?e.context:this._findContext(e.originalException):null}catch(t){return null}},ExceptionHandler.prototype._findOriginalException=function(e){if(!(e instanceof i.BaseWrappedException))return null;for(var t=e.originalException;t instanceof i.BaseWrappedException&&r.isPresent(t.originalException);)t=t.originalException;return t},ExceptionHandler.prototype._findOriginalStack=function(e){if(!(e instanceof i.BaseWrappedException))return null;for(var t=e,n=e.originalStack;t instanceof i.BaseWrappedException&&r.isPresent(t.originalException);)t=t.originalException,t instanceof i.BaseWrappedException&&r.isPresent(t.originalException)&&(n=t.originalStack);return n},ExceptionHandler}();t.ExceptionHandler=s},function(e,t,n){"use strict";var r=n(22),i=n(22);t.Reflector=i.Reflector,t.ReflectionInfo=i.ReflectionInfo;var o=n(24);t.reflector=new r.Reflector(new o.ReflectionCapabilities)},function(e,t,n){"use strict";function _mergeMaps(e,t){a.StringMapWrapper.forEach(t,function(t,n){return e.set(n,t)})}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(18),a=n(16),s=n(23),c=function(){function ReflectionInfo(e,t,n,r,i){this.annotations=e,this.parameters=t,this.factory=n,this.interfaces=r,this.propMetadata=i}return ReflectionInfo}();t.ReflectionInfo=c;var u=function(e){function Reflector(t){e.call(this),this._injectableInfo=new a.Map,this._getters=new a.Map,this._setters=new a.Map,this._methods=new a.Map,this._usedKeys=null,this.reflectionCapabilities=t}return r(Reflector,e),Reflector.prototype.isReflectionEnabled=function(){return this.reflectionCapabilities.isReflectionEnabled()},Reflector.prototype.trackUsage=function(){this._usedKeys=new a.Set},Reflector.prototype.listUnusedKeys=function(){var e=this;if(null==this._usedKeys)throw new o.BaseException("Usage tracking is disabled");var t=a.MapWrapper.keys(this._injectableInfo);return t.filter(function(t){return!a.SetWrapper.has(e._usedKeys,t)})},Reflector.prototype.registerFunction=function(e,t){this._injectableInfo.set(e,t)},Reflector.prototype.registerType=function(e,t){this._injectableInfo.set(e,t)},Reflector.prototype.registerGetters=function(e){_mergeMaps(this._getters,e)},Reflector.prototype.registerSetters=function(e){_mergeMaps(this._setters,e)},Reflector.prototype.registerMethods=function(e){_mergeMaps(this._methods,e)},Reflector.prototype.factory=function(e){if(this._containsReflectionInfo(e)){var t=this._getReflectionInfo(e).factory;return i.isPresent(t)?t:null}return this.reflectionCapabilities.factory(e)},Reflector.prototype.parameters=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).parameters;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.parameters(e)},Reflector.prototype.annotations=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).annotations;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.annotations(e)},Reflector.prototype.propMetadata=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).propMetadata;return i.isPresent(t)?t:{}}return this.reflectionCapabilities.propMetadata(e)},Reflector.prototype.interfaces=function(e){if(this._injectableInfo.has(e)){var t=this._getReflectionInfo(e).interfaces;return i.isPresent(t)?t:[]}return this.reflectionCapabilities.interfaces(e)},Reflector.prototype.getter=function(e){return this._getters.has(e)?this._getters.get(e):this.reflectionCapabilities.getter(e)},Reflector.prototype.setter=function(e){return this._setters.has(e)?this._setters.get(e):this.reflectionCapabilities.setter(e)},Reflector.prototype.method=function(e){return this._methods.has(e)?this._methods.get(e):this.reflectionCapabilities.method(e)},Reflector.prototype._getReflectionInfo=function(e){return i.isPresent(this._usedKeys)&&this._usedKeys.add(e),this._injectableInfo.get(e)},Reflector.prototype._containsReflectionInfo=function(e){return this._injectableInfo.has(e)},Reflector.prototype.importUri=function(e){return this.reflectionCapabilities.importUri(e)},Reflector}(s.ReflectorReader);t.Reflector=u},function(e,t){"use strict";var n=function(){function ReflectorReader(){}return ReflectorReader}();t.ReflectorReader=n},function(e,t,n){"use strict";var r=n(8),i=n(18),o=function(){function ReflectionCapabilities(e){this._reflect=r.isPresent(e)?e:r.global.Reflect}return ReflectionCapabilities.prototype.isReflectionEnabled=function(){return!0},ReflectionCapabilities.prototype.factory=function(e){switch(e.length){case 0:return function(){return new e};case 1:return function(t){return new e(t)};case 2:return function(t,n){return new e(t,n)};case 3:return function(t,n,r){return new e(t,n,r)};case 4:return function(t,n,r,i){return new e(t,n,r,i)};case 5:return function(t,n,r,i,o){return new e(t,n,r,i,o)};case 6:return function(t,n,r,i,o,a){return new e(t,n,r,i,o,a)};case 7:return function(t,n,r,i,o,a,s){return new e(t,n,r,i,o,a,s)};case 8:return function(t,n,r,i,o,a,s,c){return new e(t,n,r,i,o,a,s,c)};case 9:return function(t,n,r,i,o,a,s,c,u){return new e(t,n,r,i,o,a,s,c,u)};case 10:return function(t,n,r,i,o,a,s,c,u,l){return new e(t,n,r,i,o,a,s,c,u,l)};case 11:return function(t,n,r,i,o,a,s,c,u,l,p){return new e(t,n,r,i,o,a,s,c,u,l,p)};case 12:return function(t,n,r,i,o,a,s,c,u,l,p,h){return new e(t,n,r,i,o,a,s,c,u,l,p,h)};case 13:return function(t,n,r,i,o,a,s,c,u,l,p,h,f){return new e(t,n,r,i,o,a,s,c,u,l,p,h,f)};case 14:return function(t,n,r,i,o,a,s,c,u,l,p,h,f,d){return new e(t,n,r,i,o,a,s,c,u,l,p,h,f,d)};case 15:return function(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y){return new e(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y)};case 16:return function(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m){return new e(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m)};case 17:return function(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m,g){return new e(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m,g)};case 18:return function(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m,g,v){return new e(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m,g,v)};case 19:return function(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m,g,v,_){return new e(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m,g,v,_)};case 20:return function(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m,g,v,_,b){return new e(t,n,r,i,o,a,s,c,u,l,p,h,f,d,y,m,g,v,_,b)}}throw new Error("Cannot create a factory for '"+r.stringify(e)+"' because its constructor has more than 20 arguments")},ReflectionCapabilities.prototype._zipTypesAndAnnotations=function(e,t){var n;n="undefined"==typeof e?new Array(t.length):new Array(e.length);for(var i=0;i<n.length;i++)"undefined"==typeof e?n[i]=[]:e[i]!=Object?n[i]=[e[i]]:n[i]=[],r.isPresent(t)&&r.isPresent(t[i])&&(n[i]=n[i].concat(t[i]));return n},ReflectionCapabilities.prototype.parameters=function(e){if(r.isPresent(e.parameters))return e.parameters;if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("parameters",e),n=this._reflect.getMetadata("design:paramtypes",e);if(r.isPresent(n)||r.isPresent(t))return this._zipTypesAndAnnotations(n,t)}var i=new Array(e.length);return i.fill(void 0),i},ReflectionCapabilities.prototype.annotations=function(e){if(r.isPresent(e.annotations)){var t=e.annotations;return r.isFunction(t)&&t.annotations&&(t=t.annotations),t}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("annotations",e);if(r.isPresent(t))return t}return[]},ReflectionCapabilities.prototype.propMetadata=function(e){if(r.isPresent(e.propMetadata)){var t=e.propMetadata;return r.isFunction(t)&&t.propMetadata&&(t=t.propMetadata),t}if(r.isPresent(this._reflect)&&r.isPresent(this._reflect.getMetadata)){var t=this._reflect.getMetadata("propMetadata",e);if(r.isPresent(t))return t}return{}},ReflectionCapabilities.prototype.interfaces=function(e){throw new i.BaseException("JavaScript does not support interfaces")},ReflectionCapabilities.prototype.getter=function(e){return new Function("o","return o."+e+";")},ReflectionCapabilities.prototype.setter=function(e){return new Function("o","v","return o."+e+" = v;")},ReflectionCapabilities.prototype.method=function(e){var t="if (!o."+e+") throw new Error('\""+e+"\" is undefined');\n        return o."+e+".apply(o, args);";return new Function("o","args",t)},ReflectionCapabilities.prototype.importUri=function(e){return"./"},ReflectionCapabilities}();t.ReflectionCapabilities=o},function(e,t,n){"use strict";var r=n(8),i=n(18),o=n(14),a=function(){function Key(e,t){if(this.token=e,this.id=t,r.isBlank(e))throw new i.BaseException("Token must be defined!")}return Object.defineProperty(Key.prototype,"displayName",{get:function(){return r.stringify(this.token)},enumerable:!0,configurable:!0}),Key.get=function(e){return c.get(o.resolveForwardRef(e))},Object.defineProperty(Key,"numberOfKeys",{get:function(){return c.numberOfKeys},enumerable:!0,configurable:!0}),Key}();t.Key=a;var s=function(){function KeyRegistry(){this._allKeys=new Map}return KeyRegistry.prototype.get=function(e){if(e instanceof a)return e;if(this._allKeys.has(e))return this._allKeys.get(e);var t=new a(e,a.numberOfKeys);return this._allKeys.set(e,t),t},Object.defineProperty(KeyRegistry.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),KeyRegistry}();t.KeyRegistry=s;var c=new s},function(e,t,n){"use strict";function findFirstClosedCycle(e){for(var t=[],n=0;n<e.length;++n){if(i.ListWrapper.contains(t,e[n]))return t.push(e[n]),t;t.push(e[n])}return t}function constructResolvingPath(e){if(e.length>1){var t=findFirstClosedCycle(i.ListWrapper.reversed(e)),n=t.map(function(e){return o.stringify(e.token)});return" ("+n.join(" -> ")+")"}return""}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(16),o=n(8),a=n(18),s=function(e){function AbstractProviderError(t,n,r){e.call(this,"DI Exception"),this.keys=[n],this.injectors=[t],this.constructResolvingMessage=r,this.message=this.constructResolvingMessage(this.keys)}return r(AbstractProviderError,e),AbstractProviderError.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)},Object.defineProperty(AbstractProviderError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),AbstractProviderError}(a.BaseException);t.AbstractProviderError=s;var c=function(e){function NoProviderError(t,n){e.call(this,t,n,function(e){var t=o.stringify(i.ListWrapper.first(e).token);return"No provider for "+t+"!"+constructResolvingPath(e)})}return r(NoProviderError,e),NoProviderError}(s);t.NoProviderError=c;var u=function(e){function CyclicDependencyError(t,n){e.call(this,t,n,function(e){return"Cannot instantiate cyclic dependency!"+constructResolvingPath(e)})}return r(CyclicDependencyError,e),CyclicDependencyError}(s);t.CyclicDependencyError=u;var l=function(e){function InstantiationError(t,n,r,i){e.call(this,"DI Exception",n,r,null),this.keys=[i],this.injectors=[t]}return r(InstantiationError,e),InstantiationError.prototype.addKey=function(e,t){this.injectors.push(e),this.keys.push(t)},Object.defineProperty(InstantiationError.prototype,"wrapperMessage",{get:function(){var e=o.stringify(i.ListWrapper.first(this.keys).token);return"Error during instantiation of "+e+"!"+constructResolvingPath(this.keys)+"."},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"causeKey",{get:function(){return this.keys[0]},enumerable:!0,configurable:!0}),Object.defineProperty(InstantiationError.prototype,"context",{get:function(){return this.injectors[this.injectors.length-1].debugContext()},enumerable:!0,configurable:!0}),InstantiationError}(a.WrappedException);t.InstantiationError=l;var p=function(e){function InvalidProviderError(t){e.call(this,"Invalid provider - only instances of Provider and Type are allowed, got: "+t.toString())}return r(InvalidProviderError,e),InvalidProviderError}(a.BaseException);t.InvalidProviderError=p;var h=function(e){function NoAnnotationError(t,n){e.call(this,NoAnnotationError._genMessage(t,n))}return r(NoAnnotationError,e),NoAnnotationError._genMessage=function(e,t){for(var n=[],r=0,i=t.length;i>r;r++){var a=t[r];o.isBlank(a)||0==a.length?n.push("?"):n.push(a.map(o.stringify).join(" "))}return"Cannot resolve all parameters for '"+o.stringify(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+o.stringify(e)+"' is decorated with Injectable."},NoAnnotationError}(a.BaseException);t.NoAnnotationError=h;var f=function(e){function OutOfBoundsError(t){e.call(this,"Index "+t+" is out-of-bounds.")}return r(OutOfBoundsError,e),OutOfBoundsError}(a.BaseException);t.OutOfBoundsError=f;var d=function(e){function MixingMultiProvidersWithRegularProvidersError(t,n){e.call(this,"Cannot mix multi providers and regular providers, got: "+t.toString()+" "+n.toString())}return r(MixingMultiProvidersWithRegularProvidersError,e),MixingMultiProvidersWithRegularProvidersError}(a.BaseException);t.MixingMultiProvidersWithRegularProvidersError=d},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=function(){function OpaqueToken(e){this._desc=e}return OpaqueToken.prototype.toString=function(){return"Token "+this._desc},
OpaqueToken=r([o.CONST(),i("design:paramtypes",[String])],OpaqueToken)}();t.OpaqueToken=a},function(e,t){"use strict";var n=function(){function XHR(){}return XHR.prototype.get=function(e){return null},XHR}();t.XHR=n},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(30)),__export(n(87)),__export(n(88)),__export(n(10)),__export(n(89));var r=n(8);t.enableProdMode=r.enableProdMode;var i=n(90);t.platform=i.platform,t.createNgZone=i.createNgZone,t.PlatformRef=i.PlatformRef,t.ApplicationRef=i.ApplicationRef;var o=n(93);t.APP_ID=o.APP_ID,t.APP_COMPONENT=o.APP_COMPONENT,t.APP_INITIALIZER=o.APP_INITIALIZER,t.PACKAGE_ROOT_URL=o.PACKAGE_ROOT_URL,t.PLATFORM_INITIALIZER=o.PLATFORM_INITIALIZER,__export(n(112)),__export(n(113)),__export(n(114));var a=n(117);t.DebugElement=a.DebugElement,t.DebugNode=a.DebugNode,t.asNativeElements=a.asNativeElements,__export(n(94)),__export(n(33)),__export(n(118)),__export(n(119)),__export(n(120)),__export(n(21))},function(e,t,n){"use strict";var r=n(31);t.QueryMetadata=r.QueryMetadata,t.ContentChildrenMetadata=r.ContentChildrenMetadata,t.ContentChildMetadata=r.ContentChildMetadata,t.ViewChildrenMetadata=r.ViewChildrenMetadata,t.ViewQueryMetadata=r.ViewQueryMetadata,t.ViewChildMetadata=r.ViewChildMetadata,t.AttributeMetadata=r.AttributeMetadata;var i=n(32);t.ComponentMetadata=i.ComponentMetadata,t.DirectiveMetadata=i.DirectiveMetadata,t.PipeMetadata=i.PipeMetadata,t.InputMetadata=i.InputMetadata,t.OutputMetadata=i.OutputMetadata,t.HostBindingMetadata=i.HostBindingMetadata,t.HostListenerMetadata=i.HostListenerMetadata;var o=n(86);t.ViewMetadata=o.ViewMetadata,t.ViewEncapsulation=o.ViewEncapsulation;var a=n(31),s=n(32),c=n(86),u=n(13);t.Component=u.makeDecorator(s.ComponentMetadata,function(e){return e.View=l}),t.Directive=u.makeDecorator(s.DirectiveMetadata);var l=u.makeDecorator(c.ViewMetadata,function(e){return e.View=l});t.Attribute=u.makeParamDecorator(a.AttributeMetadata),t.Query=u.makeParamDecorator(a.QueryMetadata),t.ContentChildren=u.makePropDecorator(a.ContentChildrenMetadata),t.ContentChild=u.makePropDecorator(a.ContentChildMetadata),t.ViewChildren=u.makePropDecorator(a.ViewChildrenMetadata),t.ViewChild=u.makePropDecorator(a.ViewChildMetadata),t.ViewQuery=u.makeParamDecorator(a.ViewQueryMetadata),t.Pipe=u.makeDecorator(s.PipeMetadata),t.Input=u.makePropDecorator(s.InputMetadata),t.Output=u.makePropDecorator(s.OutputMetadata),t.HostBinding=u.makePropDecorator(s.HostBindingMetadata),t.HostListener=u.makePropDecorator(s.HostListenerMetadata)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=n(10),c=n(11),u=function(e){function AttributeMetadata(t){e.call(this),this.attributeName=t}return r(AttributeMetadata,e),Object.defineProperty(AttributeMetadata.prototype,"token",{get:function(){return this},enumerable:!0,configurable:!0}),AttributeMetadata.prototype.toString=function(){return"@Attribute("+a.stringify(this.attributeName)+")"},AttributeMetadata=i([a.CONST(),o("design:paramtypes",[String])],AttributeMetadata)}(c.DependencyMetadata);t.AttributeMetadata=u;var l=function(e){function QueryMetadata(t,n){var r=void 0===n?{}:n,i=r.descendants,o=void 0===i?!1:i,a=r.first,s=void 0===a?!1:a;e.call(this),this._selector=t,this.descendants=o,this.first=s}return r(QueryMetadata,e),Object.defineProperty(QueryMetadata.prototype,"isViewQuery",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"selector",{get:function(){return s.resolveForwardRef(this._selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"isVarBindingQuery",{get:function(){return a.isString(this.selector)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryMetadata.prototype,"varBindings",{get:function(){return this.selector.split(",")},enumerable:!0,configurable:!0}),QueryMetadata.prototype.toString=function(){return"@Query("+a.stringify(this.selector)+")"},QueryMetadata=i([a.CONST(),o("design:paramtypes",[Object,Object])],QueryMetadata)}(c.DependencyMetadata);t.QueryMetadata=l;var p=function(e){function ContentChildrenMetadata(t,n){var r=(void 0===n?{}:n).descendants,i=void 0===r?!1:r;e.call(this,t,{descendants:i})}return r(ContentChildrenMetadata,e),ContentChildrenMetadata=i([a.CONST(),o("design:paramtypes",[Object,Object])],ContentChildrenMetadata)}(l);t.ContentChildrenMetadata=p;var h=function(e){function ContentChildMetadata(t){e.call(this,t,{descendants:!0,first:!0})}return r(ContentChildMetadata,e),ContentChildMetadata=i([a.CONST(),o("design:paramtypes",[Object])],ContentChildMetadata)}(l);t.ContentChildMetadata=h;var f=function(e){function ViewQueryMetadata(t,n){var r=void 0===n?{}:n,i=r.descendants,o=void 0===i?!1:i,a=r.first,s=void 0===a?!1:a;e.call(this,t,{descendants:o,first:s})}return r(ViewQueryMetadata,e),Object.defineProperty(ViewQueryMetadata.prototype,"isViewQuery",{get:function(){return!0},enumerable:!0,configurable:!0}),ViewQueryMetadata.prototype.toString=function(){return"@ViewQuery("+a.stringify(this.selector)+")"},ViewQueryMetadata=i([a.CONST(),o("design:paramtypes",[Object,Object])],ViewQueryMetadata)}(l);t.ViewQueryMetadata=f;var d=function(e){function ViewChildrenMetadata(t){e.call(this,t,{descendants:!0})}return r(ViewChildrenMetadata,e),ViewChildrenMetadata=i([a.CONST(),o("design:paramtypes",[Object])],ViewChildrenMetadata)}(f);t.ViewChildrenMetadata=d;var y=function(e){function ViewChildMetadata(t){e.call(this,t,{descendants:!0,first:!0})}return r(ViewChildMetadata,e),ViewChildMetadata=i([a.CONST(),o("design:paramtypes",[Object])],ViewChildMetadata)}(f);t.ViewChildMetadata=y},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=n(11),c=n(33),u=function(e){function DirectiveMetadata(t){var n=void 0===t?{}:t,r=n.selector,i=n.inputs,o=n.outputs,a=n.properties,s=n.events,c=n.host,u=n.bindings,l=n.providers,p=n.exportAs,h=n.queries;e.call(this),this.selector=r,this._inputs=i,this._properties=a,this._outputs=o,this._events=s,this.host=c,this.exportAs=p,this.queries=h,this._providers=l,this._bindings=u}return r(DirectiveMetadata,e),Object.defineProperty(DirectiveMetadata.prototype,"inputs",{get:function(){return a.isPresent(this._properties)&&this._properties.length>0?this._properties:this._inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"properties",{get:function(){return this.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"outputs",{get:function(){return a.isPresent(this._events)&&this._events.length>0?this._events:this._outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"events",{get:function(){return this.outputs},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"providers",{get:function(){return a.isPresent(this._bindings)&&this._bindings.length>0?this._bindings:this._providers},enumerable:!0,configurable:!0}),Object.defineProperty(DirectiveMetadata.prototype,"bindings",{get:function(){return this.providers},enumerable:!0,configurable:!0}),DirectiveMetadata=i([a.CONST(),o("design:paramtypes",[Object])],DirectiveMetadata)}(s.InjectableMetadata);t.DirectiveMetadata=u;var l=function(e){function ComponentMetadata(t){var n=void 0===t?{}:t,r=n.selector,i=n.inputs,o=n.outputs,a=n.properties,s=n.events,u=n.host,l=n.exportAs,p=n.moduleId,h=n.bindings,f=n.providers,d=n.viewBindings,y=n.viewProviders,m=n.changeDetection,g=void 0===m?c.ChangeDetectionStrategy.Default:m,v=n.queries,_=n.templateUrl,b=n.template,w=n.styleUrls,C=n.styles,P=n.directives,R=n.pipes,S=n.encapsulation;e.call(this,{selector:r,inputs:i,outputs:o,properties:a,events:s,host:u,exportAs:l,bindings:h,providers:f,queries:v}),this.changeDetection=g,this._viewProviders=y,this._viewBindings=d,this.templateUrl=_,this.template=b,this.styleUrls=w,this.styles=C,this.directives=P,this.pipes=R,this.encapsulation=S,this.moduleId=p}return r(ComponentMetadata,e),Object.defineProperty(ComponentMetadata.prototype,"viewProviders",{get:function(){return a.isPresent(this._viewBindings)&&this._viewBindings.length>0?this._viewBindings:this._viewProviders},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentMetadata.prototype,"viewBindings",{get:function(){return this.viewProviders},enumerable:!0,configurable:!0}),ComponentMetadata=i([a.CONST(),o("design:paramtypes",[Object])],ComponentMetadata)}(u);t.ComponentMetadata=l;var p=function(e){function PipeMetadata(t){var n=t.name,r=t.pure;e.call(this),this.name=n,this._pure=r}return r(PipeMetadata,e),Object.defineProperty(PipeMetadata.prototype,"pure",{get:function(){return a.isPresent(this._pure)?this._pure:!0},enumerable:!0,configurable:!0}),PipeMetadata=i([a.CONST(),o("design:paramtypes",[Object])],PipeMetadata)}(s.InjectableMetadata);t.PipeMetadata=p;var h=function(){function InputMetadata(e){this.bindingPropertyName=e}return InputMetadata=i([a.CONST(),o("design:paramtypes",[String])],InputMetadata)}();t.InputMetadata=h;var f=function(){function OutputMetadata(e){this.bindingPropertyName=e}return OutputMetadata=i([a.CONST(),o("design:paramtypes",[String])],OutputMetadata)}();t.OutputMetadata=f;var d=function(){function HostBindingMetadata(e){this.hostPropertyName=e}return HostBindingMetadata=i([a.CONST(),o("design:paramtypes",[String])],HostBindingMetadata)}();t.HostBindingMetadata=d;var y=function(){function HostListenerMetadata(e,t){this.eventName=e,this.args=t}return HostListenerMetadata=i([a.CONST(),o("design:paramtypes",[String,Array])],HostListenerMetadata)}();t.HostListenerMetadata=y},function(e,t,n){"use strict";var r=n(34);t.ChangeDetectionStrategy=r.ChangeDetectionStrategy,t.ExpressionChangedAfterItHasBeenCheckedException=r.ExpressionChangedAfterItHasBeenCheckedException,t.ChangeDetectionError=r.ChangeDetectionError,t.ChangeDetectorRef=r.ChangeDetectorRef,t.WrappedValue=r.WrappedValue,t.SimpleChange=r.SimpleChange,t.IterableDiffers=r.IterableDiffers,t.KeyValueDiffers=r.KeyValueDiffers,t.CollectionChangeRecord=r.CollectionChangeRecord,t.KeyValueChangeRecord=r.KeyValueChangeRecord},function(e,t,n){"use strict";var r=n(35),i=n(36),o=n(37),a=n(38),s=n(8),c=n(38);t.DefaultKeyValueDifferFactory=c.DefaultKeyValueDifferFactory,t.KeyValueChangeRecord=c.KeyValueChangeRecord;var u=n(36);t.DefaultIterableDifferFactory=u.DefaultIterableDifferFactory,t.CollectionChangeRecord=u.CollectionChangeRecord;var l=n(39);t.ASTWithSource=l.ASTWithSource,t.AST=l.AST,t.AstTransformer=l.AstTransformer,t.PropertyRead=l.PropertyRead,t.LiteralArray=l.LiteralArray,t.ImplicitReceiver=l.ImplicitReceiver;var p=n(40);t.Lexer=p.Lexer;var h=n(41);t.Parser=h.Parser;var f=n(42);t.Locals=f.Locals;var d=n(43);t.DehydratedException=d.DehydratedException,t.ExpressionChangedAfterItHasBeenCheckedException=d.ExpressionChangedAfterItHasBeenCheckedException,t.ChangeDetectionError=d.ChangeDetectionError;var y=n(44);t.ChangeDetectorDefinition=y.ChangeDetectorDefinition,t.DebugContext=y.DebugContext,t.ChangeDetectorGenConfig=y.ChangeDetectorGenConfig;var m=n(45);t.ChangeDetectionStrategy=m.ChangeDetectionStrategy,t.CHANGE_DETECTION_STRATEGY_VALUES=m.CHANGE_DETECTION_STRATEGY_VALUES;var g=n(46);t.DynamicProtoChangeDetector=g.DynamicProtoChangeDetector;var v=n(81);t.JitProtoChangeDetector=v.JitProtoChangeDetector;var _=n(49);t.BindingRecord=_.BindingRecord,t.BindingTarget=_.BindingTarget;var b=n(50);t.DirectiveIndex=b.DirectiveIndex,t.DirectiveRecord=b.DirectiveRecord;var w=n(51);t.DynamicChangeDetector=w.DynamicChangeDetector;var C=n(53);t.ChangeDetectorRef=C.ChangeDetectorRef;var P=n(35);t.IterableDiffers=P.IterableDiffers;var R=n(37);t.KeyValueDiffers=R.KeyValueDiffers;var S=n(47);t.WrappedValue=S.WrappedValue,t.SimpleChange=S.SimpleChange,t.keyValDiff=s.CONST_EXPR([s.CONST_EXPR(new a.DefaultKeyValueDifferFactory)]),t.iterableDiff=s.CONST_EXPR([s.CONST_EXPR(new i.DefaultIterableDifferFactory)]),t.defaultIterableDiffers=s.CONST_EXPR(new r.IterableDiffers(t.iterableDiff)),t.defaultKeyValueDiffers=s.CONST_EXPR(new o.KeyValueDiffers(t.keyValDiff))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(18),s=n(16),c=n(10),u=function(){function IterableDiffers(e){this.factories=e}return IterableDiffers.create=function(e,t){if(o.isPresent(t)){var n=s.ListWrapper.clone(t.factories);return e=e.concat(n),new IterableDiffers(e)}return new IterableDiffers(e)},IterableDiffers.extend=function(e){return new c.Provider(IterableDiffers,{useFactory:function(t){if(o.isBlank(t))throw new a.BaseException("Cannot extend IterableDiffers without a parent injector");return IterableDiffers.create(e,t)},deps:[[IterableDiffers,new c.SkipSelfMetadata,new c.OptionalMetadata]]})},IterableDiffers.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(o.isPresent(t))return t;throw new a.BaseException("Cannot find a differ supporting object '"+e+"' of type '"+o.getTypeNameForDebugging(e)+"'")},IterableDiffers=r([o.CONST(),i("design:paramtypes",[Array])],IterableDiffers)}();t.IterableDiffers=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(18),s=n(16),c=n(8),u=function(){function DefaultIterableDifferFactory(){}return DefaultIterableDifferFactory.prototype.supports=function(e){return s.isListLikeIterable(e)},DefaultIterableDifferFactory.prototype.create=function(e,t){return new p(t)},DefaultIterableDifferFactory=r([o.CONST(),i("design:paramtypes",[])],DefaultIterableDifferFactory)}();t.DefaultIterableDifferFactory=u;var l=function(e,t){return t},p=function(){function DefaultIterableDiffer(e){this._trackByFn=e,this._length=null,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c.isPresent(this._trackByFn)?this._trackByFn:l}return Object.defineProperty(DefaultIterableDiffer.prototype,"collection",{get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(DefaultIterableDiffer.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},DefaultIterableDiffer.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},DefaultIterableDiffer.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},DefaultIterableDiffer.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},DefaultIterableDiffer.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},DefaultIterableDiffer.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},DefaultIterableDiffer.prototype.diff=function(e){if(c.isBlank(e)&&(e=[]),!s.isListLikeIterable(e))throw new a.BaseException("Error trying to diff '"+e+"'");return this.check(e)?this:null},DefaultIterableDiffer.prototype.onDestroy=function(){},DefaultIterableDiffer.prototype.check=function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(c.isArray(e)){var u=e;for(this._length=e.length,n=0;n<this._length;n++)r=u[n],i=this._trackByFn(n,r),null!==o&&c.looseIdentical(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,n)),c.looseIdentical(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,n),a=!0),o=o._next}else n=0,s.iterateListLike(e,function(e){i=t._trackByFn(n,e),null!==o&&c.looseIdentical(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),c.looseIdentical(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this._length=n;return this._truncate(o),this._collection=e,this.isDirty},Object.defineProperty(DefaultIterableDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),DefaultIterableDiffer.prototype._reset=function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},DefaultIterableDiffer.prototype._mismatch=function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),e=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==e?(c.looseIdentical(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n),null!==e?(c.looseIdentical(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new h(t,n),i,r)),e},DefaultIterableDiffer.prototype._verifyReinsertion=function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},DefaultIterableDiffer.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},DefaultIterableDiffer.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},DefaultIterableDiffer.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},DefaultIterableDiffer.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e},DefaultIterableDiffer.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new d),this._linkedRecords.put(e),e.currentIndex=n,e},DefaultIterableDiffer.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},DefaultIterableDiffer.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},DefaultIterableDiffer.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)},DefaultIterableDiffer.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},DefaultIterableDiffer.prototype._addIdentityChange=function(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e},DefaultIterableDiffer.prototype.toString=function(){var e=[];this.forEachItem(function(t){return e.push(t)});var t=[];this.forEachPreviousItem(function(e){return t.push(e)});var n=[];this.forEachAddedItem(function(e){return n.push(e)});var r=[];this.forEachMovedItem(function(e){return r.push(e)});var i=[];this.forEachRemovedItem(function(e){return i.push(e)});var o=[];return this.forEachIdentityChange(function(e){return o.push(e)}),"collection: "+e.join(", ")+"\nprevious: "+t.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},DefaultIterableDiffer}();t.DefaultIterableDiffer=p;var h=function(){function CollectionChangeRecord(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}return CollectionChangeRecord.prototype.toString=function(){return this.previousIndex===this.currentIndex?c.stringify(this.item):c.stringify(this.item)+"["+c.stringify(this.previousIndex)+"->"+c.stringify(this.currentIndex)+"]"},CollectionChangeRecord}();t.CollectionChangeRecord=h;var f=function(){function _DuplicateItemRecordList(){this._head=null,this._tail=null}return _DuplicateItemRecordList.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},_DuplicateItemRecordList.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<n.currentIndex)&&c.looseIdentical(n.trackById,e))return n;return null},_DuplicateItemRecordList.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},_DuplicateItemRecordList}(),d=function(){function _DuplicateMap(){this.map=new Map}return _DuplicateMap.prototype.put=function(e){var t=c.getMapKey(e.trackById),n=this.map.get(t);c.isPresent(n)||(n=new f,this.map.set(t,n)),n.add(e)},_DuplicateMap.prototype.get=function(e,t){void 0===t&&(t=null);var n=c.getMapKey(e),r=this.map.get(n);return c.isBlank(r)?null:r.get(e,t)},_DuplicateMap.prototype.remove=function(e){var t=c.getMapKey(e.trackById),n=this.map.get(t);return n.remove(e)&&this.map["delete"](t),e},Object.defineProperty(_DuplicateMap.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),_DuplicateMap.prototype.clear=function(){this.map.clear()},_DuplicateMap.prototype.toString=function(){return"_DuplicateMap("+c.stringify(this.map)+")"},_DuplicateMap}()},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(18),s=n(16),c=n(10),u=function(){function KeyValueDiffers(e){this.factories=e}return KeyValueDiffers.create=function(e,t){if(o.isPresent(t)){var n=s.ListWrapper.clone(t.factories);return e=e.concat(n),new KeyValueDiffers(e)}return new KeyValueDiffers(e)},KeyValueDiffers.extend=function(e){return new c.Provider(KeyValueDiffers,{useFactory:function(t){if(o.isBlank(t))throw new a.BaseException("Cannot extend KeyValueDiffers without a parent injector");return KeyValueDiffers.create(e,t)},deps:[[KeyValueDiffers,new c.SkipSelfMetadata,new c.OptionalMetadata]]})},KeyValueDiffers.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(o.isPresent(t))return t;throw new a.BaseException("Cannot find a differ supporting object '"+e+"'")},KeyValueDiffers=r([o.CONST(),i("design:paramtypes",[Array])],KeyValueDiffers)}();t.KeyValueDiffers=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(16),a=n(8),s=n(18),c=function(){function DefaultKeyValueDifferFactory(){}return DefaultKeyValueDifferFactory.prototype.supports=function(e){return e instanceof Map||a.isJsObject(e)},DefaultKeyValueDifferFactory.prototype.create=function(e){return new u},DefaultKeyValueDifferFactory=r([a.CONST(),i("design:paramtypes",[])],DefaultKeyValueDifferFactory)}();t.DefaultKeyValueDifferFactory=c;var u=function(){function DefaultKeyValueDiffer(){this._records=new Map,this._mapHead=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(DefaultKeyValueDiffer.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),DefaultKeyValueDiffer.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},DefaultKeyValueDiffer.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},DefaultKeyValueDiffer.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},DefaultKeyValueDiffer.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},DefaultKeyValueDiffer.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},DefaultKeyValueDiffer.prototype.diff=function(e){if(a.isBlank(e)&&(e=o.MapWrapper.createFromPairs([])),!(e instanceof Map||a.isJsObject(e)))throw new s.BaseException("Error trying to diff '"+e+"'");return this.check(e)?this:null},DefaultKeyValueDiffer.prototype.onDestroy=function(){},DefaultKeyValueDiffer.prototype.check=function(e){var t=this;this._reset();var n=this._records,r=this._mapHead,i=null,o=null,s=!1;return this._forEach(e,function(e,c){var u;null!==r&&c===r.key?(u=r,a.looseIdentical(e,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=e,t._addToChanges(r))):(s=!0,null!==r&&(r._next=null,t._removeFromSeq(i,r),t._addToRemovals(r)),n.has(c)?u=n.get(c):(u=new l(c),n.set(c,u),u.currentValue=e,t._addToAdditions(u))),s&&(t._isInRemovals(u)&&t._removeFromRemovals(u),null==o?t._mapHead=u:o._next=u),i=r,o=u,r=null===r?null:r._next}),this._truncate(i,r),this.isDirty},DefaultKeyValueDiffer.prototype._reset=function(){if(this.isDirty){var e;for(e=this._previousMapHead=this._mapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},DefaultKeyValueDiffer.prototype._truncate=function(e,t){for(;null!==t;){null===e?this._mapHead=null:e._next=null;var n=t._next;this._addToRemovals(t),e=t,t=n}for(var r=this._removalsHead;null!==r;r=r._nextRemoved)r.previousValue=r.currentValue,r.currentValue=null,this._records["delete"](r.key)},DefaultKeyValueDiffer.prototype._isInRemovals=function(e){return e===this._removalsHead||null!==e._nextRemoved||null!==e._prevRemoved},DefaultKeyValueDiffer.prototype._addToRemovals=function(e){null===this._removalsHead?this._removalsHead=this._removalsTail=e:(this._removalsTail._nextRemoved=e,e._prevRemoved=this._removalsTail,this._removalsTail=e)},DefaultKeyValueDiffer.prototype._removeFromSeq=function(e,t){var n=t._next;null===e?this._mapHead=n:e._next=n},DefaultKeyValueDiffer.prototype._removeFromRemovals=function(e){var t=e._prevRemoved,n=e._nextRemoved;null===t?this._removalsHead=n:t._nextRemoved=n,null===n?this._removalsTail=t:n._prevRemoved=t,e._prevRemoved=e._nextRemoved=null},DefaultKeyValueDiffer.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},DefaultKeyValueDiffer.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},DefaultKeyValueDiffer.prototype.toString=function(){var e,t=[],n=[],r=[],i=[],o=[];for(e=this._mapHead;null!==e;e=e._next)t.push(a.stringify(e));for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n.push(a.stringify(e));for(e=this._changesHead;null!==e;e=e._nextChanged)r.push(a.stringify(e));for(e=this._additionsHead;null!==e;e=e._nextAdded)i.push(a.stringify(e));for(e=this._removalsHead;null!==e;e=e._nextRemoved)o.push(a.stringify(e));return"map: "+t.join(", ")+"\nprevious: "+n.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\n"},DefaultKeyValueDiffer.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):o.StringMapWrapper.forEach(e,t)},DefaultKeyValueDiffer}();t.DefaultKeyValueDiffer=u;var l=function(){function KeyValueChangeRecord(e){this.key=e,this.previousValue=null,this.currentValue=null,
this._nextPrevious=null,this._next=null,this._nextAdded=null,this._nextRemoved=null,this._prevRemoved=null,this._nextChanged=null}return KeyValueChangeRecord.prototype.toString=function(){return a.looseIdentical(this.previousValue,this.currentValue)?a.stringify(this.key):a.stringify(this.key)+"["+a.stringify(this.previousValue)+"->"+a.stringify(this.currentValue)+"]"},KeyValueChangeRecord}();t.KeyValueChangeRecord=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(16),o=function(){function AST(){}return AST.prototype.visit=function(e){return null},AST.prototype.toString=function(){return"AST"},AST}();t.AST=o;var a=function(e){function Quote(t,n,r){e.call(this),this.prefix=t,this.uninterpretedExpression=n,this.location=r}return r(Quote,e),Quote.prototype.visit=function(e){return e.visitQuote(this)},Quote.prototype.toString=function(){return"Quote"},Quote}(o);t.Quote=a;var s=function(e){function EmptyExpr(){e.apply(this,arguments)}return r(EmptyExpr,e),EmptyExpr.prototype.visit=function(e){},EmptyExpr}(o);t.EmptyExpr=s;var c=function(e){function ImplicitReceiver(){e.apply(this,arguments)}return r(ImplicitReceiver,e),ImplicitReceiver.prototype.visit=function(e){return e.visitImplicitReceiver(this)},ImplicitReceiver}(o);t.ImplicitReceiver=c;var u=function(e){function Chain(t){e.call(this),this.expressions=t}return r(Chain,e),Chain.prototype.visit=function(e){return e.visitChain(this)},Chain}(o);t.Chain=u;var l=function(e){function Conditional(t,n,r){e.call(this),this.condition=t,this.trueExp=n,this.falseExp=r}return r(Conditional,e),Conditional.prototype.visit=function(e){return e.visitConditional(this)},Conditional}(o);t.Conditional=l;var p=function(e){function PropertyRead(t,n,r){e.call(this),this.receiver=t,this.name=n,this.getter=r}return r(PropertyRead,e),PropertyRead.prototype.visit=function(e){return e.visitPropertyRead(this)},PropertyRead}(o);t.PropertyRead=p;var h=function(e){function PropertyWrite(t,n,r,i){e.call(this),this.receiver=t,this.name=n,this.setter=r,this.value=i}return r(PropertyWrite,e),PropertyWrite.prototype.visit=function(e){return e.visitPropertyWrite(this)},PropertyWrite}(o);t.PropertyWrite=h;var f=function(e){function SafePropertyRead(t,n,r){e.call(this),this.receiver=t,this.name=n,this.getter=r}return r(SafePropertyRead,e),SafePropertyRead.prototype.visit=function(e){return e.visitSafePropertyRead(this)},SafePropertyRead}(o);t.SafePropertyRead=f;var d=function(e){function KeyedRead(t,n){e.call(this),this.obj=t,this.key=n}return r(KeyedRead,e),KeyedRead.prototype.visit=function(e){return e.visitKeyedRead(this)},KeyedRead}(o);t.KeyedRead=d;var y=function(e){function KeyedWrite(t,n,r){e.call(this),this.obj=t,this.key=n,this.value=r}return r(KeyedWrite,e),KeyedWrite.prototype.visit=function(e){return e.visitKeyedWrite(this)},KeyedWrite}(o);t.KeyedWrite=y;var m=function(e){function BindingPipe(t,n,r){e.call(this),this.exp=t,this.name=n,this.args=r}return r(BindingPipe,e),BindingPipe.prototype.visit=function(e){return e.visitPipe(this)},BindingPipe}(o);t.BindingPipe=m;var g=function(e){function LiteralPrimitive(t){e.call(this),this.value=t}return r(LiteralPrimitive,e),LiteralPrimitive.prototype.visit=function(e){return e.visitLiteralPrimitive(this)},LiteralPrimitive}(o);t.LiteralPrimitive=g;var v=function(e){function LiteralArray(t){e.call(this),this.expressions=t}return r(LiteralArray,e),LiteralArray.prototype.visit=function(e){return e.visitLiteralArray(this)},LiteralArray}(o);t.LiteralArray=v;var _=function(e){function LiteralMap(t,n){e.call(this),this.keys=t,this.values=n}return r(LiteralMap,e),LiteralMap.prototype.visit=function(e){return e.visitLiteralMap(this)},LiteralMap}(o);t.LiteralMap=_;var b=function(e){function Interpolation(t,n){e.call(this),this.strings=t,this.expressions=n}return r(Interpolation,e),Interpolation.prototype.visit=function(e){return e.visitInterpolation(this)},Interpolation}(o);t.Interpolation=b;var w=function(e){function Binary(t,n,r){e.call(this),this.operation=t,this.left=n,this.right=r}return r(Binary,e),Binary.prototype.visit=function(e){return e.visitBinary(this)},Binary}(o);t.Binary=w;var C=function(e){function PrefixNot(t){e.call(this),this.expression=t}return r(PrefixNot,e),PrefixNot.prototype.visit=function(e){return e.visitPrefixNot(this)},PrefixNot}(o);t.PrefixNot=C;var P=function(e){function MethodCall(t,n,r,i){e.call(this),this.receiver=t,this.name=n,this.fn=r,this.args=i}return r(MethodCall,e),MethodCall.prototype.visit=function(e){return e.visitMethodCall(this)},MethodCall}(o);t.MethodCall=P;var R=function(e){function SafeMethodCall(t,n,r,i){e.call(this),this.receiver=t,this.name=n,this.fn=r,this.args=i}return r(SafeMethodCall,e),SafeMethodCall.prototype.visit=function(e){return e.visitSafeMethodCall(this)},SafeMethodCall}(o);t.SafeMethodCall=R;var S=function(e){function FunctionCall(t,n){e.call(this),this.target=t,this.args=n}return r(FunctionCall,e),FunctionCall.prototype.visit=function(e){return e.visitFunctionCall(this)},FunctionCall}(o);t.FunctionCall=S;var E=function(e){function ASTWithSource(t,n,r){e.call(this),this.ast=t,this.source=n,this.location=r}return r(ASTWithSource,e),ASTWithSource.prototype.visit=function(e){return this.ast.visit(e)},ASTWithSource.prototype.toString=function(){return this.source+" in "+this.location},ASTWithSource}(o);t.ASTWithSource=E;var D=function(){function TemplateBinding(e,t,n,r){this.key=e,this.keyIsVar=t,this.name=n,this.expression=r}return TemplateBinding}();t.TemplateBinding=D;var A=function(){function RecursiveAstVisitor(){}return RecursiveAstVisitor.prototype.visitBinary=function(e){return e.left.visit(this),e.right.visit(this),null},RecursiveAstVisitor.prototype.visitChain=function(e){return this.visitAll(e.expressions)},RecursiveAstVisitor.prototype.visitConditional=function(e){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null},RecursiveAstVisitor.prototype.visitPipe=function(e){return e.exp.visit(this),this.visitAll(e.args),null},RecursiveAstVisitor.prototype.visitFunctionCall=function(e){return e.target.visit(this),this.visitAll(e.args),null},RecursiveAstVisitor.prototype.visitImplicitReceiver=function(e){return null},RecursiveAstVisitor.prototype.visitInterpolation=function(e){return this.visitAll(e.expressions)},RecursiveAstVisitor.prototype.visitKeyedRead=function(e){return e.obj.visit(this),e.key.visit(this),null},RecursiveAstVisitor.prototype.visitKeyedWrite=function(e){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null},RecursiveAstVisitor.prototype.visitLiteralArray=function(e){return this.visitAll(e.expressions)},RecursiveAstVisitor.prototype.visitLiteralMap=function(e){return this.visitAll(e.values)},RecursiveAstVisitor.prototype.visitLiteralPrimitive=function(e){return null},RecursiveAstVisitor.prototype.visitMethodCall=function(e){return e.receiver.visit(this),this.visitAll(e.args)},RecursiveAstVisitor.prototype.visitPrefixNot=function(e){return e.expression.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyRead=function(e){return e.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitPropertyWrite=function(e){return e.receiver.visit(this),e.value.visit(this),null},RecursiveAstVisitor.prototype.visitSafePropertyRead=function(e){return e.receiver.visit(this),null},RecursiveAstVisitor.prototype.visitSafeMethodCall=function(e){return e.receiver.visit(this),this.visitAll(e.args)},RecursiveAstVisitor.prototype.visitAll=function(e){var t=this;return e.forEach(function(e){return e.visit(t)}),null},RecursiveAstVisitor.prototype.visitQuote=function(e){return null},RecursiveAstVisitor}();t.RecursiveAstVisitor=A;var O=function(){function AstTransformer(){}return AstTransformer.prototype.visitImplicitReceiver=function(e){return e},AstTransformer.prototype.visitInterpolation=function(e){return new b(e.strings,this.visitAll(e.expressions))},AstTransformer.prototype.visitLiteralPrimitive=function(e){return new g(e.value)},AstTransformer.prototype.visitPropertyRead=function(e){return new p(e.receiver.visit(this),e.name,e.getter)},AstTransformer.prototype.visitPropertyWrite=function(e){return new h(e.receiver.visit(this),e.name,e.setter,e.value)},AstTransformer.prototype.visitSafePropertyRead=function(e){return new f(e.receiver.visit(this),e.name,e.getter)},AstTransformer.prototype.visitMethodCall=function(e){return new P(e.receiver.visit(this),e.name,e.fn,this.visitAll(e.args))},AstTransformer.prototype.visitSafeMethodCall=function(e){return new R(e.receiver.visit(this),e.name,e.fn,this.visitAll(e.args))},AstTransformer.prototype.visitFunctionCall=function(e){return new S(e.target.visit(this),this.visitAll(e.args))},AstTransformer.prototype.visitLiteralArray=function(e){return new v(this.visitAll(e.expressions))},AstTransformer.prototype.visitLiteralMap=function(e){return new _(e.keys,this.visitAll(e.values))},AstTransformer.prototype.visitBinary=function(e){return new w(e.operation,e.left.visit(this),e.right.visit(this))},AstTransformer.prototype.visitPrefixNot=function(e){return new C(e.expression.visit(this))},AstTransformer.prototype.visitConditional=function(e){return new l(e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))},AstTransformer.prototype.visitPipe=function(e){return new m(e.exp.visit(this),e.name,this.visitAll(e.args))},AstTransformer.prototype.visitKeyedRead=function(e){return new d(e.obj.visit(this),e.key.visit(this))},AstTransformer.prototype.visitKeyedWrite=function(e){return new y(e.obj.visit(this),e.key.visit(this),e.value.visit(this))},AstTransformer.prototype.visitAll=function(e){for(var t=i.ListWrapper.createFixedSize(e.length),n=0;n<e.length;++n)t[n]=e[n].visit(this);return t},AstTransformer.prototype.visitChain=function(e){return new u(this.visitAll(e.expressions))},AstTransformer.prototype.visitQuote=function(e){return new a(e.prefix,e.uninterpretedExpression,e.location)},AstTransformer}();t.AstTransformer=O},function(e,t,n){"use strict";function newCharacterToken(e,t){return new h(e,l.Character,t,c.StringWrapper.fromCharCode(t))}function newIdentifierToken(e,t){return new h(e,l.Identifier,0,t)}function newKeywordToken(e,t){return new h(e,l.Keyword,0,t)}function newOperatorToken(e,t){return new h(e,l.Operator,0,t)}function newStringToken(e,t){return new h(e,l.String,0,t)}function newNumberToken(e,t){return new h(e,l.Number,t,"")}function isWhitespace(e){return e>=t.$TAB&&e<=t.$SPACE||e==O}function isIdentifierStart(e){return e>=b&&A>=e||e>=y&&g>=e||e==_||e==t.$$}function isIdentifier(e){if(0==e.length)return!1;var n=new I(e);if(!isIdentifierStart(n.peek))return!1;for(n.advance();n.peek!==t.$EOF;){if(!isIdentifierPart(n.peek))return!1;n.advance()}return!0}function isIdentifierPart(e){return e>=b&&A>=e||e>=y&&g>=e||e>=f&&d>=e||e==_||e==t.$$}function isDigit(e){return e>=f&&d>=e}function isExponentStart(e){return e==w||e==m}function isExponentSign(e){return e==t.$MINUS||e==t.$PLUS}function unescape(e){switch(e){case P:return t.$LF;case C:return t.$FF;case R:return t.$CR;case S:return t.$TAB;case D:return t.$VTAB;default:return e}}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(12),s=n(16),c=n(8),u=n(18);!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number"}(t.TokenType||(t.TokenType={}));var l=t.TokenType,p=function(){function Lexer(){}return Lexer.prototype.tokenize=function(e){for(var t=new I(e),n=[],r=t.scanToken();null!=r;)n.push(r),r=t.scanToken();return n},Lexer=i([a.Injectable(),o("design:paramtypes",[])],Lexer)}();t.Lexer=p;var h=function(){function Token(e,t,n,r){this.index=e,this.type=t,this.numValue=n,this.strValue=r}return Token.prototype.isCharacter=function(e){return this.type==l.Character&&this.numValue==e},Token.prototype.isNumber=function(){return this.type==l.Number},Token.prototype.isString=function(){return this.type==l.String},Token.prototype.isOperator=function(e){return this.type==l.Operator&&this.strValue==e},Token.prototype.isIdentifier=function(){return this.type==l.Identifier},Token.prototype.isKeyword=function(){return this.type==l.Keyword},Token.prototype.isKeywordVar=function(){return this.type==l.Keyword&&"var"==this.strValue},Token.prototype.isKeywordNull=function(){return this.type==l.Keyword&&"null"==this.strValue},Token.prototype.isKeywordUndefined=function(){return this.type==l.Keyword&&"undefined"==this.strValue},Token.prototype.isKeywordTrue=function(){return this.type==l.Keyword&&"true"==this.strValue},Token.prototype.isKeywordFalse=function(){return this.type==l.Keyword&&"false"==this.strValue},Token.prototype.toNumber=function(){return this.type==l.Number?this.numValue:-1},Token.prototype.toString=function(){switch(this.type){case l.Character:case l.Identifier:case l.Keyword:case l.Operator:case l.String:return this.strValue;case l.Number:return this.numValue.toString();default:return null}},Token}();t.Token=h,t.EOF=new h(-1,l.Character,0,""),t.$EOF=0,t.$TAB=9,t.$LF=10,t.$VTAB=11,t.$FF=12,t.$CR=13,t.$SPACE=32,t.$BANG=33,t.$DQ=34,t.$HASH=35,t.$$=36,t.$PERCENT=37,t.$AMPERSAND=38,t.$SQ=39,t.$LPAREN=40,t.$RPAREN=41,t.$STAR=42,t.$PLUS=43,t.$COMMA=44,t.$MINUS=45,t.$PERIOD=46,t.$SLASH=47,t.$COLON=58,t.$SEMICOLON=59,t.$LT=60,t.$EQ=61,t.$GT=62,t.$QUESTION=63;var f=48,d=57,y=65,m=69,g=90;t.$LBRACKET=91,t.$BACKSLASH=92,t.$RBRACKET=93;var v=94,_=95,b=97,w=101,C=102,P=110,R=114,S=116,E=117,D=118,A=122;t.$LBRACE=123,t.$BAR=124,t.$RBRACE=125;var O=160,T=function(e){function ScannerError(t){e.call(this),this.message=t}return r(ScannerError,e),ScannerError.prototype.toString=function(){return this.message},ScannerError}(u.BaseException);t.ScannerError=T;var I=function(){function _Scanner(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return _Scanner.prototype.advance=function(){this.peek=++this.index>=this.length?t.$EOF:c.StringWrapper.charCodeAt(this.input,this.index)},_Scanner.prototype.scanToken=function(){for(var e=this.input,n=this.length,r=this.peek,i=this.index;r<=t.$SPACE;){if(++i>=n){r=t.$EOF;break}r=c.StringWrapper.charCodeAt(e,i)}if(this.peek=r,this.index=i,i>=n)return null;if(isIdentifierStart(r))return this.scanIdentifier();if(isDigit(r))return this.scanNumber(i);var o=i;switch(r){case t.$PERIOD:return this.advance(),isDigit(this.peek)?this.scanNumber(o):newCharacterToken(o,t.$PERIOD);case t.$LPAREN:case t.$RPAREN:case t.$LBRACE:case t.$RBRACE:case t.$LBRACKET:case t.$RBRACKET:case t.$COMMA:case t.$COLON:case t.$SEMICOLON:return this.scanCharacter(o,r);case t.$SQ:case t.$DQ:return this.scanString();case t.$HASH:case t.$PLUS:case t.$MINUS:case t.$STAR:case t.$SLASH:case t.$PERCENT:case v:return this.scanOperator(o,c.StringWrapper.fromCharCode(r));case t.$QUESTION:return this.scanComplexOperator(o,"?",t.$PERIOD,".");case t.$LT:case t.$GT:return this.scanComplexOperator(o,c.StringWrapper.fromCharCode(r),t.$EQ,"=");case t.$BANG:case t.$EQ:return this.scanComplexOperator(o,c.StringWrapper.fromCharCode(r),t.$EQ,"=",t.$EQ,"=");case t.$AMPERSAND:return this.scanComplexOperator(o,"&",t.$AMPERSAND,"&");case t.$BAR:return this.scanComplexOperator(o,"|",t.$BAR,"|");case O:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.error("Unexpected character ["+c.StringWrapper.fromCharCode(r)+"]",0),null},_Scanner.prototype.scanCharacter=function(e,t){return this.advance(),newCharacterToken(e,t)},_Scanner.prototype.scanOperator=function(e,t){return this.advance(),newOperatorToken(e,t)},_Scanner.prototype.scanComplexOperator=function(e,t,n,r,i,o){this.advance();var a=t;return this.peek==n&&(this.advance(),a+=r),c.isPresent(i)&&this.peek==i&&(this.advance(),a+=o),newOperatorToken(e,a)},_Scanner.prototype.scanIdentifier=function(){var e=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var t=this.input.substring(e,this.index);return s.SetWrapper.has(N,t)?newKeywordToken(e,t):newIdentifierToken(e,t)},_Scanner.prototype.scanNumber=function(e){var n=this.index===e;for(this.advance();;){if(isDigit(this.peek));else if(this.peek==t.$PERIOD)n=!1;else{if(!isExponentStart(this.peek))break;this.advance(),isExponentSign(this.peek)&&this.advance(),isDigit(this.peek)||this.error("Invalid exponent",-1),n=!1}this.advance()}var r=this.input.substring(e,this.index),i=n?c.NumberWrapper.parseIntAutoRadix(r):c.NumberWrapper.parseFloat(r);return newNumberToken(e,i)},_Scanner.prototype.scanString=function(){var e=this.index,n=this.peek;this.advance();for(var r,i=this.index,o=this.input;this.peek!=n;)if(this.peek==t.$BACKSLASH){null==r&&(r=new c.StringJoiner),r.add(o.substring(i,this.index)),this.advance();var a;if(this.peek==E){var s=o.substring(this.index+1,this.index+5);try{a=c.NumberWrapper.parseInt(s,16)}catch(u){this.error("Invalid unicode escape [\\u"+s+"]",0)}for(var l=0;5>l;l++)this.advance()}else a=unescape(this.peek),this.advance();r.add(c.StringWrapper.fromCharCode(a)),i=this.index}else this.peek==t.$EOF?this.error("Unterminated quote",0):this.advance();var p=o.substring(i,this.index);this.advance();var h=p;return null!=r&&(r.add(p),h=r.toString()),newStringToken(e,h)},_Scanner.prototype.error=function(e,t){var n=this.index+t;throw new T("Lexer Error: "+e+" at column "+n+" in expression ["+this.input+"]")},_Scanner}();t.isIdentifier=isIdentifier;var N=(s.SetWrapper.createFromList(["+","-","*","/","%","^","=","==","!=","===","!==","<",">","<=",">=","&&","||","&","|","!","?","#","?."]),s.SetWrapper.createFromList(["var","null","undefined","true","false","if","else"]))},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(12),s=n(8),c=n(18),u=n(16),l=n(40),p=n(21),h=n(39),f=new h.ImplicitReceiver,d=/\{\{([\s\S]*?)\}\}/g,y=function(e){function ParseException(t,n,r,i){e.call(this,"Parser Error: "+t+" "+r+" ["+n+"] in "+i)}return r(ParseException,e),ParseException}(c.BaseException),m=function(){function SplitInterpolation(e,t){this.strings=e,this.expressions=t}return SplitInterpolation}();t.SplitInterpolation=m;var g=function(){function Parser(e,t){void 0===t&&(t=null),this._lexer=e,this._reflector=s.isPresent(t)?t:p.reflector}return Parser.prototype.parseAction=function(e,t){this._checkNoInterpolation(e,t);var n=this._lexer.tokenize(e),r=new v(e,t,n,this._reflector,!0).parseChain();return new h.ASTWithSource(r,e,t)},Parser.prototype.parseBinding=function(e,t){var n=this._parseBindingAst(e,t);return new h.ASTWithSource(n,e,t)},Parser.prototype.parseSimpleBinding=function(e,t){var n=this._parseBindingAst(e,t);if(!_.check(n))throw new y("Host binding expression can only contain field access and constants",e,t);return new h.ASTWithSource(n,e,t)},Parser.prototype._parseBindingAst=function(e,t){var n=this._parseQuote(e,t);if(s.isPresent(n))return n;this._checkNoInterpolation(e,t);var r=this._lexer.tokenize(e);return new v(e,t,r,this._reflector,!1).parseChain()},Parser.prototype._parseQuote=function(e,t){if(s.isBlank(e))return null;var n=e.indexOf(":");if(-1==n)return null;var r=e.substring(0,n).trim();if(!l.isIdentifier(r))return null;var i=e.substring(n+1);return new h.Quote(r,i,t)},Parser.prototype.parseTemplateBindings=function(e,t){var n=this._lexer.tokenize(e);return new v(e,t,n,this._reflector,!1).parseTemplateBindings()},Parser.prototype.parseInterpolation=function(e,t){var n=this.splitInterpolation(e,t);if(null==n)return null;for(var r=[],i=0;i<n.expressions.length;++i){var o=this._lexer.tokenize(n.expressions[i]),a=new v(e,t,o,this._reflector,!1).parseChain();r.push(a)}return new h.ASTWithSource(new h.Interpolation(n.strings,r),e,t)},Parser.prototype.splitInterpolation=function(e,t){var n=s.StringWrapper.split(e,d);if(n.length<=1)return null;for(var r=[],i=[],o=0;o<n.length;o++){var a=n[o];if(o%2===0)r.push(a);else{if(!(a.trim().length>0))throw new y("Blank expressions are not allowed in interpolated strings",e,"at column "+this._findInterpolationErrorColumn(n,o)+" in",t);i.push(a)}}return new m(r,i)},Parser.prototype.wrapLiteralPrimitive=function(e,t){return new h.ASTWithSource(new h.LiteralPrimitive(e),e,t)},Parser.prototype._checkNoInterpolation=function(e,t){var n=s.StringWrapper.split(e,d);if(n.length>1)throw new y("Got interpolation ({{}}) where expression was expected",e,"at column "+this._findInterpolationErrorColumn(n,1)+" in",t)},Parser.prototype._findInterpolationErrorColumn=function(e,t){for(var n="",r=0;t>r;r++)n+=r%2===0?e[r]:"{{"+e[r]+"}}";return n.length},Parser=i([a.Injectable(),o("design:paramtypes",[l.Lexer,p.Reflector])],Parser)}();t.Parser=g;var v=function(){function _ParseAST(e,t,n,r,i){this.input=e,this.location=t,this.tokens=n,this.reflector=r,this.parseAction=i,this.index=0}return _ParseAST.prototype.peek=function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:l.EOF},Object.defineProperty(_ParseAST.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(_ParseAST.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index:this.input.length},enumerable:!0,configurable:!0}),_ParseAST.prototype.advance=function(){this.index++},_ParseAST.prototype.optionalCharacter=function(e){return this.next.isCharacter(e)?(this.advance(),!0):!1},_ParseAST.prototype.optionalKeywordVar=function(){return this.peekKeywordVar()?(this.advance(),!0):!1},_ParseAST.prototype.peekKeywordVar=function(){return this.next.isKeywordVar()||this.next.isOperator("#")},_ParseAST.prototype.expectCharacter=function(e){this.optionalCharacter(e)||this.error("Missing expected "+s.StringWrapper.fromCharCode(e))},_ParseAST.prototype.optionalOperator=function(e){return this.next.isOperator(e)?(this.advance(),!0):!1},_ParseAST.prototype.expectOperator=function(e){this.optionalOperator(e)||this.error("Missing expected operator "+e)},_ParseAST.prototype.expectIdentifierOrKeyword=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||this.error("Unexpected token "+e+", expected identifier or keyword"),this.advance(),e.toString()},_ParseAST.prototype.expectIdentifierOrKeywordOrString=function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()||this.error("Unexpected token "+e+", expected identifier, keyword, or string"),this.advance(),e.toString()},_ParseAST.prototype.parseChain=function(){for(var e=[];this.index<this.tokens.length;){var t=this.parsePipe();if(e.push(t),this.optionalCharacter(l.$SEMICOLON))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(l.$SEMICOLON););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==e.length?new h.EmptyExpr:1==e.length?e[0]:new h.Chain(e)},_ParseAST.prototype.parsePipe=function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(l.$COLON);)n.push(this.parseExpression());e=new h.BindingPipe(e,t,n)}while(this.optionalOperator("|"))}return e},_ParseAST.prototype.parseExpression=function(){return this.parseConditional()},_ParseAST.prototype.parseConditional=function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe();if(!this.optionalCharacter(l.$COLON)){var r=this.inputIndex,i=this.input.substring(e,r);this.error("Conditional expression "+i+" requires all 3 expressions")}var o=this.parsePipe();return new h.Conditional(t,n,o)}return t},_ParseAST.prototype.parseLogicalOr=function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");)e=new h.Binary("||",e,this.parseLogicalAnd());return e},_ParseAST.prototype.parseLogicalAnd=function(){for(var e=this.parseEquality();this.optionalOperator("&&");)e=new h.Binary("&&",e,this.parseEquality());return e},_ParseAST.prototype.parseEquality=function(){for(var e=this.parseRelational();;)if(this.optionalOperator("=="))e=new h.Binary("==",e,this.parseRelational());else if(this.optionalOperator("==="))e=new h.Binary("===",e,this.parseRelational());else if(this.optionalOperator("!="))e=new h.Binary("!=",e,this.parseRelational());else{if(!this.optionalOperator("!=="))return e;e=new h.Binary("!==",e,this.parseRelational())}},_ParseAST.prototype.parseRelational=function(){for(var e=this.parseAdditive();;)if(this.optionalOperator("<"))e=new h.Binary("<",e,this.parseAdditive());else if(this.optionalOperator(">"))e=new h.Binary(">",e,this.parseAdditive());else if(this.optionalOperator("<="))e=new h.Binary("<=",e,this.parseAdditive());else{if(!this.optionalOperator(">="))return e;e=new h.Binary(">=",e,this.parseAdditive())}},_ParseAST.prototype.parseAdditive=function(){for(var e=this.parseMultiplicative();;)if(this.optionalOperator("+"))e=new h.Binary("+",e,this.parseMultiplicative());else{if(!this.optionalOperator("-"))return e;e=new h.Binary("-",e,this.parseMultiplicative())}},_ParseAST.prototype.parseMultiplicative=function(){for(var e=this.parsePrefix();;)if(this.optionalOperator("*"))e=new h.Binary("*",e,this.parsePrefix());else if(this.optionalOperator("%"))e=new h.Binary("%",e,this.parsePrefix());else{if(!this.optionalOperator("/"))return e;e=new h.Binary("/",e,this.parsePrefix())}},_ParseAST.prototype.parsePrefix=function(){return this.optionalOperator("+")?this.parsePrefix():this.optionalOperator("-")?new h.Binary("-",new h.LiteralPrimitive(0),this.parsePrefix()):this.optionalOperator("!")?new h.PrefixNot(this.parsePrefix()):this.parseCallChain()},_ParseAST.prototype.parseCallChain=function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(l.$PERIOD))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(l.$LBRACKET)){var t=this.parsePipe();if(this.expectCharacter(l.$RBRACKET),this.optionalOperator("=")){var n=this.parseConditional();e=new h.KeyedWrite(e,t,n)}else e=new h.KeyedRead(e,t)}else{if(!this.optionalCharacter(l.$LPAREN))return e;var r=this.parseCallArguments();this.expectCharacter(l.$RPAREN),e=new h.FunctionCall(e,r)}},_ParseAST.prototype.parsePrimary=function(){if(this.optionalCharacter(l.$LPAREN)){var e=this.parsePipe();return this.expectCharacter(l.$RPAREN),e}if(this.next.isKeywordNull()||this.next.isKeywordUndefined())return this.advance(),new h.LiteralPrimitive(null);if(this.next.isKeywordTrue())return this.advance(),new h.LiteralPrimitive(!0);if(this.next.isKeywordFalse())return this.advance(),new h.LiteralPrimitive(!1);if(this.optionalCharacter(l.$LBRACKET)){var t=this.parseExpressionList(l.$RBRACKET);return this.expectCharacter(l.$RBRACKET),new h.LiteralArray(t)}if(this.next.isCharacter(l.$LBRACE))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(f,!1);if(this.next.isNumber()){var n=this.next.toNumber();return this.advance(),new h.LiteralPrimitive(n)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new h.LiteralPrimitive(r)}throw this.index>=this.tokens.length?this.error("Unexpected end of expression: "+this.input):this.error("Unexpected token "+this.next),new c.BaseException("Fell through all cases in parsePrimary")},_ParseAST.prototype.parseExpressionList=function(e){var t=[];if(!this.next.isCharacter(e))do t.push(this.parsePipe());while(this.optionalCharacter(l.$COMMA));return t},_ParseAST.prototype.parseLiteralMap=function(){var e=[],t=[];if(this.expectCharacter(l.$LBRACE),!this.optionalCharacter(l.$RBRACE)){do{var n=this.expectIdentifierOrKeywordOrString();e.push(n),this.expectCharacter(l.$COLON),t.push(this.parsePipe())}while(this.optionalCharacter(l.$COMMA));this.expectCharacter(l.$RBRACE)}return new h.LiteralMap(e,t)},_ParseAST.prototype.parseAccessMemberOrMethodCall=function(e,t){void 0===t&&(t=!1);var n=this.expectIdentifierOrKeyword();if(this.optionalCharacter(l.$LPAREN)){var r=this.parseCallArguments();this.expectCharacter(l.$RPAREN);var i=this.reflector.method(n);return t?new h.SafeMethodCall(e,n,i,r):new h.MethodCall(e,n,i,r)}if(!t){if(this.optionalOperator("=")){this.parseAction||this.error("Bindings cannot contain assignments");var o=this.parseConditional();return new h.PropertyWrite(e,n,this.reflector.setter(n),o)}return new h.PropertyRead(e,n,this.reflector.getter(n))}return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),null):new h.SafePropertyRead(e,n,this.reflector.getter(n))},_ParseAST.prototype.parseCallArguments=function(){if(this.next.isCharacter(l.$RPAREN))return[];var e=[];do e.push(this.parsePipe());while(this.optionalCharacter(l.$COMMA));return e},_ParseAST.prototype.parseBlockContent=function(){this.parseAction||this.error("Binding expression cannot contain chained expression");for(var e=[];this.index<this.tokens.length&&!this.next.isCharacter(l.$RBRACE);){var t=this.parseExpression();if(e.push(t),this.optionalCharacter(l.$SEMICOLON))for(;this.optionalCharacter(l.$SEMICOLON););}return 0==e.length?new h.EmptyExpr:1==e.length?e[0]:new h.Chain(e)},_ParseAST.prototype.expectTemplateBindingKey=function(){var e="",t=!1;do e+=this.expectIdentifierOrKeywordOrString(),t=this.optionalOperator("-"),t&&(e+="-");while(t);return e.toString()},_ParseAST.prototype.parseTemplateBindings=function(){for(var e=[],t=null;this.index<this.tokens.length;){var n=this.optionalKeywordVar(),r=this.expectTemplateBindingKey();n||(null==t?t=r:r=t+r[0].toUpperCase()+r.substring(1)),this.optionalCharacter(l.$COLON);var i=null,o=null;if(n)i=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==l.EOF&&!this.peekKeywordVar()){var a=this.inputIndex,s=this.parsePipe(),c=this.input.substring(a,this.inputIndex);o=new h.ASTWithSource(s,c,this.location)}e.push(new h.TemplateBinding(r,n,i,o)),this.optionalCharacter(l.$SEMICOLON)||this.optionalCharacter(l.$COMMA)}return e},_ParseAST.prototype.error=function(e,t){void 0===t&&(t=null),s.isBlank(t)&&(t=this.index);var n=t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression";throw new y(e,this.input,n,this.location)},_ParseAST}();t._ParseAST=v;var _=function(){function SimpleExpressionChecker(){this.simple=!0}return SimpleExpressionChecker.check=function(e){var t=new SimpleExpressionChecker;return e.visit(t),t.simple},SimpleExpressionChecker.prototype.visitImplicitReceiver=function(e){},SimpleExpressionChecker.prototype.visitInterpolation=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralPrimitive=function(e){},SimpleExpressionChecker.prototype.visitPropertyRead=function(e){},
SimpleExpressionChecker.prototype.visitPropertyWrite=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitSafePropertyRead=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitMethodCall=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitSafeMethodCall=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitFunctionCall=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitLiteralArray=function(e){this.visitAll(e.expressions)},SimpleExpressionChecker.prototype.visitLiteralMap=function(e){this.visitAll(e.values)},SimpleExpressionChecker.prototype.visitBinary=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitPrefixNot=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitConditional=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitPipe=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedRead=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitKeyedWrite=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitAll=function(e){for(var t=u.ListWrapper.createFixedSize(e.length),n=0;n<e.length;++n)t[n]=e[n].visit(this);return t},SimpleExpressionChecker.prototype.visitChain=function(e){this.simple=!1},SimpleExpressionChecker.prototype.visitQuote=function(e){this.simple=!1},SimpleExpressionChecker}()},function(e,t,n){"use strict";var r=n(8),i=n(18),o=n(16),a=function(){function Locals(e,t){this.parent=e,this.current=t}return Locals.prototype.contains=function(e){return this.current.has(e)?!0:r.isPresent(this.parent)?this.parent.contains(e):!1},Locals.prototype.get=function(e){if(this.current.has(e))return this.current.get(e);if(r.isPresent(this.parent))return this.parent.get(e);throw new i.BaseException("Cannot find '"+e+"'")},Locals.prototype.set=function(e,t){if(!this.current.has(e))throw new i.BaseException("Setting of new keys post-construction is not supported. Key: "+e+".");this.current.set(e,t)},Locals.prototype.clearLocalValues=function(){o.MapWrapper.clearValues(this.current)},Locals}();t.Locals=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(18),o=function(e){function ExpressionChangedAfterItHasBeenCheckedException(t,n,r,i){e.call(this,"Expression '"+t+"' has changed after it was checked. "+("Previous value: '"+n+"'. Current value: '"+r+"'"))}return r(ExpressionChangedAfterItHasBeenCheckedException,e),ExpressionChangedAfterItHasBeenCheckedException}(i.BaseException);t.ExpressionChangedAfterItHasBeenCheckedException=o;var a=function(e){function ChangeDetectionError(t,n,r,i){e.call(this,n+" in ["+t+"]",n,r,i),this.location=t}return r(ChangeDetectionError,e),ChangeDetectionError}(i.WrappedException);t.ChangeDetectionError=a;var s=function(e){function DehydratedException(t){e.call(this,"Attempt to use a dehydrated detector: "+t)}return r(DehydratedException,e),DehydratedException}(i.BaseException);t.DehydratedException=s;var c=function(e){function EventEvaluationError(t,n,r,i){e.call(this,'Error during evaluation of "'+t+'"',n,r,i)}return r(EventEvaluationError,e),EventEvaluationError}(i.WrappedException);t.EventEvaluationError=c;var u=function(){function EventEvaluationErrorContext(e,t,n,r,i){this.element=e,this.componentElement=t,this.context=n,this.locals=r,this.injector=i}return EventEvaluationErrorContext}();t.EventEvaluationErrorContext=u},function(e,t){"use strict";var n=function(){function DebugContext(e,t,n,r,i,o){this.element=e,this.componentElement=t,this.directive=n,this.context=r,this.locals=i,this.injector=o}return DebugContext}();t.DebugContext=n;var r=function(){function ChangeDetectorGenConfig(e,t,n){this.genDebugInfo=e,this.logBindingUpdate=t,this.useJit=n}return ChangeDetectorGenConfig}();t.ChangeDetectorGenConfig=r;var i=function(){function ChangeDetectorDefinition(e,t,n,r,i,o,a){this.id=e,this.strategy=t,this.variableNames=n,this.bindingRecords=r,this.eventRecords=i,this.directiveRecords=o,this.genConfig=a}return ChangeDetectorDefinition}();t.ChangeDetectorDefinition=i},function(e,t,n){"use strict";function isDefaultChangeDetectionStrategy(e){return r.isBlank(e)||e===o.Default}var r=n(8);!function(e){e[e.NeverChecked=0]="NeverChecked",e[e.CheckedBefore=1]="CheckedBefore",e[e.Errored=2]="Errored"}(t.ChangeDetectorState||(t.ChangeDetectorState={}));var i=t.ChangeDetectorState;!function(e){e[e.CheckOnce=0]="CheckOnce",e[e.Checked=1]="Checked",e[e.CheckAlways=2]="CheckAlways",e[e.Detached=3]="Detached",e[e.OnPush=4]="OnPush",e[e.Default=5]="Default"}(t.ChangeDetectionStrategy||(t.ChangeDetectionStrategy={}));var o=t.ChangeDetectionStrategy;t.CHANGE_DETECTION_STRATEGY_VALUES=[o.CheckOnce,o.Checked,o.CheckAlways,o.Detached,o.OnPush,o.Default],t.CHANGE_DETECTOR_STATE_VALUES=[i.NeverChecked,i.CheckedBefore,i.Errored],t.isDefaultChangeDetectionStrategy=isDefaultChangeDetectionStrategy},function(e,t,n){"use strict";function createPropertyRecords(e){var t=new y;return o.ListWrapper.forEachWithIndex(e.bindingRecords,function(n,r){return t.add(n,e.variableNames,r)}),h.coalesce(t.records)}function createEventRecords(e){var t=o.ListWrapper.concat(["$event"],e.variableNames);return e.eventRecords.map(function(e){var n=m.create(e,t),r=e.implicitReceiver instanceof l.DirectiveIndex?e.implicitReceiver:null;return new p.EventBinding(e.target.name,e.target.elementIndex,r,n)})}function _arrayFn(e){switch(e){case 0:return c.ChangeDetectionUtil.arrayFn0;case 1:return c.ChangeDetectionUtil.arrayFn1;case 2:return c.ChangeDetectionUtil.arrayFn2;case 3:return c.ChangeDetectionUtil.arrayFn3;case 4:return c.ChangeDetectionUtil.arrayFn4;case 5:return c.ChangeDetectionUtil.arrayFn5;case 6:return c.ChangeDetectionUtil.arrayFn6;case 7:return c.ChangeDetectionUtil.arrayFn7;case 8:return c.ChangeDetectionUtil.arrayFn8;case 9:return c.ChangeDetectionUtil.arrayFn9;default:throw new i.BaseException("Does not support literal maps with more than 9 elements")}}function _mapPrimitiveName(e){var t=e.map(function(e){return r.isString(e)?'"'+e+'"':""+e}).join(", ");return"mapFn(["+t+"])"}function _operationToPrimitiveName(e){switch(e){case"+":return"operation_add";case"-":return"operation_subtract";case"*":return"operation_multiply";case"/":return"operation_divide";case"%":return"operation_remainder";case"==":return"operation_equals";case"!=":return"operation_not_equals";case"===":return"operation_identical";case"!==":return"operation_not_identical";case"<":return"operation_less_then";case">":return"operation_greater_then";case"<=":return"operation_less_or_equals_then";case">=":return"operation_greater_or_equals_then";default:throw new i.BaseException("Unsupported operation "+e)}}function _operationToFunction(e){switch(e){case"+":return c.ChangeDetectionUtil.operation_add;case"-":return c.ChangeDetectionUtil.operation_subtract;case"*":return c.ChangeDetectionUtil.operation_multiply;case"/":return c.ChangeDetectionUtil.operation_divide;case"%":return c.ChangeDetectionUtil.operation_remainder;case"==":return c.ChangeDetectionUtil.operation_equals;case"!=":return c.ChangeDetectionUtil.operation_not_equals;case"===":return c.ChangeDetectionUtil.operation_identical;case"!==":return c.ChangeDetectionUtil.operation_not_identical;case"<":return c.ChangeDetectionUtil.operation_less_then;case">":return c.ChangeDetectionUtil.operation_greater_then;case"<=":return c.ChangeDetectionUtil.operation_less_or_equals_then;case">=":return c.ChangeDetectionUtil.operation_greater_or_equals_then;default:throw new i.BaseException("Unsupported operation "+e)}}function s(e){return r.isPresent(e)?""+e:""}function _interpolationFn(e){var t=e.length,n=t>0?e[0]:null,r=t>1?e[1]:null,o=t>2?e[2]:null,a=t>3?e[3]:null,c=t>4?e[4]:null,u=t>5?e[5]:null,l=t>6?e[6]:null,p=t>7?e[7]:null,h=t>8?e[8]:null,f=t>9?e[9]:null;switch(t-1){case 1:return function(e){return n+s(e)+r};case 2:return function(e,t){return n+s(e)+r+s(t)+o};case 3:return function(e,t,i){return n+s(e)+r+s(t)+o+s(i)+a};case 4:return function(e,t,i,u){return n+s(e)+r+s(t)+o+s(i)+a+s(u)+c};case 5:return function(e,t,i,l,p){return n+s(e)+r+s(t)+o+s(i)+a+s(l)+c+s(p)+u};case 6:return function(e,t,i,p,h,f){return n+s(e)+r+s(t)+o+s(i)+a+s(p)+c+s(h)+u+s(f)+l};case 7:return function(e,t,i,h,f,d,y){return n+s(e)+r+s(t)+o+s(i)+a+s(h)+c+s(f)+u+s(d)+l+s(y)+p};case 8:return function(e,t,i,f,d,y,m,g){return n+s(e)+r+s(t)+o+s(i)+a+s(f)+c+s(d)+u+s(y)+l+s(m)+p+s(g)+h};case 9:return function(e,t,i,d,y,m,g,v,_){return n+s(e)+r+s(t)+o+s(i)+a+s(d)+c+s(y)+u+s(m)+l+s(g)+p+s(v)+h+s(_)+f};default:throw new i.BaseException("Does not support more than 9 expressions")}}var r=n(8),i=n(18),o=n(16),a=n(39),c=n(47),u=n(51),l=n(50),p=n(79),h=n(80),f=n(78),d=function(){function DynamicProtoChangeDetector(e){this._definition=e,this._propertyBindingRecords=createPropertyRecords(e),this._eventBindingRecords=createEventRecords(e),this._propertyBindingTargets=this._definition.bindingRecords.map(function(e){return e.target}),this._directiveIndices=this._definition.directiveRecords.map(function(e){return e.directiveIndex})}return DynamicProtoChangeDetector.prototype.instantiate=function(){return new u.DynamicChangeDetector(this._definition.id,this._propertyBindingRecords.length,this._propertyBindingTargets,this._directiveIndices,this._definition.strategy,this._propertyBindingRecords,this._eventBindingRecords,this._definition.directiveRecords,this._definition.genConfig)},DynamicProtoChangeDetector}();t.DynamicProtoChangeDetector=d,t.createPropertyRecords=createPropertyRecords,t.createEventRecords=createEventRecords;var y=function(){function ProtoRecordBuilder(){this.records=[]}return ProtoRecordBuilder.prototype.add=function(e,t,n){var i=o.ListWrapper.last(this.records);r.isPresent(i)&&i.bindingRecord.directiveRecord==e.directiveRecord&&(i.lastInDirective=!1);var a=this.records.length;this._appendRecords(e,t,n);var s=o.ListWrapper.last(this.records);r.isPresent(s)&&s!==i&&(s.lastInBinding=!0,s.lastInDirective=!0,this._setArgumentToPureFunction(a))},ProtoRecordBuilder.prototype._setArgumentToPureFunction=function(e){for(var t=this,n=e;n<this.records.length;++n){var r=this.records[n];r.isPureFunction()&&r.args.forEach(function(e){return t.records[e-1].argumentToPureFunction=!0}),r.mode===f.RecordType.Pipe&&(r.args.forEach(function(e){return t.records[e-1].argumentToPureFunction=!0}),this.records[r.contextIndex-1].argumentToPureFunction=!0)}},ProtoRecordBuilder.prototype._appendRecords=function(e,t,n){e.isDirectiveLifecycle()?this.records.push(new f.ProtoRecord(f.RecordType.DirectiveLifecycle,e.lifecycleEvent,null,[],[],-1,null,this.records.length+1,e,!1,!1,!1,!1,null)):m.append(this.records,e,t,n)},ProtoRecordBuilder}();t.ProtoRecordBuilder=y;var m=function(){function _ConvertAstIntoProtoRecords(e,t,n,r){this._records=e,this._bindingRecord=t,this._variableNames=n,this._bindingIndex=r}return _ConvertAstIntoProtoRecords.append=function(e,t,n,r){var i=new _ConvertAstIntoProtoRecords(e,t,n,r);t.ast.visit(i)},_ConvertAstIntoProtoRecords.create=function(e,t){var n=[];return _ConvertAstIntoProtoRecords.append(n,e,t,null),n[n.length-1].lastInBinding=!0,n},_ConvertAstIntoProtoRecords.prototype.visitImplicitReceiver=function(e){return this._bindingRecord.implicitReceiver},_ConvertAstIntoProtoRecords.prototype.visitInterpolation=function(e){var t=this._visitAll(e.expressions);return this._addRecord(f.RecordType.Interpolate,"interpolate",_interpolationFn(e.strings),t,e.strings,0)},_ConvertAstIntoProtoRecords.prototype.visitLiteralPrimitive=function(e){return this._addRecord(f.RecordType.Const,"literal",e.value,[],null,0)},_ConvertAstIntoProtoRecords.prototype.visitPropertyRead=function(e){var t=e.receiver.visit(this);return r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)&&e.receiver instanceof a.ImplicitReceiver?this._addRecord(f.RecordType.Local,e.name,e.name,[],null,t):this._addRecord(f.RecordType.PropertyRead,e.name,e.getter,[],null,t)},_ConvertAstIntoProtoRecords.prototype.visitPropertyWrite=function(e){if(r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)&&e.receiver instanceof a.ImplicitReceiver)throw new i.BaseException("Cannot reassign a variable binding "+e.name);var t=e.receiver.visit(this),n=e.value.visit(this);return this._addRecord(f.RecordType.PropertyWrite,e.name,e.setter,[n],null,t)},_ConvertAstIntoProtoRecords.prototype.visitKeyedWrite=function(e){var t=e.obj.visit(this),n=e.key.visit(this),r=e.value.visit(this);return this._addRecord(f.RecordType.KeyedWrite,null,null,[n,r],null,t)},_ConvertAstIntoProtoRecords.prototype.visitSafePropertyRead=function(e){var t=e.receiver.visit(this);return this._addRecord(f.RecordType.SafeProperty,e.name,e.getter,[],null,t)},_ConvertAstIntoProtoRecords.prototype.visitMethodCall=function(e){var t=e.receiver.visit(this),n=this._visitAll(e.args);if(r.isPresent(this._variableNames)&&o.ListWrapper.contains(this._variableNames,e.name)){var i=this._addRecord(f.RecordType.Local,e.name,e.name,[],null,t);return this._addRecord(f.RecordType.InvokeClosure,"closure",null,n,null,i)}return this._addRecord(f.RecordType.InvokeMethod,e.name,e.fn,n,null,t)},_ConvertAstIntoProtoRecords.prototype.visitSafeMethodCall=function(e){var t=e.receiver.visit(this),n=this._visitAll(e.args);return this._addRecord(f.RecordType.SafeMethodInvoke,e.name,e.fn,n,null,t)},_ConvertAstIntoProtoRecords.prototype.visitFunctionCall=function(e){var t=e.target.visit(this),n=this._visitAll(e.args);return this._addRecord(f.RecordType.InvokeClosure,"closure",null,n,null,t)},_ConvertAstIntoProtoRecords.prototype.visitLiteralArray=function(e){var t="arrayFn"+e.expressions.length;return this._addRecord(f.RecordType.CollectionLiteral,t,_arrayFn(e.expressions.length),this._visitAll(e.expressions),null,0)},_ConvertAstIntoProtoRecords.prototype.visitLiteralMap=function(e){return this._addRecord(f.RecordType.CollectionLiteral,_mapPrimitiveName(e.keys),c.ChangeDetectionUtil.mapFn(e.keys),this._visitAll(e.values),null,0)},_ConvertAstIntoProtoRecords.prototype.visitBinary=function(e){var t=e.left.visit(this);switch(e.operation){case"&&":var n=[null];this._addRecord(f.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],n,t);var r=e.right.visit(this);return n[0]=r,this._addRecord(f.RecordType.PrimitiveOp,"cond",c.ChangeDetectionUtil.cond,[t,r,t],null,0);case"||":var n=[null];this._addRecord(f.RecordType.SkipRecordsIf,"SkipRecordsIf",null,[],n,t);var r=e.right.visit(this);return n[0]=r,this._addRecord(f.RecordType.PrimitiveOp,"cond",c.ChangeDetectionUtil.cond,[t,t,r],null,0);default:var r=e.right.visit(this);return this._addRecord(f.RecordType.PrimitiveOp,_operationToPrimitiveName(e.operation),_operationToFunction(e.operation),[t,r],null,0)}},_ConvertAstIntoProtoRecords.prototype.visitPrefixNot=function(e){var t=e.expression.visit(this);return this._addRecord(f.RecordType.PrimitiveOp,"operation_negate",c.ChangeDetectionUtil.operation_negate,[t],null,0)},_ConvertAstIntoProtoRecords.prototype.visitConditional=function(e){var t=e.condition.visit(this),n=[null],r=[null];this._addRecord(f.RecordType.SkipRecordsIfNot,"SkipRecordsIfNot",null,[],n,t);var i=e.trueExp.visit(this),o=this._addRecord(f.RecordType.SkipRecords,"SkipRecords",null,[],r,0),a=e.falseExp.visit(this);return n[0]=o,r[0]=a,this._addRecord(f.RecordType.PrimitiveOp,"cond",c.ChangeDetectionUtil.cond,[t,i,a],null,0)},_ConvertAstIntoProtoRecords.prototype.visitPipe=function(e){var t=e.exp.visit(this),n=this._visitAll(e.args);return this._addRecord(f.RecordType.Pipe,e.name,e.name,n,null,t)},_ConvertAstIntoProtoRecords.prototype.visitKeyedRead=function(e){var t=e.obj.visit(this),n=e.key.visit(this);return this._addRecord(f.RecordType.KeyedRead,"keyedAccess",c.ChangeDetectionUtil.keyedAccess,[n],null,t)},_ConvertAstIntoProtoRecords.prototype.visitChain=function(e){var t=this,n=e.expressions.map(function(e){return e.visit(t)});return this._addRecord(f.RecordType.Chain,"chain",null,n,null,0)},_ConvertAstIntoProtoRecords.prototype.visitQuote=function(e){throw new i.BaseException("Caught uninterpreted expression at "+e.location+": "+e.uninterpretedExpression+". "+("Expression prefix "+e.prefix+" did not match a template transformer to interpret the expression."))},_ConvertAstIntoProtoRecords.prototype._visitAll=function(e){for(var t=o.ListWrapper.createFixedSize(e.length),n=0;n<e.length;++n)t[n]=e[n].visit(this);return t},_ConvertAstIntoProtoRecords.prototype._addRecord=function(e,t,n,r,i,o){var a=this._records.length+1;return o instanceof l.DirectiveIndex?this._records.push(new f.ProtoRecord(e,t,n,r,i,-1,o,a,this._bindingRecord,!1,!1,!1,!1,this._bindingIndex)):this._records.push(new f.ProtoRecord(e,t,n,r,i,o,null,a,this._bindingRecord,!1,!1,!1,!1,this._bindingIndex)),a},_ConvertAstIntoProtoRecords}()},function(e,t,n){"use strict";function _simpleChange(e,t){return new f(e,t)}var r=n(8),i=n(18),o=n(16),a=n(45),s=n(48),c=n(49),u=n(50),l=function(){function WrappedValue(e){this.wrapped=e}return WrappedValue.wrap=function(e){var t=p[h++%5];return t.wrapped=e,t},WrappedValue}();t.WrappedValue=l;var p=[new l(null),new l(null),new l(null),new l(null),new l(null)],h=0,f=function(){function SimpleChange(e,t){this.previousValue=e,this.currentValue=t}return SimpleChange.prototype.isFirstChange=function(){return this.previousValue===d.uninitialized},SimpleChange}();t.SimpleChange=f;var d=function(){function ChangeDetectionUtil(){}return ChangeDetectionUtil.arrayFn0=function(){return[]},ChangeDetectionUtil.arrayFn1=function(e){return[e]},ChangeDetectionUtil.arrayFn2=function(e,t){return[e,t]},ChangeDetectionUtil.arrayFn3=function(e,t,n){return[e,t,n]},ChangeDetectionUtil.arrayFn4=function(e,t,n,r){return[e,t,n,r]},ChangeDetectionUtil.arrayFn5=function(e,t,n,r,i){return[e,t,n,r,i]},ChangeDetectionUtil.arrayFn6=function(e,t,n,r,i,o){return[e,t,n,r,i,o]},ChangeDetectionUtil.arrayFn7=function(e,t,n,r,i,o,a){return[e,t,n,r,i,o,a]},ChangeDetectionUtil.arrayFn8=function(e,t,n,r,i,o,a,s){return[e,t,n,r,i,o,a,s]},ChangeDetectionUtil.arrayFn9=function(e,t,n,r,i,o,a,s,c){return[e,t,n,r,i,o,a,s,c]},ChangeDetectionUtil.operation_negate=function(e){return!e},ChangeDetectionUtil.operation_add=function(e,t){return e+t},ChangeDetectionUtil.operation_subtract=function(e,t){return e-t},ChangeDetectionUtil.operation_multiply=function(e,t){return e*t},ChangeDetectionUtil.operation_divide=function(e,t){return e/t},ChangeDetectionUtil.operation_remainder=function(e,t){return e%t},ChangeDetectionUtil.operation_equals=function(e,t){return e==t},ChangeDetectionUtil.operation_not_equals=function(e,t){return e!=t},ChangeDetectionUtil.operation_identical=function(e,t){return e===t},ChangeDetectionUtil.operation_not_identical=function(e,t){return e!==t},ChangeDetectionUtil.operation_less_then=function(e,t){return t>e},ChangeDetectionUtil.operation_greater_then=function(e,t){return e>t},ChangeDetectionUtil.operation_less_or_equals_then=function(e,t){return t>=e},ChangeDetectionUtil.operation_greater_or_equals_then=function(e,t){return e>=t},ChangeDetectionUtil.cond=function(e,t,n){return e?t:n},ChangeDetectionUtil.mapFn=function(e){function buildMap(t){for(var n=o.StringMapWrapper.create(),r=0;r<e.length;++r)o.StringMapWrapper.set(n,e[r],t[r]);return n}switch(e.length){case 0:return function(){return[]};case 1:return function(e){return buildMap([e])};case 2:return function(e,t){return buildMap([e,t])};case 3:return function(e,t,n){return buildMap([e,t,n])};case 4:return function(e,t,n,r){return buildMap([e,t,n,r])};case 5:return function(e,t,n,r,i){return buildMap([e,t,n,r,i])};case 6:return function(e,t,n,r,i,o){return buildMap([e,t,n,r,i,o])};case 7:return function(e,t,n,r,i,o,a){return buildMap([e,t,n,r,i,o,a])};case 8:return function(e,t,n,r,i,o,a,s){return buildMap([e,t,n,r,i,o,a,s])};case 9:return function(e,t,n,r,i,o,a,s,c){return buildMap([e,t,n,r,i,o,a,s,c])};default:throw new i.BaseException("Does not support literal maps with more than 9 elements")}},ChangeDetectionUtil.keyedAccess=function(e,t){return e[t[0]]},ChangeDetectionUtil.unwrapValue=function(e){return e instanceof l?e.wrapped:e},ChangeDetectionUtil.changeDetectionMode=function(e){return a.isDefaultChangeDetectionStrategy(e)?a.ChangeDetectionStrategy.CheckAlways:a.ChangeDetectionStrategy.CheckOnce},ChangeDetectionUtil.simpleChange=function(e,t){return _simpleChange(e,t)},ChangeDetectionUtil.isValueBlank=function(e){return r.isBlank(e)},ChangeDetectionUtil.s=function(e){return r.isPresent(e)?""+e:""},ChangeDetectionUtil.protoByIndex=function(e,t){return 1>t?null:e[t-1]},ChangeDetectionUtil.callPipeOnDestroy=function(e){s.implementsOnDestroy(e.pipe)&&e.pipe.ngOnDestroy()},ChangeDetectionUtil.bindingTarget=function(e,t,n,r,i){return new c.BindingTarget(e,t,n,r,i)},ChangeDetectionUtil.directiveIndex=function(e,t){return new u.DirectiveIndex(e,t)},ChangeDetectionUtil.looseNotIdentical=function(e,t){return!r.looseIdentical(e,t)},ChangeDetectionUtil.devModeEqual=function(e,t){return o.isListLikeIterable(e)&&o.isListLikeIterable(t)?o.areIterablesEqual(e,t,ChangeDetectionUtil.devModeEqual):o.isListLikeIterable(e)||r.isPrimitive(e)||o.isListLikeIterable(t)||r.isPrimitive(t)?r.looseIdentical(e,t):!0},ChangeDetectionUtil.uninitialized=r.CONST_EXPR(new Object),ChangeDetectionUtil}();t.ChangeDetectionUtil=d},function(e,t){"use strict";function implementsOnDestroy(e){return e.constructor.prototype.ngOnDestroy}t.implementsOnDestroy=implementsOnDestroy},function(e,t,n){"use strict";var r=n(8),i="directiveLifecycle",o="native",a="directive",s="elementProperty",c="elementAttribute",u="elementClass",l="elementStyle",p="textNode",h="event",f="hostEvent",d=function(){function BindingTarget(e,t,n,r,i){this.mode=e,this.elementIndex=t,this.name=n,this.unit=r,this.debug=i}return BindingTarget.prototype.isDirective=function(){return this.mode===a},BindingTarget.prototype.isElementProperty=function(){return this.mode===s},BindingTarget.prototype.isElementAttribute=function(){return this.mode===c},BindingTarget.prototype.isElementClass=function(){return this.mode===u},BindingTarget.prototype.isElementStyle=function(){return this.mode===l},BindingTarget.prototype.isTextNode=function(){return this.mode===p},BindingTarget}();t.BindingTarget=d;var y=function(){function BindingRecord(e,t,n,r,i,o,a){this.mode=e,this.target=t,this.implicitReceiver=n,this.ast=r,this.setter=i,this.lifecycleEvent=o,this.directiveRecord=a}return BindingRecord.prototype.isDirectiveLifecycle=function(){return this.mode===i},BindingRecord.prototype.callOnChanges=function(){return r.isPresent(this.directiveRecord)&&this.directiveRecord.callOnChanges},BindingRecord.prototype.isDefaultChangeDetection=function(){return r.isBlank(this.directiveRecord)||this.directiveRecord.isDefaultChangeDetection()},BindingRecord.createDirectiveDoCheck=function(e){return new BindingRecord(i,null,0,null,null,"DoCheck",e)},BindingRecord.createDirectiveOnInit=function(e){return new BindingRecord(i,null,0,null,null,"OnInit",e)},BindingRecord.createDirectiveOnChanges=function(e){return new BindingRecord(i,null,0,null,null,"OnChanges",e)},BindingRecord.createForDirective=function(e,t,n,r){var i=r.directiveIndex.elementIndex,o=new d(a,i,t,null,e.toString());return new BindingRecord(a,o,0,e,n,null,r)},BindingRecord.createForElementProperty=function(e,t,n){var r=new d(s,t,n,null,e.toString());return new BindingRecord(o,r,0,e,null,null,null)},BindingRecord.createForElementAttribute=function(e,t,n){var r=new d(c,t,n,null,e.toString());return new BindingRecord(o,r,0,e,null,null,null)},BindingRecord.createForElementClass=function(e,t,n){var r=new d(u,t,n,null,e.toString());return new BindingRecord(o,r,0,e,null,null,null)},BindingRecord.createForElementStyle=function(e,t,n,r){var i=new d(l,t,n,r,e.toString());return new BindingRecord(o,i,0,e,null,null,null)},BindingRecord.createForHostProperty=function(e,t,n){var r=new d(s,e.elementIndex,n,null,t.toString());return new BindingRecord(o,r,e,t,null,null,null)},BindingRecord.createForHostAttribute=function(e,t,n){var r=new d(c,e.elementIndex,n,null,t.toString());return new BindingRecord(o,r,e,t,null,null,null)},BindingRecord.createForHostClass=function(e,t,n){var r=new d(u,e.elementIndex,n,null,t.toString());return new BindingRecord(o,r,e,t,null,null,null)},BindingRecord.createForHostStyle=function(e,t,n,r){var i=new d(l,e.elementIndex,n,r,t.toString());return new BindingRecord(o,i,e,t,null,null,null)},BindingRecord.createForTextNode=function(e,t){var n=new d(p,t,null,null,e.toString());return new BindingRecord(o,n,0,e,null,null,null)},BindingRecord.createForEvent=function(e,t,n){var r=new d(h,n,t,null,e.toString());return new BindingRecord(h,r,0,e,null,null,null)},BindingRecord.createForHostEvent=function(e,t,n){var r=n.directiveIndex,i=new d(f,r.elementIndex,t,null,e.toString());return new BindingRecord(f,i,r,e,null,null,n)},BindingRecord}();t.BindingRecord=y},function(e,t,n){"use strict";var r=n(8),i=n(45),o=function(){function DirectiveIndex(e,t){this.elementIndex=e,this.directiveIndex=t}return Object.defineProperty(DirectiveIndex.prototype,"name",{get:function(){return this.elementIndex+"_"+this.directiveIndex},enumerable:!0,configurable:!0}),DirectiveIndex}();t.DirectiveIndex=o;var a=function(){function DirectiveRecord(e){var t=void 0===e?{}:e,n=t.directiveIndex,i=t.callAfterContentInit,o=t.callAfterContentChecked,a=t.callAfterViewInit,s=t.callAfterViewChecked,c=t.callOnChanges,u=t.callDoCheck,l=t.callOnInit,p=t.callOnDestroy,h=t.changeDetection,f=t.outputs;this.directiveIndex=n,this.callAfterContentInit=r.normalizeBool(i),this.callAfterContentChecked=r.normalizeBool(o),this.callOnChanges=r.normalizeBool(c),this.callAfterViewInit=r.normalizeBool(a),this.callAfterViewChecked=r.normalizeBool(s),this.callDoCheck=r.normalizeBool(u),this.callOnInit=r.normalizeBool(l),this.callOnDestroy=r.normalizeBool(p),this.changeDetection=h,this.outputs=f}return DirectiveRecord.prototype.isDefaultChangeDetection=function(){return i.isDefaultChangeDetectionStrategy(this.changeDetection)},DirectiveRecord}();t.DirectiveRecord=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(18),a=n(16),s=n(52),c=n(47),u=n(45),l=n(78),p=n(21),h=n(56),f=function(e){function DynamicChangeDetector(t,n,r,i,o,s,c,u,l){e.call(this,t,n,r,i,o),this._records=s,this._eventBindings=c,this._directiveRecords=u,this._genConfig=l;var p=s.length+1;this.values=a.ListWrapper.createFixedSize(p),this.localPipes=a.ListWrapper.createFixedSize(p),this.prevContexts=a.ListWrapper.createFixedSize(p),this.changes=a.ListWrapper.createFixedSize(p),this.dehydrateDirectives(!1)}return r(DynamicChangeDetector,e),DynamicChangeDetector.prototype.handleEventInternal=function(e,t,n){var r=this,i=!1;return this._matchingEventBindings(e,t).forEach(function(e){var t=r._processEventBinding(e,n);t===!1&&(i=!0)}),i},DynamicChangeDetector.prototype._processEventBinding=function(e,t){var n=a.ListWrapper.createFixedSize(e.records.length);n[0]=this.values[0];for(var r=0;r<e.records.length;++r){var i=e.records[r];if(i.isSkipRecord())r+=this._computeSkipLength(r,i,n);else{i.lastInBinding&&this._markPathAsCheckOnce(i);var s=this._calculateCurrValue(i,n,t);if(i.lastInBinding)return s;this._writeSelf(i,s,n)}}throw new o.BaseException("Cannot be reached")},DynamicChangeDetector.prototype._computeSkipLength=function(e,t,n){if(t.mode===l.RecordType.SkipRecords)return t.fixedArgs[0]-e-1;if(t.mode===l.RecordType.SkipRecordsIf){var r=this._readContext(t,n);return r?t.fixedArgs[0]-e-1:0}if(t.mode===l.RecordType.SkipRecordsIfNot){var r=this._readContext(t,n);return r?0:t.fixedArgs[0]-e-1}throw new o.BaseException("Cannot be reached")},DynamicChangeDetector.prototype._markPathAsCheckOnce=function(e){if(!e.bindingRecord.isDefaultChangeDetection()){var t=e.bindingRecord.directiveRecord;this._getDetectorFor(t.directiveIndex).markPathToRootAsCheckOnce()}},DynamicChangeDetector.prototype._matchingEventBindings=function(e,t){return this._eventBindings.filter(function(n){return n.eventName==e&&n.elIndex===t})},DynamicChangeDetector.prototype.hydrateDirectives=function(e){var t=this;this.values[0]=this.context,this.dispatcher=e,this.outputSubscriptions=[];for(var n=0;n<this._directiveRecords.length;++n){var r=this._directiveRecords[n];i.isPresent(r.outputs)&&r.outputs.forEach(function(e){var n=t._createEventHandler(r.directiveIndex.elementIndex,e[1]),i=t._getDirectiveFor(r.directiveIndex),o=p.reflector.getter(e[0]);t.outputSubscriptions.push(h.ObservableWrapper.subscribe(o(i),n))})}},DynamicChangeDetector.prototype._createEventHandler=function(e,t){var n=this;return function(r){return n.handleEvent(t,e,r)}},DynamicChangeDetector.prototype.dehydrateDirectives=function(e){e&&(this._destroyPipes(),this._destroyDirectives()),this.values[0]=null,a.ListWrapper.fill(this.values,c.ChangeDetectionUtil.uninitialized,1),a.ListWrapper.fill(this.changes,!1),a.ListWrapper.fill(this.localPipes,null),a.ListWrapper.fill(this.prevContexts,c.ChangeDetectionUtil.uninitialized)},DynamicChangeDetector.prototype._destroyPipes=function(){for(var e=0;e<this.localPipes.length;++e)i.isPresent(this.localPipes[e])&&c.ChangeDetectionUtil.callPipeOnDestroy(this.localPipes[e])},DynamicChangeDetector.prototype._destroyDirectives=function(){for(var e=0;e<this._directiveRecords.length;++e){var t=this._directiveRecords[e];t.callOnDestroy&&this._getDirectiveFor(t.directiveIndex).ngOnDestroy()}},DynamicChangeDetector.prototype.checkNoChanges=function(){this.runDetectChanges(!0)},DynamicChangeDetector.prototype.detectChangesInRecordsInternal=function(e){for(var t=this._records,n=null,r=!1,o=0;o<t.length;++o){var a=t[o],s=a.bindingRecord,c=s.directiveRecord;if(this._firstInBinding(a)&&(this.propertyBindingIndex=a.propertyBindingIndex),a.isLifeCycleRecord())"DoCheck"!==a.name||e?"OnInit"!==a.name||e||this.state!=u.ChangeDetectorState.NeverChecked?"OnChanges"===a.name&&i.isPresent(n)&&!e&&this._getDirectiveFor(c.directiveIndex).ngOnChanges(n):this._getDirectiveFor(c.directiveIndex).ngOnInit():this._getDirectiveFor(c.directiveIndex).ngDoCheck();else if(a.isSkipRecord())o+=this._computeSkipLength(o,a,this.values);else{var l=this._check(a,e,this.values,this.locals);i.isPresent(l)&&(this._updateDirectiveOrElement(l,s),r=!0,n=this._addChange(s,l,n))}a.lastInDirective&&(n=null,r&&!s.isDefaultChangeDetection()&&this._getDetectorFor(c.directiveIndex).markAsCheckOnce(),r=!1)}},DynamicChangeDetector.prototype._firstInBinding=function(e){var t=c.ChangeDetectionUtil.protoByIndex(this._records,e.selfIndex-1);return i.isBlank(t)||t.bindingRecord!==e.bindingRecord},DynamicChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){for(var e=this._directiveRecords,t=e.length-1;t>=0;--t){var n=e[t];n.callAfterContentInit&&this.state==u.ChangeDetectorState.NeverChecked&&this._getDirectiveFor(n.directiveIndex).ngAfterContentInit(),n.callAfterContentChecked&&this._getDirectiveFor(n.directiveIndex).ngAfterContentChecked()}},DynamicChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){for(var e=this._directiveRecords,t=e.length-1;t>=0;--t){var n=e[t];n.callAfterViewInit&&this.state==u.ChangeDetectorState.NeverChecked&&this._getDirectiveFor(n.directiveIndex).ngAfterViewInit(),n.callAfterViewChecked&&this._getDirectiveFor(n.directiveIndex).ngAfterViewChecked()}},DynamicChangeDetector.prototype._updateDirectiveOrElement=function(t,n){if(i.isBlank(n.directiveRecord))e.prototype.notifyDispatcher.call(this,t.currentValue);else{var r=n.directiveRecord.directiveIndex;n.setter(this._getDirectiveFor(r),t.currentValue)}this._genConfig.logBindingUpdate&&e.prototype.logBindingUpdate.call(this,t.currentValue)},DynamicChangeDetector.prototype._addChange=function(t,n,r){
return t.callOnChanges()?e.prototype.addChange.call(this,r,n.previousValue,n.currentValue):r},DynamicChangeDetector.prototype._getDirectiveFor=function(e){return this.dispatcher.getDirectiveFor(e)},DynamicChangeDetector.prototype._getDetectorFor=function(e){return this.dispatcher.getDetectorFor(e)},DynamicChangeDetector.prototype._check=function(e,t,n,r){return e.isPipeRecord()?this._pipeCheck(e,t,n):this._referenceCheck(e,t,n,r)},DynamicChangeDetector.prototype._referenceCheck=function(e,t,n,r){if(this._pureFuncAndArgsDidNotChange(e))return this._setChanged(e,!1),null;var i=this._calculateCurrValue(e,n,r);if(e.shouldBeChecked()){var o=this._readSelf(e,n),a=t?!c.ChangeDetectionUtil.devModeEqual(o,i):c.ChangeDetectionUtil.looseNotIdentical(o,i);if(a){if(e.lastInBinding){var s=c.ChangeDetectionUtil.simpleChange(o,i);return t&&this.throwOnChangeError(o,i),this._writeSelf(e,i,n),this._setChanged(e,!0),s}return this._writeSelf(e,i,n),this._setChanged(e,!0),null}return this._setChanged(e,!1),null}return this._writeSelf(e,i,n),this._setChanged(e,!0),null},DynamicChangeDetector.prototype._calculateCurrValue=function(e,t,n){switch(e.mode){case l.RecordType.Self:return this._readContext(e,t);case l.RecordType.Const:return e.funcOrValue;case l.RecordType.PropertyRead:var r=this._readContext(e,t);return e.funcOrValue(r);case l.RecordType.SafeProperty:var r=this._readContext(e,t);return i.isBlank(r)?null:e.funcOrValue(r);case l.RecordType.PropertyWrite:var r=this._readContext(e,t),a=this._readArgs(e,t)[0];return e.funcOrValue(r,a),a;case l.RecordType.KeyedWrite:var r=this._readContext(e,t),s=this._readArgs(e,t)[0],a=this._readArgs(e,t)[1];return r[s]=a,a;case l.RecordType.Local:return n.get(e.name);case l.RecordType.InvokeMethod:var r=this._readContext(e,t),c=this._readArgs(e,t);return e.funcOrValue(r,c);case l.RecordType.SafeMethodInvoke:var r=this._readContext(e,t);if(i.isBlank(r))return null;var c=this._readArgs(e,t);return e.funcOrValue(r,c);case l.RecordType.KeyedRead:var u=this._readArgs(e,t)[0];return this._readContext(e,t)[u];case l.RecordType.Chain:var c=this._readArgs(e,t);return c[c.length-1];case l.RecordType.InvokeClosure:return i.FunctionWrapper.apply(this._readContext(e,t),this._readArgs(e,t));case l.RecordType.Interpolate:case l.RecordType.PrimitiveOp:case l.RecordType.CollectionLiteral:return i.FunctionWrapper.apply(e.funcOrValue,this._readArgs(e,t));default:throw new o.BaseException("Unknown operation "+e.mode)}},DynamicChangeDetector.prototype._pipeCheck=function(e,t,n){var r=this._readContext(e,n),i=this._pipeFor(e,r);if(!i.pure||this._argsOrContextChanged(e)){var o=this._readArgs(e,n),a=i.pipe.transform(r,o);if(e.shouldBeChecked()){var s=this._readSelf(e,n),u=t?!c.ChangeDetectionUtil.devModeEqual(s,a):c.ChangeDetectionUtil.looseNotIdentical(s,a);if(u){if(a=c.ChangeDetectionUtil.unwrapValue(a),e.lastInBinding){var l=c.ChangeDetectionUtil.simpleChange(s,a);return t&&this.throwOnChangeError(s,a),this._writeSelf(e,a,n),this._setChanged(e,!0),l}return this._writeSelf(e,a,n),this._setChanged(e,!0),null}return this._setChanged(e,!1),null}return this._writeSelf(e,a,n),this._setChanged(e,!0),null}},DynamicChangeDetector.prototype._pipeFor=function(e,t){var n=this._readPipe(e);if(i.isPresent(n))return n;var r=this.pipes.get(e.name);return this._writePipe(e,r),r},DynamicChangeDetector.prototype._readContext=function(e,t){return-1==e.contextIndex?this._getDirectiveFor(e.directiveIndex):t[e.contextIndex]},DynamicChangeDetector.prototype._readSelf=function(e,t){return t[e.selfIndex]},DynamicChangeDetector.prototype._writeSelf=function(e,t,n){n[e.selfIndex]=t},DynamicChangeDetector.prototype._readPipe=function(e){return this.localPipes[e.selfIndex]},DynamicChangeDetector.prototype._writePipe=function(e,t){this.localPipes[e.selfIndex]=t},DynamicChangeDetector.prototype._setChanged=function(e,t){e.argumentToPureFunction&&(this.changes[e.selfIndex]=t)},DynamicChangeDetector.prototype._pureFuncAndArgsDidNotChange=function(e){return e.isPureFunction()&&!this._argsChanged(e)},DynamicChangeDetector.prototype._argsChanged=function(e){for(var t=e.args,n=0;n<t.length;++n)if(this.changes[t[n]])return!0;return!1},DynamicChangeDetector.prototype._argsOrContextChanged=function(e){return this._argsChanged(e)||this.changes[e.contextIndex]},DynamicChangeDetector.prototype._readArgs=function(e,t){for(var n=a.ListWrapper.createFixedSize(e.args.length),r=e.args,i=0;i<r.length;++i)n[i]=t[r[i]];return n},DynamicChangeDetector}(s.AbstractChangeDetector);t.DynamicChangeDetector=f},function(e,t,n){"use strict";var r=n(8),i=n(16),o=n(47),a=n(53),s=n(43),c=n(42),u=n(45),l=n(54),p=n(56),h=l.wtfCreateScope("ChangeDetector#check(ascii id, bool throwOnChange)"),f=function(){function _Context(e,t,n,r,i,o){this.element=e,this.componentElement=t,this.context=n,this.locals=r,this.injector=i,this.expression=o}return _Context}(),d=function(){function AbstractChangeDetector(e,t,n,r,i){this.id=e,this.numberOfPropertyProtoRecords=t,this.bindingTargets=n,this.directiveIndices=r,this.strategy=i,this.contentChildren=[],this.viewChildren=[],this.state=u.ChangeDetectorState.NeverChecked,this.locals=null,this.mode=null,this.pipes=null,this.ref=new a.ChangeDetectorRef_(this)}return AbstractChangeDetector.prototype.addContentChild=function(e){this.contentChildren.push(e),e.parent=this},AbstractChangeDetector.prototype.removeContentChild=function(e){i.ListWrapper.remove(this.contentChildren,e)},AbstractChangeDetector.prototype.addViewChild=function(e){this.viewChildren.push(e),e.parent=this},AbstractChangeDetector.prototype.removeViewChild=function(e){i.ListWrapper.remove(this.viewChildren,e)},AbstractChangeDetector.prototype.remove=function(){this.parent.removeContentChild(this)},AbstractChangeDetector.prototype.handleEvent=function(e,t,n){this.hydrated()||this.throwDehydratedError(this.id+" -> "+e);try{var i=new Map;i.set("$event",n);var o=!this.handleEventInternal(e,t,new c.Locals(this.locals,i));return this.markPathToRootAsCheckOnce(),o}catch(a){var u=this.dispatcher.getDebugContext(null,t,null),l=r.isPresent(u)?new s.EventEvaluationErrorContext(u.element,u.componentElement,u.context,u.locals,u.injector):null;throw new s.EventEvaluationError(e,a,a.stack,l)}},AbstractChangeDetector.prototype.handleEventInternal=function(e,t,n){return!1},AbstractChangeDetector.prototype.detectChanges=function(){this.runDetectChanges(!1)},AbstractChangeDetector.prototype.checkNoChanges=function(){r.assertionsEnabled()&&this.runDetectChanges(!0)},AbstractChangeDetector.prototype.runDetectChanges=function(e){if(this.mode!==u.ChangeDetectionStrategy.Detached&&this.mode!==u.ChangeDetectionStrategy.Checked&&this.state!==u.ChangeDetectorState.Errored){var t=h(this.id,e);this.detectChangesInRecords(e),this._detectChangesContentChildren(e),e||this.afterContentLifecycleCallbacks(),this._detectChangesInViewChildren(e),e||this.afterViewLifecycleCallbacks(),this.mode===u.ChangeDetectionStrategy.CheckOnce&&(this.mode=u.ChangeDetectionStrategy.Checked),this.state=u.ChangeDetectorState.CheckedBefore,l.wtfLeave(t)}},AbstractChangeDetector.prototype.detectChangesInRecords=function(e){this.hydrated()||this.throwDehydratedError(this.id);try{this.detectChangesInRecordsInternal(e)}catch(t){t instanceof s.ExpressionChangedAfterItHasBeenCheckedException||(this.state=u.ChangeDetectorState.Errored),this._throwError(t,t.stack)}},AbstractChangeDetector.prototype.detectChangesInRecordsInternal=function(e){},AbstractChangeDetector.prototype.hydrate=function(e,t,n,r){this.dispatcher=n,this.mode=o.ChangeDetectionUtil.changeDetectionMode(this.strategy),this.context=e,this.locals=t,this.pipes=r,this.hydrateDirectives(n),this.state=u.ChangeDetectorState.NeverChecked},AbstractChangeDetector.prototype.hydrateDirectives=function(e){},AbstractChangeDetector.prototype.dehydrate=function(){this.dehydrateDirectives(!0),this._unsubscribeFromOutputs(),this.dispatcher=null,this.context=null,this.locals=null,this.pipes=null},AbstractChangeDetector.prototype.dehydrateDirectives=function(e){},AbstractChangeDetector.prototype.hydrated=function(){return r.isPresent(this.context)},AbstractChangeDetector.prototype.destroyRecursive=function(){this.dispatcher.notifyOnDestroy(),this.dehydrate();for(var e=this.contentChildren,t=0;t<e.length;t++)e[t].destroyRecursive();e=this.viewChildren;for(var t=0;t<e.length;t++)e[t].destroyRecursive()},AbstractChangeDetector.prototype.afterContentLifecycleCallbacks=function(){this.dispatcher.notifyAfterContentChecked(),this.afterContentLifecycleCallbacksInternal()},AbstractChangeDetector.prototype.afterContentLifecycleCallbacksInternal=function(){},AbstractChangeDetector.prototype.afterViewLifecycleCallbacks=function(){this.dispatcher.notifyAfterViewChecked(),this.afterViewLifecycleCallbacksInternal()},AbstractChangeDetector.prototype.afterViewLifecycleCallbacksInternal=function(){},AbstractChangeDetector.prototype._detectChangesContentChildren=function(e){for(var t=this.contentChildren,n=0;n<t.length;++n)t[n].runDetectChanges(e)},AbstractChangeDetector.prototype._detectChangesInViewChildren=function(e){for(var t=this.viewChildren,n=0;n<t.length;++n)t[n].runDetectChanges(e)},AbstractChangeDetector.prototype.markAsCheckOnce=function(){this.mode=u.ChangeDetectionStrategy.CheckOnce},AbstractChangeDetector.prototype.markPathToRootAsCheckOnce=function(){for(var e=this;r.isPresent(e)&&e.mode!==u.ChangeDetectionStrategy.Detached;)e.mode===u.ChangeDetectionStrategy.Checked&&(e.mode=u.ChangeDetectionStrategy.CheckOnce),e=e.parent},AbstractChangeDetector.prototype._unsubscribeFromOutputs=function(){if(r.isPresent(this.outputSubscriptions))for(var e=0;e<this.outputSubscriptions.length;++e)p.ObservableWrapper.dispose(this.outputSubscriptions[e]),this.outputSubscriptions[e]=null},AbstractChangeDetector.prototype.getDirectiveFor=function(e,t){return e.getDirectiveFor(this.directiveIndices[t])},AbstractChangeDetector.prototype.getDetectorFor=function(e,t){return e.getDetectorFor(this.directiveIndices[t])},AbstractChangeDetector.prototype.notifyDispatcher=function(e){this.dispatcher.notifyOnBinding(this._currentBinding(),e)},AbstractChangeDetector.prototype.logBindingUpdate=function(e){this.dispatcher.logBindingUpdate(this._currentBinding(),e)},AbstractChangeDetector.prototype.addChange=function(e,t,n){return r.isBlank(e)&&(e={}),e[this._currentBinding().name]=o.ChangeDetectionUtil.simpleChange(t,n),e},AbstractChangeDetector.prototype._throwError=function(e,t){var n;try{var i=this.dispatcher.getDebugContext(null,this._currentBinding().elementIndex,null),o=r.isPresent(i)?new f(i.element,i.componentElement,i.context,i.locals,i.injector,this._currentBinding().debug):null;n=new s.ChangeDetectionError(this._currentBinding().debug,e,t,o)}catch(a){n=new s.ChangeDetectionError(null,e,t,null)}throw n},AbstractChangeDetector.prototype.throwOnChangeError=function(e,t){throw new s.ExpressionChangedAfterItHasBeenCheckedException(this._currentBinding().debug,e,t,null)},AbstractChangeDetector.prototype.throwDehydratedError=function(e){throw new s.DehydratedException(e)},AbstractChangeDetector.prototype._currentBinding=function(){return this.bindingTargets[this.propertyBindingIndex]},AbstractChangeDetector}();t.AbstractChangeDetector=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(45),o=function(){function ChangeDetectorRef(){}return ChangeDetectorRef}();t.ChangeDetectorRef=o;var a=function(e){function ChangeDetectorRef_(t){e.call(this),this._cd=t}return r(ChangeDetectorRef_,e),ChangeDetectorRef_.prototype.markForCheck=function(){this._cd.markPathToRootAsCheckOnce()},ChangeDetectorRef_.prototype.detach=function(){this._cd.mode=i.ChangeDetectionStrategy.Detached},ChangeDetectorRef_.prototype.detectChanges=function(){this._cd.detectChanges()},ChangeDetectorRef_.prototype.checkNoChanges=function(){this._cd.checkNoChanges()},ChangeDetectorRef_.prototype.reattach=function(){this._cd.mode=i.ChangeDetectionStrategy.CheckAlways,this.markForCheck()},ChangeDetectorRef_}(o);t.ChangeDetectorRef_=a},function(e,t,n){"use strict";function noopScope(e,t){return null}var r=n(55);t.wtfEnabled=r.detectWTF(),t.wtfCreateScope=t.wtfEnabled?r.createScope:function(e,t){return noopScope},t.wtfLeave=t.wtfEnabled?r.leave:function(e,t){return t},t.wtfStartTimeRange=t.wtfEnabled?r.startTimeRange:function(e,t){return null},t.wtfEndTimeRange=t.wtfEnabled?r.endTimeRange:function(e){return null}},function(e,t,n){"use strict";function detectWTF(){var e=o.global.wtf;return e&&(r=e.trace)?(i=r.events,!0):!1}function createScope(e,t){return void 0===t&&(t=null),i.createScope(e,t)}function leave(e,t){return r.leaveScope(e,t),t}function startTimeRange(e,t){return r.beginTimeRange(e,t)}function endTimeRange(e){r.endTimeRange(e)}var r,i,o=n(8);t.detectWTF=detectWTF,t.createScope=createScope,t.leave=leave,t.startTimeRange=startTimeRange,t.endTimeRange=endTimeRange},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(57);t.PromiseWrapper=o.PromiseWrapper,t.PromiseCompleter=o.PromiseCompleter;var a=n(58),s=n(76),c=n(77),u=n(59);t.Observable=u.Observable;var l=n(58);t.Subject=l.Subject;var p=function(){function TimerWrapper(){}return TimerWrapper.setTimeout=function(e,t){return i.global.setTimeout(e,t)},TimerWrapper.clearTimeout=function(e){i.global.clearTimeout(e)},TimerWrapper.setInterval=function(e,t){return i.global.setInterval(e,t)},TimerWrapper.clearInterval=function(e){i.global.clearInterval(e)},TimerWrapper}();t.TimerWrapper=p;var h=function(){function ObservableWrapper(){}return ObservableWrapper.subscribe=function(e,t,n,r){return void 0===r&&(r=function(){}),n="function"==typeof n&&n||i.noop,r="function"==typeof r&&r||i.noop,e.subscribe({next:t,error:n,complete:r})},ObservableWrapper.isObservable=function(e){return!!e.subscribe},ObservableWrapper.hasSubscribers=function(e){return e.observers.length>0},ObservableWrapper.dispose=function(e){e.unsubscribe()},ObservableWrapper.callNext=function(e,t){e.next(t)},ObservableWrapper.callEmit=function(e,t){e.emit(t)},ObservableWrapper.callError=function(e,t){e.error(t)},ObservableWrapper.callComplete=function(e){e.complete()},ObservableWrapper.fromPromise=function(e){return s.PromiseObservable.create(e)},ObservableWrapper.toPromise=function(e){return c.toPromise.call(e)},ObservableWrapper}();t.ObservableWrapper=h;var f=function(e){function EventEmitter(t){void 0===t&&(t=!0),e.call(this),this._isAsync=t}return r(EventEmitter,e),EventEmitter.prototype.emit=function(t){e.prototype.next.call(this,t)},EventEmitter.prototype.next=function(t){e.prototype.next.call(this,t)},EventEmitter.prototype.subscribe=function(t,n,r){var i,o=function(e){return null},a=function(){return null};return t&&"object"==typeof t?(i=this._isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this._isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this._isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this._isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(o=this._isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this._isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),e.prototype.subscribe.call(this,i,o,a)},EventEmitter}(a.Subject);t.EventEmitter=f},function(e,t){"use strict";var n=function(){function PromiseCompleter(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return PromiseCompleter}();t.PromiseCompleter=n;var r=function(){function PromiseWrapper(){}return PromiseWrapper.resolve=function(e){return Promise.resolve(e)},PromiseWrapper.reject=function(e,t){return Promise.reject(e)},PromiseWrapper.catchError=function(e,t){return e["catch"](t)},PromiseWrapper.all=function(e){return 0==e.length?Promise.resolve([]):Promise.all(e)},PromiseWrapper.then=function(e,t,n){return e.then(t,n)},PromiseWrapper.wrap=function(e){return new Promise(function(t,n){try{t(e())}catch(r){n(r)}})},PromiseWrapper.scheduleMicrotask=function(e){PromiseWrapper.then(PromiseWrapper.resolve(null),e,function(e){})},PromiseWrapper.isPromise=function(e){return e instanceof Promise},PromiseWrapper.completer=function(){return new n},PromiseWrapper}();t.PromiseWrapper=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(59),o=n(64),a=n(66),s=n(73),c=n(71),u=n(74),l=n(75),p=function(e){function Subject(t,n){e.call(this),this.destination=t,this.source=n,this.observers=[],this.isUnsubscribed=!1,this.isStopped=!1,this.hasErrored=!1,this.dispatching=!1,this.hasCompleted=!1}return r(Subject,e),Subject.prototype.lift=function(e){var t=new Subject(this.destination||this,this);return t.operator=e,t},Subject.prototype.add=function(e){a.Subscription.prototype.add.call(this,e)},Subject.prototype.remove=function(e){a.Subscription.prototype.remove.call(this,e)},Subject.prototype.unsubscribe=function(){a.Subscription.prototype.unsubscribe.call(this)},Subject.prototype._subscribe=function(e){if(this.source)return this.source.subscribe(e);if(!e.isUnsubscribed){if(this.hasErrored)return e.error(this.errorValue);if(this.hasCompleted)return e.complete();this.throwIfUnsubscribed();var t=new s.SubjectSubscription(this,e);return this.observers.push(e),t}},Subject.prototype._unsubscribe=function(){this.source=null,this.isStopped=!0,this.observers=null,this.destination=null},Subject.prototype.next=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.dispatching=!0,this._next(e),this.dispatching=!1,this.hasErrored?this._error(this.errorValue):this.hasCompleted&&this._complete())},Subject.prototype.error=function(e){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasErrored=!0,this.errorValue=e,this.dispatching||this._error(e))},Subject.prototype.complete=function(){this.throwIfUnsubscribed(),this.isStopped||(this.isStopped=!0,this.hasCompleted=!0,this.dispatching||this._complete())},Subject.prototype.asObservable=function(){var e=new h(this);return e},Subject.prototype._next=function(e){this.destination?this.destination.next(e):this._finalNext(e)},Subject.prototype._finalNext=function(e){for(var t=-1,n=this.observers.slice(0),r=n.length;++t<r;)n[t].next(e)},Subject.prototype._error=function(e){this.destination?this.destination.error(e):this._finalError(e)},Subject.prototype._finalError=function(e){var t=-1,n=this.observers;if(this.observers=null,this.isUnsubscribed=!0,n)for(var r=n.length;++t<r;)n[t].error(e);this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype._complete=function(){this.destination?this.destination.complete():this._finalComplete()},Subject.prototype._finalComplete=function(){var e=-1,t=this.observers;if(this.observers=null,this.isUnsubscribed=!0,t)for(var n=t.length;++e<n;)t[e].complete();this.isUnsubscribed=!1,this.unsubscribe()},Subject.prototype.throwIfUnsubscribed=function(){this.isUnsubscribed&&u.throwError(new l.ObjectUnsubscribedError)},Subject.prototype[c.rxSubscriber]=function(){return new o.Subscriber(this)},Subject.create=function(e,t){return new Subject(e,t)},Subject}(i.Observable);t.Subject=p;var h=function(e){function SubjectObservable(t){e.call(this),this.source=t}return r(SubjectObservable,e),SubjectObservable}(i.Observable)},function(e,t,n){"use strict";var r=n(60),i=n(62),o=n(63),a=n(69),s=n(70),c=function(){function Observable(e){this._isScalar=!1,e&&(this._subscribe=e)}return Observable.prototype.lift=function(e){var t=new Observable;return t.source=this,t.operator=e,t},Observable.prototype.subscribe=function(e,t,n){var r=this.operator,i=o.toSubscriber(e,t,n);if(r?i.add(this._subscribe(r.call(i))):i.add(this._subscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},Observable.prototype.forEach=function(e,t,n){if(n||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?n=r.root.Rx.config.Promise:r.root.Promise&&(n=r.root.Promise)),!n)throw new Error("no Promise impl found");var i=this;return new n(function(n,r){i.subscribe(function(n){var i=a.tryCatch(e).call(t,n);i===s.errorObject&&r(s.errorObject.e)},r,n)})},Observable.prototype._subscribe=function(e){return this.source.subscribe(e)},Observable.prototype[i.SymbolShim.observable]=function(){return this},Observable.create=function(e){return new Observable(e)},Observable}();t.Observable=c},function(e,t,n){(function(e,n){"use strict";var r={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};t.root=r[typeof self]&&self||r[typeof window]&&window;var i=(r[typeof t]&&t&&!t.nodeType&&t,r[typeof e]&&e&&!e.nodeType&&e,r[typeof n]&&n);!i||i.global!==i&&i.window!==i||(t.root=i)}).call(t,n(61)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function polyfillSymbol(e){var t=ensureSymbol(e);return ensureIterator(t,e),ensureObservable(t),ensureFor(t),t}function ensureFor(e){e["for"]||(e["for"]=symbolForPolyfill)}function ensureSymbol(e){return e.Symbol||(e.Symbol=function(e){return"@@Symbol("+e+"):"+i++}),e.Symbol}function symbolForPolyfill(e){return"@@"+e}function ensureIterator(e,t){if(!e.iterator)if("function"==typeof e["for"])e.iterator=e["for"]("iterator");else if(t.Set&&"function"==typeof(new t.Set)["@@iterator"])e.iterator="@@iterator";else if(t.Map)for(var n=Object.getOwnPropertyNames(t.Map.prototype),r=0;r<n.length;++r){var i=n[r];if("entries"!==i&&"size"!==i&&t.Map.prototype[i]===t.Map.prototype.entries){e.iterator=i;break}}else e.iterator="@@iterator"}function ensureObservable(e){e.observable||("function"==typeof e["for"]?e.observable=e["for"]("observable"):e.observable="@@observable")}var r=n(60);t.polyfillSymbol=polyfillSymbol,t.ensureFor=ensureFor;var i=0;t.ensureSymbol=ensureSymbol,t.symbolForPolyfill=symbolForPolyfill,t.ensureIterator=ensureIterator,t.ensureObservable=ensureObservable,t.SymbolShim=polyfillSymbol(r.root)},function(e,t,n){"use strict";function toSubscriber(e,t,n){if(e&&"object"==typeof e){if(e instanceof r.Subscriber)return e;if("function"==typeof e[i.rxSubscriber])return e[i.rxSubscriber]()}return new r.Subscriber(e,t,n)}var r=n(64),i=n(71);t.toSubscriber=toSubscriber},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(65),o=n(66),a=n(71),s=n(72),c=function(e){function Subscriber(t,n,r){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!t){this.destination=s.empty;break}if("object"==typeof t){t instanceof Subscriber?this.destination=t:(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,n,r)}}return r(Subscriber,e),Subscriber.create=function(e,t,n){var r=new Subscriber(e,t,n);return r.syncErrorThrowable=!1,r},Subscriber.prototype.next=function(e){this.isStopped||this._next(e)},Subscriber.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},Subscriber.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},Subscriber.prototype._next=function(e){this.destination.next(e)},Subscriber.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},Subscriber.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Subscriber.prototype[a.rxSubscriber]=function(){return this},Subscriber}(o.Subscription);t.Subscriber=c;var u=function(e){function SafeSubscriber(t,n,r,o){e.call(this),this._parent=t;var a,s=this;i.isFunction(n)?a=n:n&&(s=n,a=n.next,r=n.error,o=n.complete),this._context=s,this._next=a,this._error=r,this._complete=o}return r(SafeSubscriber,e),SafeSubscriber.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},SafeSubscriber.prototype.error=function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},SafeSubscriber.prototype.complete=function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},SafeSubscriber.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){throw this.unsubscribe(),n}},SafeSubscriber.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(r){return e.syncErrorValue=r,e.syncErrorThrown=!0,!0}return!1},SafeSubscriber.prototype._unsubscribe=function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()},SafeSubscriber}(c)},function(e,t){"use strict";function isFunction(e){return"function"==typeof e}t.isFunction=isFunction},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(67),o=n(68),a=n(65),s=n(69),c=n(70),u=function(){function Subscription(e){this.isUnsubscribed=!1,e&&(this._unsubscribe=e)}return Subscription.prototype.unsubscribe=function(){var e,t=!1;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var n=this,r=n._unsubscribe,u=n._subscriptions;if(this._subscriptions=null,a.isFunction(r)){var p=s.tryCatch(r).call(this);p===c.errorObject&&(t=!0,(e=e||[]).push(c.errorObject.e))}if(i.isArray(u))for(var h=-1,f=u.length;++h<f;){var d=u[h];if(o.isObject(d)){var p=s.tryCatch(d.unsubscribe).call(d);if(p===c.errorObject){t=!0,e=e||[];var y=c.errorObject.e;y instanceof l?e=e.concat(y.errors):e.push(y)}}}if(t)throw new l(e)}},Subscription.prototype.add=function(e){if(e&&e!==this&&e!==Subscription.EMPTY){var t=e;switch(typeof e){case"function":t=new Subscription(e);case"object":if(t.isUnsubscribed||"function"!=typeof t.unsubscribe)break;this.isUnsubscribed?t.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(t);break;default:throw new Error("Unrecognized subscription "+e+" added to Subscription.")}}},Subscription.prototype.remove=function(e){if(null!=e&&e!==this&&e!==Subscription.EMPTY){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},Subscription.EMPTY=function(e){return e.isUnsubscribed=!0,e}(new Subscription),Subscription}();t.Subscription=u;var l=function(e){function UnsubscriptionError(t){e.call(this,"unsubscriptoin error(s)"),this.errors=t,this.name="UnsubscriptionError"}return r(UnsubscriptionError,e),UnsubscriptionError}(Error);t.UnsubscriptionError=l},function(e,t){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t){"use strict";function isObject(e){return null!=e&&"object"==typeof e}t.isObject=isObject},function(e,t,n){"use strict";function tryCatcher(){try{return r.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}function tryCatch(e){return r=e,tryCatcher}var r,i=n(70);t.tryCatch=tryCatch},function(e,t){"use strict";t.errorObject={e:{}}},function(e,t,n){"use strict";var r=n(62);t.rxSubscriber=r.SymbolShim["for"]("rxSubscriber")},function(e,t){"use strict";t.empty={isUnsubscribed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(66),o=function(e){function SubjectSubscription(t,n){e.call(this),this.subject=t,this.observer=n,this.isUnsubscribed=!1}return r(SubjectSubscription,e),SubjectSubscription.prototype.unsubscribe=function(){if(!this.isUnsubscribed){this.isUnsubscribed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isUnsubscribed){var n=t.indexOf(this.observer);-1!==n&&t.splice(n,1)}}},SubjectSubscription}(i.Subscription);t.SubjectSubscription=o},function(e,t){"use strict";function throwError(e){throw e}t.throwError=throwError},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=function(e){function ObjectUnsubscribedError(){e.call(this,"object unsubscribed"),this.name="ObjectUnsubscribedError"}return n(ObjectUnsubscribedError,e),ObjectUnsubscribedError}(Error);t.ObjectUnsubscribedError=r},function(e,t,n){"use strict";function dispatchNext(e){var t=e.value,n=e.subscriber;n.isUnsubscribed||(n.next(t),n.complete())}function dispatchError(e){var t=e.err,n=e.subscriber;n.isUnsubscribed||n.error(t)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(60),o=n(59),a=function(e){function PromiseObservable(t,n){void 0===n&&(n=null),e.call(this),this.promise=t,this.scheduler=n}return r(PromiseObservable,e),PromiseObservable.create=function(e,t){return void 0===t&&(t=null),new PromiseObservable(e,t)},PromiseObservable.prototype._subscribe=function(e){var t=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?e.isUnsubscribed||(e.next(this.value),e.complete()):n.then(function(n){t.value=n,t._isScalar=!0,e.isUnsubscribed||(e.next(n),e.complete())},function(t){e.isUnsubscribed||e.error(t)}).then(null,function(e){i.root.setTimeout(function(){throw e})});else if(this._isScalar){if(!e.isUnsubscribed)return r.schedule(dispatchNext,0,{value:this.value,subscriber:e})}else n.then(function(n){t.value=n,t._isScalar=!0,e.isUnsubscribed||e.add(r.schedule(dispatchNext,0,{value:n,subscriber:e}))},function(t){e.isUnsubscribed||e.add(r.schedule(dispatchError,0,{err:t,subscriber:e}))}).then(null,function(e){i.root.setTimeout(function(){throw e})})},PromiseObservable}(o.Observable);t.PromiseObservable=a},function(e,t,n){"use strict";function toPromise(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}var r=n(60);t.toPromise=toPromise},function(e,t){"use strict";!function(e){e[e.Self=0]="Self",e[e.Const=1]="Const",e[e.PrimitiveOp=2]="PrimitiveOp",e[e.PropertyRead=3]="PropertyRead",e[e.PropertyWrite=4]="PropertyWrite",e[e.Local=5]="Local",e[e.InvokeMethod=6]="InvokeMethod",e[e.InvokeClosure=7]="InvokeClosure",e[e.KeyedRead=8]="KeyedRead",e[e.KeyedWrite=9]="KeyedWrite",e[e.Pipe=10]="Pipe",e[e.Interpolate=11]="Interpolate",e[e.SafeProperty=12]="SafeProperty",e[e.CollectionLiteral=13]="CollectionLiteral",e[e.SafeMethodInvoke=14]="SafeMethodInvoke",e[e.DirectiveLifecycle=15]="DirectiveLifecycle",e[e.Chain=16]="Chain",e[e.SkipRecordsIf=17]="SkipRecordsIf",
e[e.SkipRecordsIfNot=18]="SkipRecordsIfNot",e[e.SkipRecords=19]="SkipRecords"}(t.RecordType||(t.RecordType={}));var n=t.RecordType,r=function(){function ProtoRecord(e,t,n,r,i,o,a,s,c,u,l,p,h,f){this.mode=e,this.name=t,this.funcOrValue=n,this.args=r,this.fixedArgs=i,this.contextIndex=o,this.directiveIndex=a,this.selfIndex=s,this.bindingRecord=c,this.lastInBinding=u,this.lastInDirective=l,this.argumentToPureFunction=p,this.referencedBySelf=h,this.propertyBindingIndex=f}return ProtoRecord.prototype.isPureFunction=function(){return this.mode===n.Interpolate||this.mode===n.CollectionLiteral},ProtoRecord.prototype.isUsedByOtherRecord=function(){return!this.lastInBinding||this.referencedBySelf},ProtoRecord.prototype.shouldBeChecked=function(){return this.argumentToPureFunction||this.lastInBinding||this.isPureFunction()||this.isPipeRecord()},ProtoRecord.prototype.isPipeRecord=function(){return this.mode===n.Pipe},ProtoRecord.prototype.isConditionalSkipRecord=function(){return this.mode===n.SkipRecordsIfNot||this.mode===n.SkipRecordsIf},ProtoRecord.prototype.isUnconditionalSkipRecord=function(){return this.mode===n.SkipRecords},ProtoRecord.prototype.isSkipRecord=function(){return this.isConditionalSkipRecord()||this.isUnconditionalSkipRecord()},ProtoRecord.prototype.isLifeCycleRecord=function(){return this.mode===n.DirectiveLifecycle},ProtoRecord}();t.ProtoRecord=r},function(e,t){"use strict";var n=function(){function EventBinding(e,t,n,r){this.eventName=e,this.elIndex=t,this.dirIndex=n,this.records=r}return EventBinding}();t.EventBinding=n},function(e,t,n){"use strict";function coalesce(e){for(var t=[],n=[],o=new i.Map,a=0,s=i.ListWrapper.createFixedSize(e.length),c=0;c<e.length;c++){var u=s[c];r.isPresent(u)&&(a--,u.fixedArgs[0]=t.length);var l=e[c],p=_cloneAndUpdateIndexes(l,t,o);if(p.isSkipRecord())t.push(p),a++,s[p.fixedArgs[0]]=p;else{var h=_mayBeAddRecord(p,t,n,a>0);o.set(l.selfIndex,h.selfIndex)}}return _optimizeSkips(t)}function _optimizeSkips(e){for(var t=[],n=i.ListWrapper.createFixedSize(e.length),a=new i.Map,s=0;s<e.length;s++){var c=n[s];r.isPresent(c)&&(c.fixedArgs[0]=t.length);var u=e[s];if(u.isSkipRecord()){if(u.isConditionalSkipRecord()&&u.fixedArgs[0]===s+2&&s<e.length-1&&e[s+1].mode===o.RecordType.SkipRecords&&(u.mode=u.mode===o.RecordType.SkipRecordsIf?o.RecordType.SkipRecordsIfNot:o.RecordType.SkipRecordsIf,u.fixedArgs[0]=e[s+1].fixedArgs[0],s++),u.fixedArgs[0]>s+1){var l=_cloneAndUpdateIndexes(u,t,a);t.push(l),n[l.fixedArgs[0]]=l}}else{var l=_cloneAndUpdateIndexes(u,t,a);t.push(l),a.set(u.selfIndex,l.selfIndex)}}return t}function _mayBeAddRecord(e,t,n,i){var o=_findFirstMatch(e,t,n);return r.isPresent(o)?(e.lastInBinding?(t.push(_createSelfRecord(e,o.selfIndex,t.length+1)),o.referencedBySelf=!0):e.argumentToPureFunction&&(o.argumentToPureFunction=!0),o):(i&&n.push(e.selfIndex),t.push(e),e)}function _findFirstMatch(e,t,n){return t.find(function(t){return-1==n.indexOf(t.selfIndex)&&t.mode!==o.RecordType.DirectiveLifecycle&&_haveSameDirIndex(t,e)&&t.mode===e.mode&&r.looseIdentical(t.funcOrValue,e.funcOrValue)&&t.contextIndex===e.contextIndex&&r.looseIdentical(t.name,e.name)&&i.ListWrapper.equals(t.args,e.args)})}function _cloneAndUpdateIndexes(e,t,n){var r=e.args.map(function(e){return _srcToDstSelfIndex(n,e)}),i=_srcToDstSelfIndex(n,e.contextIndex),a=t.length+1;return new o.ProtoRecord(e.mode,e.name,e.funcOrValue,r,e.fixedArgs,i,e.directiveIndex,a,e.bindingRecord,e.lastInBinding,e.lastInDirective,e.argumentToPureFunction,e.referencedBySelf,e.propertyBindingIndex)}function _srcToDstSelfIndex(e,t){var n=e.get(t);return r.isPresent(n)?n:t}function _createSelfRecord(e,t,n){return new o.ProtoRecord(o.RecordType.Self,"self",null,[],e.fixedArgs,t,e.directiveIndex,n,e.bindingRecord,e.lastInBinding,e.lastInDirective,!1,!1,e.propertyBindingIndex)}function _haveSameDirIndex(e,t){var n=r.isBlank(e.directiveIndex)?null:e.directiveIndex.directiveIndex,i=r.isBlank(e.directiveIndex)?null:e.directiveIndex.elementIndex,o=r.isBlank(t.directiveIndex)?null:t.directiveIndex.directiveIndex,a=r.isBlank(t.directiveIndex)?null:t.directiveIndex.elementIndex;return n===o&&i===a}var r=n(8),i=n(16),o=n(78);t.coalesce=coalesce},function(e,t,n){"use strict";var r=n(82),i=function(){function JitProtoChangeDetector(e){this.definition=e,this._factory=this._createFactory(e)}return JitProtoChangeDetector.isSupported=function(){return!0},JitProtoChangeDetector.prototype.instantiate=function(){return this._factory()},JitProtoChangeDetector.prototype._createFactory=function(e){return new r.ChangeDetectorJITGenerator(e,"util","AbstractChangeDetector","ChangeDetectorStatus").generate()},JitProtoChangeDetector}();t.JitProtoChangeDetector=i},function(e,t,n){"use strict";var r=n(8),i=n(18),o=n(16),a=n(52),s=n(47),c=n(78),u=n(83),l=n(84),p=n(85),h=n(45),f=n(46),d="isChanged",y="changes",m=function(){function ChangeDetectorJITGenerator(e,t,n,r){this.changeDetectionUtilVarName=t,this.abstractChangeDetectorVarName=n,this.changeDetectorStateVarName=r;var i=f.createPropertyRecords(e),o=f.createEventRecords(e),a=e.bindingRecords.map(function(e){return e.target});this.id=e.id,this.changeDetectionStrategy=e.strategy,this.genConfig=e.genConfig,this.records=i,this.propertyBindingTargets=a,this.eventBindings=o,this.directiveRecords=e.directiveRecords,this._names=new u.CodegenNameUtil(this.records,this.eventBindings,this.directiveRecords,this.changeDetectionUtilVarName),this._logic=new l.CodegenLogicUtil(this._names,this.changeDetectionUtilVarName,this.changeDetectorStateVarName),this.typeName=u.sanitizeName("ChangeDetector_"+this.id)}return ChangeDetectorJITGenerator.prototype.generate=function(){var e="\n      "+this.generateSource()+"\n      return function() {\n        return new "+this.typeName+"();\n      }\n    ";return new Function(this.abstractChangeDetectorVarName,this.changeDetectionUtilVarName,this.changeDetectorStateVarName,e)(a.AbstractChangeDetector,s.ChangeDetectionUtil,h.ChangeDetectorState)},ChangeDetectorJITGenerator.prototype.generateSource=function(){return"\n      var "+this.typeName+" = function "+this.typeName+"() {\n        "+this.abstractChangeDetectorVarName+".call(\n            this, "+JSON.stringify(this.id)+", "+this.records.length+",\n            "+this.typeName+".gen_propertyBindingTargets, "+this.typeName+".gen_directiveIndices,\n            "+p.codify(this.changeDetectionStrategy)+");\n        this.dehydrateDirectives(false);\n      }\n\n      "+this.typeName+".prototype = Object.create("+this.abstractChangeDetectorVarName+".prototype);\n\n      "+this.typeName+".prototype.detectChangesInRecordsInternal = function(throwOnChange) {\n        "+this._names.genInitLocals()+"\n        var "+d+" = false;\n        var "+y+" = null;\n\n        "+this._genAllRecords(this.records)+"\n      }\n\n      "+this._maybeGenHandleEventInternal()+"\n\n      "+this._maybeGenAfterContentLifecycleCallbacks()+"\n\n      "+this._maybeGenAfterViewLifecycleCallbacks()+"\n\n      "+this._maybeGenHydrateDirectives()+"\n\n      "+this._maybeGenDehydrateDirectives()+"\n\n      "+this._genPropertyBindingTargets()+"\n\n      "+this._genDirectiveIndices()+"\n    "},ChangeDetectorJITGenerator.prototype._genPropertyBindingTargets=function(){var e=this._logic.genPropertyBindingTargets(this.propertyBindingTargets,this.genConfig.genDebugInfo);return this.typeName+".gen_propertyBindingTargets = "+e+";"},ChangeDetectorJITGenerator.prototype._genDirectiveIndices=function(){var e=this._logic.genDirectiveIndices(this.directiveRecords);return this.typeName+".gen_directiveIndices = "+e+";"},ChangeDetectorJITGenerator.prototype._maybeGenHandleEventInternal=function(){var e=this;if(this.eventBindings.length>0){var t=this.eventBindings.map(function(t){return e._genEventBinding(t)}).join("\n");return"\n        "+this.typeName+".prototype.handleEventInternal = function(eventName, elIndex, locals) {\n          var "+this._names.getPreventDefaultAccesor()+" = false;\n          "+this._names.genInitEventLocals()+"\n          "+t+"\n          return "+this._names.getPreventDefaultAccesor()+";\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._genEventBinding=function(e){var t=this,n=[];return this._endOfBlockIdxs=[],o.ListWrapper.forEachWithIndex(e.records,function(r,i){var o;o=r.isConditionalSkipRecord()?t._genConditionalSkip(r,t._names.getEventLocalName(e,i)):r.isUnconditionalSkipRecord()?t._genUnconditionalSkip(r):t._genEventBindingEval(e,r),o+=t._genEndOfSkipBlock(i),n.push(o)}),'\n    if (eventName === "'+e.eventName+'" && elIndex === '+e.elIndex+") {\n      "+n.join("\n")+"\n    }"},ChangeDetectorJITGenerator.prototype._genEventBindingEval=function(e,t){if(t.lastInBinding){var n=this._logic.genEventBindingEvalValue(e,t),r=this._genMarkPathToRootAsCheckOnce(t),i=this._genUpdatePreventDefault(e,t);return r+"\n"+n+"\n"+i}return this._logic.genEventBindingEvalValue(e,t)},ChangeDetectorJITGenerator.prototype._genMarkPathToRootAsCheckOnce=function(e){var t=e.bindingRecord;return t.isDefaultChangeDetection()?"":this._names.getDetectorName(t.directiveRecord.directiveIndex)+".markPathToRootAsCheckOnce();"},ChangeDetectorJITGenerator.prototype._genUpdatePreventDefault=function(e,t){var n=this._names.getEventLocalName(e,t.selfIndex);return"if ("+n+" === false) { "+this._names.getPreventDefaultAccesor()+" = true};"},ChangeDetectorJITGenerator.prototype._maybeGenDehydrateDirectives=function(){var e=this._names.genPipeOnDestroy(),t=this._logic.genDirectivesOnDestroy(this.directiveRecords),n=this._names.genDehydrateFields();return e||t||n?this.typeName+".prototype.dehydrateDirectives = function(destroyPipes) {\n        if (destroyPipes) {\n          "+e+"\n          "+t+"\n        }\n        "+n+"\n    }":""},ChangeDetectorJITGenerator.prototype._maybeGenHydrateDirectives=function(){var e=this._logic.genHydrateDirectives(this.directiveRecords),t=this._logic.genHydrateDetectors(this.directiveRecords);return e||t?this.typeName+".prototype.hydrateDirectives = function(directives) {\n      "+e+"\n      "+t+"\n    }":""},ChangeDetectorJITGenerator.prototype._maybeGenAfterContentLifecycleCallbacks=function(){var e=this._logic.genContentLifecycleCallbacks(this.directiveRecords);if(e.length>0){var t=e.join("\n");return"\n        "+this.typeName+".prototype.afterContentLifecycleCallbacksInternal = function() {\n          "+t+"\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._maybeGenAfterViewLifecycleCallbacks=function(){var e=this._logic.genViewLifecycleCallbacks(this.directiveRecords);if(e.length>0){var t=e.join("\n");return"\n        "+this.typeName+".prototype.afterViewLifecycleCallbacksInternal = function() {\n          "+t+"\n        }\n      "}return""},ChangeDetectorJITGenerator.prototype._genAllRecords=function(e){var t=[];this._endOfBlockIdxs=[];for(var n=0;n<e.length;n++){var r=void 0,i=e[n];r=i.isLifeCycleRecord()?this._genDirectiveLifecycle(i):i.isPipeRecord()?this._genPipeCheck(i):i.isConditionalSkipRecord()?this._genConditionalSkip(i,this._names.getLocalName(i.contextIndex)):i.isUnconditionalSkipRecord()?this._genUnconditionalSkip(i):this._genReferenceCheck(i),r="\n        "+this._maybeFirstInBinding(i)+"\n        "+r+"\n        "+this._maybeGenLastInDirective(i)+"\n        "+this._genEndOfSkipBlock(n)+"\n      ",t.push(r)}return t.join("\n")},ChangeDetectorJITGenerator.prototype._genConditionalSkip=function(e,t){var n=e.mode===c.RecordType.SkipRecordsIf?"!":"";return this._endOfBlockIdxs.push(e.fixedArgs[0]-1),"if ("+n+t+") {"},ChangeDetectorJITGenerator.prototype._genUnconditionalSkip=function(e){return this._endOfBlockIdxs.pop(),this._endOfBlockIdxs.push(e.fixedArgs[0]-1),"} else {"},ChangeDetectorJITGenerator.prototype._genEndOfSkipBlock=function(e){if(!o.ListWrapper.isEmpty(this._endOfBlockIdxs)){var t=o.ListWrapper.last(this._endOfBlockIdxs);if(e===t)return this._endOfBlockIdxs.pop(),"}"}return""},ChangeDetectorJITGenerator.prototype._genDirectiveLifecycle=function(e){if("DoCheck"===e.name)return this._genOnCheck(e);if("OnInit"===e.name)return this._genOnInit(e);if("OnChanges"===e.name)return this._genOnChange(e);throw new i.BaseException("Unknown lifecycle event '"+e.name+"'")},ChangeDetectorJITGenerator.prototype._genPipeCheck=function(e){var t=this,n=this._names.getLocalName(e.contextIndex),r=e.args.map(function(e){return t._names.getLocalName(e)}).join(", "),i=this._names.getFieldName(e.selfIndex),o=this._names.getLocalName(e.selfIndex),a=this._names.getPipeName(e.selfIndex),s=e.name,c="\n      if ("+a+" === "+this.changeDetectionUtilVarName+".uninitialized) {\n        "+a+" = "+this._names.getPipesAccessorName()+".get('"+s+"');\n      }\n    ",u=o+" = "+a+".pipe.transform("+n+", ["+r+"]);",l=e.args.map(function(e){return t._names.getChangeName(e)});l.push(this._names.getChangeName(e.contextIndex));var p="!"+a+".pure || ("+l.join(" || ")+")",h="\n      "+this._genThrowOnChangeCheck(i,o)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+i+", "+o+")) {\n        "+o+" = "+this.changeDetectionUtilVarName+".unwrapValue("+o+")\n        "+this._genChangeMarker(e)+"\n        "+this._genUpdateDirectiveOrElement(e)+"\n        "+this._genAddToChanges(e)+"\n        "+i+" = "+o+";\n      }\n    ",f=e.shouldBeChecked()?""+u+h:u;return e.isUsedByOtherRecord()?c+" if ("+p+") { "+f+" } else { "+o+" = "+i+"; }":c+" if ("+p+") { "+f+" }"},ChangeDetectorJITGenerator.prototype._genReferenceCheck=function(e){var t=this,n=this._names.getFieldName(e.selfIndex),r=this._names.getLocalName(e.selfIndex),i="\n      "+this._logic.genPropertyBindingEvalValue(e)+"\n    ",o="\n      "+this._genThrowOnChangeCheck(n,r)+"\n      if ("+this.changeDetectionUtilVarName+".looseNotIdentical("+n+", "+r+")) {\n        "+this._genChangeMarker(e)+"\n        "+this._genUpdateDirectiveOrElement(e)+"\n        "+this._genAddToChanges(e)+"\n        "+n+" = "+r+";\n      }\n    ",a=e.shouldBeChecked()?""+i+o:i;if(e.isPureFunction()){var s=e.args.map(function(e){return t._names.getChangeName(e)}).join(" || ");return e.isUsedByOtherRecord()?"if ("+s+") { "+a+" } else { "+r+" = "+n+"; }":"if ("+s+") { "+a+" }"}return a},ChangeDetectorJITGenerator.prototype._genChangeMarker=function(e){return e.argumentToPureFunction?this._names.getChangeName(e.selfIndex)+" = true":""},ChangeDetectorJITGenerator.prototype._genUpdateDirectiveOrElement=function(e){if(!e.lastInBinding)return"";var t=this._names.getLocalName(e.selfIndex),n=this.genConfig.logBindingUpdate?"this.logBindingUpdate("+t+");":"",r=e.bindingRecord;if(r.target.isDirective()){var i=this._names.getDirectiveName(r.directiveRecord.directiveIndex)+"."+r.target.name;return"\n        "+i+" = "+t+";\n        "+n+"\n        "+d+" = true;\n      "}return"\n        this.notifyDispatcher("+t+");\n        "+n+"\n      "},ChangeDetectorJITGenerator.prototype._genThrowOnChangeCheck=function(e,t){return r.assertionsEnabled()?"\n        if (throwOnChange && !"+this.changeDetectionUtilVarName+".devModeEqual("+e+", "+t+")) {\n          this.throwOnChangeError("+e+", "+t+");\n        }\n        ":""},ChangeDetectorJITGenerator.prototype._genAddToChanges=function(e){var t=this._names.getLocalName(e.selfIndex),n=this._names.getFieldName(e.selfIndex);return e.bindingRecord.callOnChanges()?y+" = this.addChange("+y+", "+n+", "+t+");":""},ChangeDetectorJITGenerator.prototype._maybeFirstInBinding=function(e){var t=s.ChangeDetectionUtil.protoByIndex(this.records,e.selfIndex-1),n=r.isBlank(t)||t.bindingRecord!==e.bindingRecord;return n&&!e.bindingRecord.isDirectiveLifecycle()?this._names.getPropertyBindingIndex()+" = "+e.propertyBindingIndex+";":""},ChangeDetectorJITGenerator.prototype._maybeGenLastInDirective=function(e){return e.lastInDirective?"\n      "+y+" = null;\n      "+this._genNotifyOnPushDetectors(e)+"\n      "+d+" = false;\n    ":""},ChangeDetectorJITGenerator.prototype._genOnCheck=function(e){var t=e.bindingRecord;return"if (!throwOnChange) "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".ngDoCheck();"},ChangeDetectorJITGenerator.prototype._genOnInit=function(e){var t=e.bindingRecord;return"if (!throwOnChange && "+this._names.getStateName()+" === "+this.changeDetectorStateVarName+".NeverChecked) "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".ngOnInit();"},ChangeDetectorJITGenerator.prototype._genOnChange=function(e){var t=e.bindingRecord;return"if (!throwOnChange && "+y+") "+this._names.getDirectiveName(t.directiveRecord.directiveIndex)+".ngOnChanges("+y+");"},ChangeDetectorJITGenerator.prototype._genNotifyOnPushDetectors=function(e){var t=e.bindingRecord;if(!e.lastInDirective||t.isDefaultChangeDetection())return"";var n="\n      if("+d+") {\n        "+this._names.getDetectorName(t.directiveRecord.directiveIndex)+".markAsCheckOnce();\n      }\n    ";return n},ChangeDetectorJITGenerator}();t.ChangeDetectorJITGenerator=m},function(e,t,n){"use strict";function sanitizeName(e){return r.StringWrapper.replaceAll(e,d,"")}var r=n(8),i=n(16),o="state",a="propertyBindingIndex",s="directiveIndices",c="dispatcher",u="locals",l="mode",p="pipes",h="protos";t.CONTEXT_ACCESSOR="context",t.CONTEXT_INDEX=0;var f="this.",d=/\W/g;t.sanitizeName=sanitizeName;var y=function(){function CodegenNameUtil(e,n,r,o){this._records=e,this._eventBindings=n,this._directiveRecords=r,this._utilName=o,this._sanitizedEventNames=new i.Map,this._sanitizedNames=i.ListWrapper.createFixedSize(this._records.length+1),this._sanitizedNames[t.CONTEXT_INDEX]=t.CONTEXT_ACCESSOR;for(var a=0,s=this._records.length;s>a;++a)this._sanitizedNames[a+1]=sanitizeName(""+this._records[a].name+a);for(var c=0;c<n.length;++c){for(var u=n[c],l=[t.CONTEXT_ACCESSOR],a=0,s=u.records.length;s>a;++a)l.push(sanitizeName(""+u.records[a].name+a+"_"+c));this._sanitizedEventNames.set(u,l)}}return CodegenNameUtil.prototype._addFieldPrefix=function(e){return""+f+e},CodegenNameUtil.prototype.getDispatcherName=function(){return this._addFieldPrefix(c)},CodegenNameUtil.prototype.getPipesAccessorName=function(){return this._addFieldPrefix(p)},CodegenNameUtil.prototype.getProtosName=function(){return this._addFieldPrefix(h)},CodegenNameUtil.prototype.getDirectivesAccessorName=function(){return this._addFieldPrefix(s)},CodegenNameUtil.prototype.getLocalsAccessorName=function(){return this._addFieldPrefix(u)},CodegenNameUtil.prototype.getStateName=function(){return this._addFieldPrefix(o)},CodegenNameUtil.prototype.getModeName=function(){return this._addFieldPrefix(l)},CodegenNameUtil.prototype.getPropertyBindingIndex=function(){return this._addFieldPrefix(a)},CodegenNameUtil.prototype.getLocalName=function(e){return"l_"+this._sanitizedNames[e]},CodegenNameUtil.prototype.getEventLocalName=function(e,t){return"l_"+this._sanitizedEventNames.get(e)[t]},CodegenNameUtil.prototype.getChangeName=function(e){return"c_"+this._sanitizedNames[e]},CodegenNameUtil.prototype.genInitLocals=function(){for(var e=[],n=[],r=0,o=this.getFieldCount();o>r;++r)if(r==t.CONTEXT_INDEX)e.push(this.getLocalName(r)+" = "+this.getFieldName(r));else{var a=this._records[r-1];if(a.argumentToPureFunction){var s=this.getChangeName(r);e.push(this.getLocalName(r)+","+s),n.push(s)}else e.push(""+this.getLocalName(r))}var c=i.ListWrapper.isEmpty(n)?"":n.join("=")+" = false;";return"var "+e.join(",")+";"+c},CodegenNameUtil.prototype.genInitEventLocals=function(){var e=this,n=[this.getLocalName(t.CONTEXT_INDEX)+" = "+this.getFieldName(t.CONTEXT_INDEX)];return this._sanitizedEventNames.forEach(function(r,i){for(var o=0;o<r.length;++o)o!==t.CONTEXT_INDEX&&n.push(""+e.getEventLocalName(i,o))}),n.length>1?"var "+n.join(",")+";":""},CodegenNameUtil.prototype.getPreventDefaultAccesor=function(){return"preventDefault"},CodegenNameUtil.prototype.getFieldCount=function(){return this._sanitizedNames.length},CodegenNameUtil.prototype.getFieldName=function(e){return this._addFieldPrefix(this._sanitizedNames[e])},CodegenNameUtil.prototype.getAllFieldNames=function(){for(var e=[],t=0,n=this.getFieldCount();n>t;++t)(0===t||this._records[t-1].shouldBeChecked())&&e.push(this.getFieldName(t));for(var r=0,i=this._records.length;i>r;++r){var o=this._records[r];o.isPipeRecord()&&e.push(this.getPipeName(o.selfIndex))}for(var a=0,s=this._directiveRecords.length;s>a;++a){var c=this._directiveRecords[a];e.push(this.getDirectiveName(c.directiveIndex)),c.isDefaultChangeDetection()||e.push(this.getDetectorName(c.directiveIndex))}return e},CodegenNameUtil.prototype.genDehydrateFields=function(){var e=this.getAllFieldNames();return i.ListWrapper.removeAt(e,t.CONTEXT_INDEX),i.ListWrapper.isEmpty(e)?"":(e.push(this._utilName+".uninitialized;"),e.join(" = "))},CodegenNameUtil.prototype.genPipeOnDestroy=function(){var e=this;return this._records.filter(function(e){return e.isPipeRecord()}).map(function(t){return e._utilName+".callPipeOnDestroy("+e.getPipeName(t.selfIndex)+");"}).join("\n")},CodegenNameUtil.prototype.getPipeName=function(e){return this._addFieldPrefix(this._sanitizedNames[e]+"_pipe")},CodegenNameUtil.prototype.getDirectiveName=function(e){return this._addFieldPrefix("directive_"+e.name)},CodegenNameUtil.prototype.getDetectorName=function(e){return this._addFieldPrefix("detector_"+e.name)},CodegenNameUtil}();t.CodegenNameUtil=y},function(e,t,n){"use strict";var r=n(8),i=n(85),o=n(78),a=n(18),s=function(){function CodegenLogicUtil(e,t,n){this._names=e,this._utilName=t,this._changeDetectorStateName=n}return CodegenLogicUtil.prototype.genPropertyBindingEvalValue=function(e){var t=this;return this._genEvalValue(e,function(e){return t._names.getLocalName(e)},this._names.getLocalsAccessorName())},CodegenLogicUtil.prototype.genEventBindingEvalValue=function(e,t){var n=this;return this._genEvalValue(t,function(t){return n._names.getEventLocalName(e,t)},"locals")},CodegenLogicUtil.prototype._genEvalValue=function(e,t,n){var r,s=-1==e.contextIndex?this._names.getDirectiveName(e.directiveIndex):t(e.contextIndex),c=e.args.map(function(e){return t(e)}).join(", ");switch(e.mode){case o.RecordType.Self:r=s;break;case o.RecordType.Const:r=i.codify(e.funcOrValue);break;case o.RecordType.PropertyRead:r=s+"."+e.name;break;case o.RecordType.SafeProperty:var u=s+"."+e.name;r=this._utilName+".isValueBlank("+s+") ? null : "+u;break;case o.RecordType.PropertyWrite:r=s+"."+e.name+" = "+t(e.args[0]);break;case o.RecordType.Local:r=n+".get("+i.rawString(e.name)+")";break;case o.RecordType.InvokeMethod:r=s+"."+e.name+"("+c+")";break;case o.RecordType.SafeMethodInvoke:var l=s+"."+e.name+"("+c+")";r=this._utilName+".isValueBlank("+s+") ? null : "+l;break;case o.RecordType.InvokeClosure:r=s+"("+c+")";break;case o.RecordType.PrimitiveOp:r=this._utilName+"."+e.name+"("+c+")";break;case o.RecordType.CollectionLiteral:r=this._utilName+"."+e.name+"("+c+")";break;case o.RecordType.Interpolate:r=this._genInterpolation(e);break;case o.RecordType.KeyedRead:r=s+"["+t(e.args[0])+"]";break;case o.RecordType.KeyedWrite:r=s+"["+t(e.args[0])+"] = "+t(e.args[1]);break;case o.RecordType.Chain:r=""+t(e.args[e.args.length-1]);break;default:throw new a.BaseException("Unknown operation "+e.mode)}return t(e.selfIndex)+" = "+r+";"},CodegenLogicUtil.prototype.genPropertyBindingTargets=function(e,t){var n=this,o=e.map(function(e){if(r.isBlank(e))return"null";var o=t?i.codify(e.debug):"null";return n._utilName+".bindingTarget("+i.codify(e.mode)+", "+e.elementIndex+", "+i.codify(e.name)+", "+i.codify(e.unit)+", "+o+")"});return"["+o.join(", ")+"]"},CodegenLogicUtil.prototype.genDirectiveIndices=function(e){var t=this,n=e.map(function(e){return t._utilName+".directiveIndex("+e.directiveIndex.elementIndex+", "+e.directiveIndex.directiveIndex+")"});return"["+n.join(", ")+"]"},CodegenLogicUtil.prototype._genInterpolation=function(e){for(var t=[],n=0;n<e.args.length;++n)t.push(i.codify(e.fixedArgs[n])),t.push(this._utilName+".s("+this._names.getLocalName(e.args[n])+")");return t.push(i.codify(e.fixedArgs[e.args.length])),i.combineGeneratedStrings(t)},CodegenLogicUtil.prototype.genHydrateDirectives=function(e){for(var t=this,n=[],i=0,o=0;o<e.length;++o){var a=e[o],s=this._names.getDirectiveName(a.directiveIndex);n.push(s+" = "+this._genReadDirective(o)+";"),r.isPresent(a.outputs)&&a.outputs.forEach(function(e){var o=t._genEventHandler(a.directiveIndex.elementIndex,e[1]),c="this.outputSubscriptions["+i++ +"] = "+s+"."+e[0];r.IS_DART?n.push(c+".listen("+o+");"):n.push(c+".subscribe({next: "+o+"});")})}if(i>0){var c="this.outputSubscriptions";r.IS_DART?n.unshift(c+" = new List("+i+");"):n.unshift(c+" = new Array("+i+");")}return n.join("\n")},CodegenLogicUtil.prototype.genDirectivesOnDestroy=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r.callOnDestroy){var i=this._names.getDirectiveName(r.directiveIndex);t.push(i+".ngOnDestroy();")}}return t.join("\n")},CodegenLogicUtil.prototype._genEventHandler=function(e,t){return r.IS_DART?"(event) => this.handleEvent('"+t+"', "+e+", event)":"(function(event) { return this.handleEvent('"+t+"', "+e+", event); }).bind(this)"},CodegenLogicUtil.prototype._genReadDirective=function(e){return"this.getDirectiveFor(directives, "+e+")"},CodegenLogicUtil.prototype.genHydrateDetectors=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];r.isDefaultChangeDetection()||t.push(this._names.getDetectorName(r.directiveIndex)+" = this.getDetectorFor(directives, "+n+");")}return t.join("\n")},CodegenLogicUtil.prototype.genContentLifecycleCallbacks=function(e){for(var t=[],n=r.IS_DART?"==":"===",i=e.length-1;i>=0;--i){var o=e[i];o.callAfterContentInit&&t.push("if("+this._names.getStateName()+" "+n+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(o.directiveIndex)+".ngAfterContentInit();"),o.callAfterContentChecked&&t.push(this._names.getDirectiveName(o.directiveIndex)+".ngAfterContentChecked();")}return t},CodegenLogicUtil.prototype.genViewLifecycleCallbacks=function(e){for(var t=[],n=r.IS_DART?"==":"===",i=e.length-1;i>=0;--i){var o=e[i];o.callAfterViewInit&&t.push("if("+this._names.getStateName()+" "+n+" "+this._changeDetectorStateName+".NeverChecked) "+this._names.getDirectiveName(o.directiveIndex)+".ngAfterViewInit();"),o.callAfterViewChecked&&t.push(this._names.getDirectiveName(o.directiveIndex)+".ngAfterViewChecked();")}return t},CodegenLogicUtil}();t.CodegenLogicUtil=s},function(e,t){"use strict";function codify(e){return JSON.stringify(e)}function rawString(e){return"'"+e+"'"}function combineGeneratedStrings(e){return e.join(" + ")}t.codify=codify,t.rawString=rawString,t.combineGeneratedStrings=combineGeneratedStrings},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8);!function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None"}(t.ViewEncapsulation||(t.ViewEncapsulation={}));var a=t.ViewEncapsulation;t.VIEW_ENCAPSULATION_VALUES=[a.Emulated,a.Native,a.None];var s=function(){function ViewMetadata(e){var t=void 0===e?{}:e,n=t.templateUrl,r=t.template,i=t.directives,o=t.pipes,a=t.encapsulation,s=t.styles,c=t.styleUrls;this.templateUrl=n,this.template=r,this.styleUrls=c,this.styles=s,this.directives=i,this.pipes=o,this.encapsulation=a}return ViewMetadata=r([o.CONST(),i("design:paramtypes",[Object])],ViewMetadata)}();t.ViewMetadata=s},function(e,t,n){"use strict";var r=n(13);t.Class=r.Class},function(e,t,n){"use strict";var r=n(8);t.enableProdMode=r.enableProdMode},function(e,t,n){"use strict";var r=n(8);t.Type=r.Type;var i=n(56);t.EventEmitter=i.EventEmitter;var o=n(18);t.WrappedException=o.WrappedException;var a=n(20);t.ExceptionHandler=a.ExceptionHandler},function(e,t,n){"use strict";function _componentProviders(e){return[a.provide(s.APP_COMPONENT,{useValue:e}),a.provide(s.APP_COMPONENT_REF_PROMISE,{useFactory:function(t,n,r){var i;return t.loadAsRoot(e,null,r,function(){n._unloadComponent(i)}).then(function(e){i=e;var t=r.getOptional(l.Testability);return o.isPresent(t)&&r.get(l.TestabilityRegistry).registerApplication(e.location.nativeElement,t),e})},deps:[p.DynamicComponentLoader,b,a.Injector]}),a.provide(e,{useFactory:function(e){return e.then(function(e){return e.instance})},deps:[s.APP_COMPONENT_REF_PROMISE]})]}function createNgZone(){return new i.NgZone({enableLongStackTrace:o.assertionsEnabled()})}function platform(e){if(y.lockMode(),o.isPresent(m)){if(u.ListWrapper.equals(g,e))return m;throw new h.BaseException("platform cannot be initialized with different sets of providers.")}return _createPlatform(e)}function disposePlatform(){o.isPresent(m)&&(m.dispose(),m=null)}function _createPlatform(e){g=e;var t=a.Injector.resolveAndCreate(e);return m=new _(t,function(){m=null,g=null}),_runPlatformInitializers(t),m}function _runPlatformInitializers(e){var t=e.getOptional(s.PLATFORM_INITIALIZER);o.isPresent(t)&&t.forEach(function(e){return e()})}function _runAppInitializers(e){var t=e.getOptional(s.APP_INITIALIZER),n=[];return o.isPresent(t)&&t.forEach(function(e){var t=e();c.PromiseWrapper.isPromise(t)&&n.push(t)}),n.length>0?c.PromiseWrapper.all(n):null}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(91),o=n(8),a=n(10),s=n(93),c=n(56),u=n(16),l=n(94),p=n(95),h=n(18),f=n(111),d=n(54),y=n(8);t.createNgZone=createNgZone;var m,g;t.platform=platform,t.disposePlatform=disposePlatform;var v=function(){function PlatformRef(){}return Object.defineProperty(PlatformRef.prototype,"injector",{get:function(){throw h.unimplemented()},enumerable:!0,configurable:!0}),PlatformRef}();t.PlatformRef=v;var _=function(e){function PlatformRef_(t,n){e.call(this),this._injector=t,this._dispose=n,this._applications=[],this._disposeListeners=[]}return r(PlatformRef_,e),PlatformRef_.prototype.registerDisposeListener=function(e){this._disposeListeners.push(e)},Object.defineProperty(PlatformRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),PlatformRef_.prototype.application=function(e){var t=this._initApp(createNgZone(),e);if(c.PromiseWrapper.isPromise(t))throw new h.BaseException("Cannot use asyncronous app initializers with application. Use asyncApplication instead.");return t},PlatformRef_.prototype.asyncApplication=function(e,t){var n=this,r=createNgZone(),i=c.PromiseWrapper.completer();return null===e?i.resolve(this._initApp(r,t)):r.run(function(){c.PromiseWrapper.then(e(r),function(e){o.isPresent(t)&&(e=u.ListWrapper.concat(e,t));var a=n._initApp(r,e);i.resolve(a)})}),i.promise},PlatformRef_.prototype._initApp=function(e,t){var n,r,s=this;e.run(function(){t=u.ListWrapper.concat(t,[a.provide(i.NgZone,{useValue:e}),a.provide(b,{useFactory:function(){return r},deps:[]})]);var l;try{n=s.injector.resolveAndCreateChild(t),l=n.get(h.ExceptionHandler),c.ObservableWrapper.subscribe(e.onError,function(e){l.call(e.error,e.stackTrace)})}catch(p){o.isPresent(l)?l.call(p,p.stack):o.print(p.toString())}}),r=new w(this,e,n),this._applications.push(r);var l=_runAppInitializers(n);return null!==l?c.PromiseWrapper.then(l,function(e){return r}):r},PlatformRef_.prototype.dispose=function(){u.ListWrapper.clone(this._applications).forEach(function(e){return e.dispose()}),this._disposeListeners.forEach(function(e){return e()}),this._dispose()},PlatformRef_.prototype._applicationDisposed=function(e){u.ListWrapper.remove(this._applications,e)},PlatformRef_}(v);t.PlatformRef_=_;var b=function(){function ApplicationRef(){}return Object.defineProperty(ApplicationRef.prototype,"injector",{get:function(){return h.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"zone",{
get:function(){return h.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef.prototype,"componentTypes",{get:function(){return h.unimplemented()},enumerable:!0,configurable:!0}),ApplicationRef}();t.ApplicationRef=b;var w=function(e){function ApplicationRef_(t,n,r){var i=this;e.call(this),this._platform=t,this._zone=n,this._injector=r,this._bootstrapListeners=[],this._disposeListeners=[],this._rootComponents=[],this._rootComponentTypes=[],this._changeDetectorRefs=[],this._runningTick=!1,this._enforceNoNewChanges=!1,o.isPresent(this._zone)&&c.ObservableWrapper.subscribe(this._zone.onMicrotaskEmpty,function(e){i._zone.run(function(){i.tick()})}),this._enforceNoNewChanges=o.assertionsEnabled()}return r(ApplicationRef_,e),ApplicationRef_.prototype.registerBootstrapListener=function(e){this._bootstrapListeners.push(e)},ApplicationRef_.prototype.registerDisposeListener=function(e){this._disposeListeners.push(e)},ApplicationRef_.prototype.registerChangeDetector=function(e){this._changeDetectorRefs.push(e)},ApplicationRef_.prototype.unregisterChangeDetector=function(e){u.ListWrapper.remove(this._changeDetectorRefs,e)},ApplicationRef_.prototype.bootstrap=function(e,t){var n=this,r=c.PromiseWrapper.completer();return this._zone.run(function(){var i=_componentProviders(e);o.isPresent(t)&&i.push(t);var a=n._injector.get(h.ExceptionHandler);n._rootComponentTypes.push(e);try{var u=n._injector.resolveAndCreateChild(i),l=u.get(s.APP_COMPONENT_REF_PROMISE),p=function(e){n._loadComponent(e),r.resolve(e)},f=c.PromiseWrapper.then(l,p);c.PromiseWrapper.then(f,null,function(e,t){r.reject(e,t),a.call(e,t)})}catch(d){a.call(d,d.stack),r.reject(d,d.stack)}}),r.promise.then(function(e){var t=n._injector.get(f.Console);return o.assertionsEnabled()&&t.log("Angular 2 is running in the development mode. Call enableProdMode() to enable the production mode."),e})},ApplicationRef_.prototype._loadComponent=function(e){var t=e.location.internalElement.parentView.changeDetector;this._changeDetectorRefs.push(t.ref),this.tick(),this._rootComponents.push(e),this._bootstrapListeners.forEach(function(t){return t(e)})},ApplicationRef_.prototype._unloadComponent=function(e){u.ListWrapper.contains(this._rootComponents,e)&&(this.unregisterChangeDetector(e.location.internalElement.parentView.changeDetector.ref),u.ListWrapper.remove(this._rootComponents,e))},Object.defineProperty(ApplicationRef_.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(ApplicationRef_.prototype,"zone",{get:function(){return this._zone},enumerable:!0,configurable:!0}),ApplicationRef_.prototype.tick=function(){if(this._runningTick)throw new h.BaseException("ApplicationRef.tick is called recursively");var e=ApplicationRef_._tickScope();try{this._runningTick=!0,this._changeDetectorRefs.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._changeDetectorRefs.forEach(function(e){return e.checkNoChanges()})}finally{this._runningTick=!1,d.wtfLeave(e)}},ApplicationRef_.prototype.dispose=function(){u.ListWrapper.clone(this._rootComponents).forEach(function(e){return e.dispose()}),this._disposeListeners.forEach(function(e){return e()}),this._platform._applicationDisposed(this)},Object.defineProperty(ApplicationRef_.prototype,"componentTypes",{get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),ApplicationRef_._tickScope=d.wtfCreateScope("ApplicationRef#tick()"),ApplicationRef_}(b);t.ApplicationRef_=w},function(e,t,n){"use strict";var r=n(56),i=n(92),o=n(18),a=n(92);t.NgZoneError=a.NgZoneError;var s=function(){function NgZone(e){var t=this,n=e.enableLongStackTrace,o=void 0===n?!1:n;this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new r.EventEmitter(!1),this._onMicrotaskEmpty=new r.EventEmitter(!1),this._onStable=new r.EventEmitter(!1),this._onErrorEvents=new r.EventEmitter(!1),this._zoneImpl=new i.NgZoneImpl({trace:o,onEnter:function(){t._nesting++,t._isStable&&(t._isStable=!1,t._onUnstable.emit(null))},onLeave:function(){t._nesting--,t._checkStable()},setMicrotask:function(e){t._hasPendingMicrotasks=e,t._checkStable()},setMacrotask:function(e){t._hasPendingMacrotasks=e},onError:function(e){return t._onErrorEvents.emit(e)}})}return NgZone.isInAngularZone=function(){return i.NgZoneImpl.isInAngularZone()},NgZone.assertInAngularZone=function(){if(!i.NgZoneImpl.isInAngularZone())throw new o.BaseException("Expected to be in Angular Zone, but it is not!")},NgZone.assertNotInAngularZone=function(){if(i.NgZoneImpl.isInAngularZone())throw new o.BaseException("Expected to not be in Angular Zone, but it is!")},NgZone.prototype._checkStable=function(){var e=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return e._onStable.emit(null)})}finally{this._isStable=!0}}},Object.defineProperty(NgZone.prototype,"onUnstable",{get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onMicrotaskEmpty",{get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onStable",{get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"onError",{get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMicrotasks",{get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(NgZone.prototype,"hasPendingMacrotasks",{get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),NgZone.prototype.run=function(e){return this._zoneImpl.runInner(e)},NgZone.prototype.runOutsideAngular=function(e){return this._zoneImpl.runOuter(e)},NgZone}();t.NgZone=s},function(e,t){"use strict";var n=function(){function NgZoneError(e,t){this.error=e,this.stackTrace=t}return NgZoneError}();t.NgZoneError=n;var r=function(){function NgZoneImpl(e){var t=this,r=e.trace,i=e.onEnter,o=e.onLeave,a=e.setMicrotask,s=e.setMacrotask,c=e.onError;if(this.onEnter=i,this.onLeave=o,this.setMicrotask=a,this.setMacrotask=s,this.onError=c,!Zone)throw new Error("Angular2 needs to be run with Zone.js polyfill.");this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.inner=this.inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,a){try{return t.onEnter(),e.invokeTask(r,i,o,a)}finally{t.onLeave()}},onInvoke:function(e,n,r,i,o,a,s){try{return t.onEnter(),e.invoke(r,i,o,a,s)}finally{t.onLeave()}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n==r&&("microTask"==i.change?t.setMicrotask(i.microTask):"macroTask"==i.change&&t.setMacrotask(i.macroTask))},onHandleError:function(e,r,i,o){return e.handleError(i,o),t.onError(new n(o,o.stack)),!1}})}return NgZoneImpl.isInAngularZone=function(){return Zone.current.get("isAngularZone")===!0},NgZoneImpl.prototype.runInner=function(e){return this.inner.runGuarded(e)},NgZoneImpl.prototype.runOuter=function(e){return this.outer.run(e)},NgZoneImpl}();t.NgZoneImpl=r},function(e,t,n){"use strict";function _appIdRandomProviderFactory(){return""+_randomChar()+_randomChar()+_randomChar()}function _randomChar(){return i.StringWrapper.fromCharCode(97+i.Math.floor(25*i.Math.random()))}var r=n(10),i=n(8);t.APP_COMPONENT_REF_PROMISE=i.CONST_EXPR(new r.OpaqueToken("Promise<ComponentRef>")),t.APP_COMPONENT=i.CONST_EXPR(new r.OpaqueToken("AppComponent")),t.APP_ID=i.CONST_EXPR(new r.OpaqueToken("AppId")),t.APP_ID_RANDOM_PROVIDER=i.CONST_EXPR(new r.Provider(t.APP_ID,{useFactory:_appIdRandomProviderFactory,deps:[]})),t.PLATFORM_INITIALIZER=i.CONST_EXPR(new r.OpaqueToken("Platform Initializer")),t.APP_INITIALIZER=i.CONST_EXPR(new r.OpaqueToken("Application Initializer")),t.PACKAGE_ROOT_URL=i.CONST_EXPR(new r.OpaqueToken("Application Packages Root URL"))},function(e,t,n){"use strict";function setTestabilityGetter(e){d=e}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(10),a=n(16),s=n(8),c=n(18),u=n(91),l=n(56),p=function(){function Testability(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents()}return Testability.prototype._watchAngularEvents=function(){var e=this;l.ObservableWrapper.subscribe(this._ngZone.onUnstable,function(t){e._didWork=!0,e._isZoneStable=!1}),this._ngZone.runOutsideAngular(function(){l.ObservableWrapper.subscribe(e._ngZone.onStable,function(t){u.NgZone.assertNotInAngularZone(),s.scheduleMicroTask(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})})})},Testability.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},Testability.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new c.BaseException("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},Testability.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},Testability.prototype._runCallbacksIfReady=function(){var e=this;this.isStable()?s.scheduleMicroTask(function(){for(;0!==e._callbacks.length;)e._callbacks.pop()(e._didWork);e._didWork=!1}):this._didWork=!0},Testability.prototype.whenStable=function(e){this._callbacks.push(e),this._runCallbacksIfReady()},Testability.prototype.getPendingRequestCount=function(){return this._pendingCount},Testability.prototype.findBindings=function(e,t,n){return[]},Testability.prototype.findProviders=function(e,t,n){return[]},Testability=r([o.Injectable(),i("design:paramtypes",[u.NgZone])],Testability)}();t.Testability=p;var h=function(){function TestabilityRegistry(){this._applications=new a.Map,d.addToWindow(this)}return TestabilityRegistry.prototype.registerApplication=function(e,t){this._applications.set(e,t)},TestabilityRegistry.prototype.getTestability=function(e){return this._applications.get(e)},TestabilityRegistry.prototype.getAllTestabilities=function(){return a.MapWrapper.values(this._applications)},TestabilityRegistry.prototype.getAllRootElements=function(){return a.MapWrapper.keys(this._applications)},TestabilityRegistry.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),d.findTestabilityInTree(this,e,t)},TestabilityRegistry=r([o.Injectable(),i("design:paramtypes",[])],TestabilityRegistry)}();t.TestabilityRegistry=h;var f=function(){function _NoopGetTestability(){}return _NoopGetTestability.prototype.addToWindow=function(e){},_NoopGetTestability.prototype.findTestabilityInTree=function(e,t,n){return null},_NoopGetTestability=r([s.CONST(),i("design:paramtypes",[])],_NoopGetTestability)}();t.setTestabilityGetter=setTestabilityGetter;var d=s.CONST_EXPR(new f)},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(10),s=n(96),c=n(8),u=n(110),l=function(){function ComponentRef(){}return Object.defineProperty(ComponentRef.prototype,"hostView",{get:function(){return this.location.internalElement.parentView.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ComponentRef.prototype,"hostComponent",{get:function(){return this.instance},enumerable:!0,configurable:!0}),ComponentRef}();t.ComponentRef=l;var p=function(e){function ComponentRef_(t,n,r,i,o){e.call(this),this._dispose=o,this.location=t,this.instance=n,this.componentType=r,this.injector=i}return r(ComponentRef_,e),Object.defineProperty(ComponentRef_.prototype,"hostComponentType",{get:function(){return this.componentType},enumerable:!0,configurable:!0}),ComponentRef_.prototype.dispose=function(){this._dispose()},ComponentRef_}(l);t.ComponentRef_=p;var h=function(){function DynamicComponentLoader(){}return DynamicComponentLoader}();t.DynamicComponentLoader=h;var f=function(e){function DynamicComponentLoader_(t,n){e.call(this),this._compiler=t,this._viewManager=n}return r(DynamicComponentLoader_,e),DynamicComponentLoader_.prototype.loadAsRoot=function(e,t,n,r,i){var o=this;return this._compiler.compileInHost(e).then(function(a){var s=o._viewManager.createRootHostView(a,t,n,i),u=o._viewManager.getHostElement(s),l=o._viewManager.getComponent(u),h=function(){c.isPresent(r)&&r(),o._viewManager.destroyRootHostView(s)};return new p(u,l,e,n,h)})},DynamicComponentLoader_.prototype.loadIntoLocation=function(e,t,n,r,i){return void 0===r&&(r=null),void 0===i&&(i=null),this.loadNextToLocation(e,this._viewManager.getNamedElementInComponentView(t,n),r,i)},DynamicComponentLoader_.prototype.loadNextToLocation=function(e,t,n,r){var i=this;return void 0===n&&(n=null),void 0===r&&(r=null),this._compiler.compileInHost(e).then(function(o){var a=i._viewManager.getViewContainer(t),s=a.createHostView(o,a.length,n,r),c=i._viewManager.getHostElement(s),u=i._viewManager.getComponent(c),l=function(){var e=a.indexOf(s);s.destroyed||-1===e||a.remove(e)};return new p(c,u,e,null,l)})},DynamicComponentLoader_=i([a.Injectable(),o("design:paramtypes",[s.Compiler,u.AppViewManager])],DynamicComponentLoader_)}(h);t.DynamicComponentLoader_=f},function(e,t,n){"use strict";function isHostViewFactory(e){return e instanceof p.HostViewFactory}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(10),s=n(8),c=n(18),u=n(56),l=n(21),p=n(97),h=n(106),f=function(){function Compiler(){}return Compiler}();t.Compiler=f;var d=function(e){function Compiler_(){e.apply(this,arguments)}return r(Compiler_,e),Compiler_.prototype.compileInHost=function(e){var t=l.reflector.annotations(e),n=t.find(isHostViewFactory);if(s.isBlank(n))throw new c.BaseException("No precompiled component "+s.stringify(e)+" found");return u.PromiseWrapper.resolve(new h.HostViewFactoryRef_(n))},Compiler_.prototype.clearCache=function(){},Compiler_=i([a.Injectable(),o("design:paramtypes",[])],Compiler_)}(f);t.Compiler_=d},function(e,t,n){"use strict";function _localsToStringMap(e){for(var t={},n=e;u.isPresent(n);)t=o.StringMapWrapper.merge(t,o.MapWrapper.toStringMap(n.current)),n=n.parent;return t}function flattenNestedViewRenderNodes(e){return _flattenNestedViewRenderNodes(e,[])}function _flattenNestedViewRenderNodes(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r instanceof c.AppElement){var i=r;if(t.push(i.nativeElement),u.isPresent(i.nestedViews))for(var o=0;o<i.nestedViews.length;o++)_flattenNestedViewRenderNodes(i.nestedViews[o].rootNodesOrAppElements,t)}else t.push(r)}return t}function findLastRenderNode(e){var t;if(e instanceof c.AppElement){var n=e;if(t=n.nativeElement,u.isPresent(n.nestedViews))for(var r=n.nestedViews.length-1;r>=0;r--){var i=n.nestedViews[r];i.rootNodesOrAppElements.length>0&&(t=findLastRenderNode(i.rootNodesOrAppElements[i.rootNodesOrAppElements.length-1]))}}else t=e;return t}function checkSlotCount(e,t,n){var r=u.isPresent(n)?n.length:0;if(t>r)throw new l.BaseException("The component "+e+" has "+t+" <ng-content> elements,"+(" but only "+r+" slots were provided."))}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(16),a=n(34),s=n(44),c=n(98),u=n(8),l=n(18),p=n(102),h=n(106),f=n(107),d=n(109),y=n(44);t.DebugContext=y.DebugContext;var m=n(107),g=n(99),v="ng-reflect-",_=u.CONST_EXPR(new Object),b=function(){function AppView(e,t,n,r,i,o,a,s){this.proto=e,this.renderer=t,this.viewManager=n,this.projectableNodes=r,this.containerAppElement=i,this.changeDetector=s,this.context=null,this.destroyed=!1,this.ref=new h.ViewRef_(this);var u=c.AppElement.getViewParentInjector(this.proto.type,i,o,a);this.parentInjector=u.injector,this.hostInjectorBoundary=u.hostInjectorBoundary;var l,p;switch(e.type){case g.ViewType.COMPONENT:l=new m.Pipes(e.protoPipes,i.getInjector()),p=i.getComponent();break;case g.ViewType.EMBEDDED:l=i.parentView.pipes,p=i.parentView.context;break;case g.ViewType.HOST:l=null,p=_}this.pipes=l,this.context=p}return AppView.prototype.init=function(e,t,n,r){this.rootNodesOrAppElements=e,this.allNodes=t,this.disposables=n,this.appElements=r;var i=new o.Map;o.StringMapWrapper.forEach(this.proto.templateVariableBindings,function(e,t){i.set(e,null)});for(var s=0;s<r.length;s++){var c=r[s],l=[];if(u.isPresent(c.proto.protoInjector))for(var h=0;h<c.proto.protoInjector.numberOfProviders;h++)l.push(c.proto.protoInjector.getProviderAtIndex(h).key.token);o.StringMapWrapper.forEach(c.proto.directiveVariableBindings,function(e,t){u.isBlank(e)?i.set(t,c.nativeElement):i.set(t,c.getDirectiveAtIndex(e))}),this.renderer.setElementDebugInfo(c.nativeElement,new p.RenderDebugInfo(c.getInjector(),c.getComponent(),l,i))}var f=null;this.proto.type!==g.ViewType.COMPONENT&&(f=u.isPresent(this.containerAppElement)?this.containerAppElement.parentView.locals:null),this.proto.type===g.ViewType.COMPONENT&&(this.containerAppElement.attachComponentView(this),this.containerAppElement.parentView.changeDetector.addViewChild(this.changeDetector)),this.locals=new a.Locals(f,i),this.changeDetector.hydrate(this.context,this.locals,this,this.pipes),this.viewManager.onViewCreated(this)},AppView.prototype.destroy=function(){if(this.destroyed)throw new l.BaseException("This view has already been destroyed!");this.changeDetector.destroyRecursive()},AppView.prototype.notifyOnDestroy=function(){this.destroyed=!0;var e=this.proto.type===g.ViewType.COMPONENT?this.containerAppElement.nativeElement:null;this.renderer.destroyView(e,this.allNodes);for(var t=0;t<this.disposables.length;t++)this.disposables[t]();this.viewManager.onViewDestroyed(this)},Object.defineProperty(AppView.prototype,"changeDetectorRef",{get:function(){return this.changeDetector.ref},enumerable:!0,configurable:!0}),Object.defineProperty(AppView.prototype,"flatRootNodes",{get:function(){return flattenNestedViewRenderNodes(this.rootNodesOrAppElements)},enumerable:!0,configurable:!0}),AppView.prototype.hasLocal=function(e){return o.StringMapWrapper.contains(this.proto.templateVariableBindings,e)},AppView.prototype.setLocal=function(e,t){if(this.hasLocal(e)){var n=this.proto.templateVariableBindings[e];this.locals.set(n,t)}},AppView.prototype.notifyOnBinding=function(e,t){if(e.isTextNode())this.renderer.setText(this.allNodes[e.elementIndex],t);else{var n=this.appElements[e.elementIndex].nativeElement;if(e.isElementProperty())this.renderer.setElementProperty(n,e.name,t);else if(e.isElementAttribute())this.renderer.setElementAttribute(n,e.name,u.isPresent(t)?""+t:null);else if(e.isElementClass())this.renderer.setElementClass(n,e.name,t);else{if(!e.isElementStyle())throw new l.BaseException("Unsupported directive record");var r=u.isPresent(e.unit)?e.unit:"";this.renderer.setElementStyle(n,e.name,u.isPresent(t)?""+t+r:null)}}},AppView.prototype.logBindingUpdate=function(e,t){if(e.isDirective()||e.isElementProperty()){var n=this.appElements[e.elementIndex].nativeElement;this.renderer.setBindingDebugInfo(n,""+v+d.camelCaseToDashCase(e.name),""+t)}},AppView.prototype.notifyAfterContentChecked=function(){for(var e=this.appElements.length,t=e-1;t>=0;t--)this.appElements[t].ngAfterContentChecked()},AppView.prototype.notifyAfterViewChecked=function(){for(var e=this.appElements.length,t=e-1;t>=0;t--)this.appElements[t].ngAfterViewChecked()},AppView.prototype.getDebugContext=function(e,t,n){try{u.isBlank(e)&&t<this.appElements.length&&(e=this.appElements[t]);var r=this.containerAppElement,i=u.isPresent(e)?e.nativeElement:null,o=u.isPresent(r)?r.nativeElement:null,a=u.isPresent(n)?e.getDirectiveAtIndex(n):null,c=u.isPresent(e)?e.getInjector():null;return new s.DebugContext(i,o,a,this.context,_localsToStringMap(this.locals),c)}catch(l){return null}},AppView.prototype.getDirectiveFor=function(e){return this.appElements[e.elementIndex].getDirectiveAtIndex(e.directiveIndex)},AppView.prototype.getDetectorFor=function(e){var t=this.appElements[e.elementIndex].componentView;return u.isPresent(t)?t.changeDetector:null},AppView.prototype.triggerEventHandlers=function(e,t,n){return this.changeDetector.handleEvent(e,n,t)},AppView}();t.AppView=b;var w=function(){function AppProtoView(e,t,n){this.type=e,this.protoPipes=t,this.templateVariableBindings=n}return AppProtoView.create=function(e,t,n,r){var i=null;if(u.isPresent(n)&&n.length>0){for(var a=o.ListWrapper.createFixedSize(n.length),s=0;s<n.length;s++)a[s]=e.getResolvedPipeMetadata(n[s]);i=f.ProtoPipes.fromProviders(a)}return new AppProtoView(t,i,r)},AppProtoView}();t.AppProtoView=w;var C=function(){function HostViewFactory(e,t){this.selector=e,this.viewFactory=t}return HostViewFactory=r([u.CONST(),i("design:paramtypes",[String,Function])],HostViewFactory)}();t.HostViewFactory=C,t.flattenNestedViewRenderNodes=flattenNestedViewRenderNodes,t.findLastRenderNode=findLastRenderNode,t.checkSlotCount=checkSlotCount},function(e,t,n){"use strict";function setProvidersVisibility(e,t,n){for(var r=0;r<e.length;r++)n.set(e[r].key.id,t)}var r,i=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},o=n(8),a=n(18),s=n(16),c=n(10),u=n(17),l=n(15),p=n(17),h=n(31),f=n(99),d=n(100),y=n(101),m=n(100),g=n(102),v=n(103),_=n(32),b=n(34),w=n(104),C=n(21),P=n(105),R=n(101),S=function(){function StaticKeys(){this.templateRefId=c.Key.get(v.TemplateRef).id,this.viewContainerId=c.Key.get(y.ViewContainerRef).id,this.changeDetectorRefId=c.Key.get(b.ChangeDetectorRef).id,this.elementRefId=c.Key.get(m.ElementRef).id,this.rendererId=c.Key.get(g.Renderer).id}return StaticKeys.instance=function(){return o.isBlank(r)&&(r=new StaticKeys),r},StaticKeys}();t.StaticKeys=S;var E=function(e){function DirectiveDependency(t,n,r,i,o,a,s){e.call(this,t,n,r,i,o),this.attributeName=a,this.queryDecorator=s,this._verify()}return i(DirectiveDependency,e),DirectiveDependency.prototype._verify=function(){var e=0;if(o.isPresent(this.queryDecorator)&&e++,o.isPresent(this.attributeName)&&e++,e>1)throw new a.BaseException("A directive injectable can contain only one of the following @Attribute or @Query.")},DirectiveDependency.createFrom=function(e){return new DirectiveDependency(e.key,e.optional,e.lowerBoundVisibility,e.upperBoundVisibility,e.properties,DirectiveDependency._attributeName(e.properties),DirectiveDependency._query(e.properties))},DirectiveDependency._attributeName=function(e){var t=e.find(function(e){return e instanceof h.AttributeMetadata});return o.isPresent(t)?t.attributeName:null},DirectiveDependency._query=function(e){return e.find(function(e){return e instanceof h.QueryMetadata})},DirectiveDependency}(c.Dependency);t.DirectiveDependency=E;var D=function(e){function DirectiveProvider(t,n,r,i,o,a,s){e.call(this,t,[new p.ResolvedFactory(n,r)],!1),this.isComponent=i,this.providers=o,this.viewProviders=a,this.queries=s}return i(DirectiveProvider,e),Object.defineProperty(DirectiveProvider.prototype,"displayName",{get:function(){return this.key.displayName},enumerable:!0,configurable:!0}),DirectiveProvider.createFromType=function(e,t){var n=new c.Provider(e,{useClass:e});o.isBlank(t)&&(t=new _.DirectiveMetadata);var r=p.resolveProvider(n),i=r.resolvedFactories[0],a=i.dependencies.map(E.createFrom),u=t instanceof _.ComponentMetadata,l=o.isPresent(t.providers)?c.Injector.resolve(t.providers):null,h=t instanceof _.ComponentMetadata&&o.isPresent(t.viewProviders)?c.Injector.resolve(t.viewProviders):null,f=[];return o.isPresent(t.queries)&&s.StringMapWrapper.forEach(t.queries,function(e,t){var n=C.reflector.setter(t);f.push(new A(n,e))}),a.forEach(function(e){o.isPresent(e.queryDecorator)&&f.push(new A(null,e.queryDecorator))}),new DirectiveProvider(r.key,i.factory,a,u,l,h,f)},DirectiveProvider}(p.ResolvedProvider_);t.DirectiveProvider=D;var A=function(){function QueryMetadataWithSetter(e,t){this.setter=e,this.metadata=t}return QueryMetadataWithSetter}();t.QueryMetadataWithSetter=A;var O=function(){function AppProtoElement(e,t,n,r,i,o){this.firstProviderIsComponent=e,this.index=t,this.attributes=n,this.protoQueryRefs=i,this.directiveVariableBindings=o;var a=r.length;a>0?this.protoInjector=new l.ProtoInjector(r):(this.protoInjector=null,this.protoQueryRefs=[])}return AppProtoElement.create=function(e,t,n,r,i){for(var a=null,c=new Map,p=new Map,h=s.ListWrapper.createGrowableSize(r.length),f=[],d=0;d<r.length;d++){var y=e.getResolvedDirectiveMetadata(r[d]);h[d]=new l.ProviderWithVisibility(y,y.isComponent?l.Visibility.PublicAndPrivate:l.Visibility.Public),y.isComponent?a=y:o.isPresent(y.providers)&&(u.mergeResolvedProviders(y.providers,c),setProvidersVisibility(y.providers,l.Visibility.Public,p)),o.isPresent(y.viewProviders)&&(u.mergeResolvedProviders(y.viewProviders,c),setProvidersVisibility(y.viewProviders,l.Visibility.Private,p));for(var m=0;m<y.queries.length;m++){var g=y.queries[m];f.push(new F(d,g.setter,g.metadata))}}return o.isPresent(a)&&o.isPresent(a.providers)&&(u.mergeResolvedProviders(a.providers,c),setProvidersVisibility(a.providers,l.Visibility.Public,p)),c.forEach(function(e,t){h.push(new l.ProviderWithVisibility(e,p.get(e.key.id)))}),new AppProtoElement(o.isPresent(a),t,n,h,f,i)},AppProtoElement.prototype.getProviderAtIndex=function(e){return this.protoInjector.getProviderAtIndex(e)},AppProtoElement}();t.AppProtoElement=O;var T=function(){function _Context(e,t,n){this.element=e,this.componentElement=t,this.injector=n}return _Context}(),I=function(){function InjectorWithHostBoundary(e,t){this.injector=e,this.hostInjectorBoundary=t}return InjectorWithHostBoundary}();t.InjectorWithHostBoundary=I;var N=function(){function AppElement(e,t,n,r,i){var a=this;this.proto=e,this.parentView=t,this.parent=n,this.nativeElement=r,this.embeddedViewFactory=i,this.nestedViews=null,this.componentView=null,this.ref=new d.ElementRef_(this);var s=o.isPresent(n)?n._injector:t.parentInjector;if(o.isPresent(this.proto.protoInjector)){var u;u=o.isPresent(n)&&o.isPresent(n.proto.protoInjector)?!1:t.hostInjectorBoundary,this._queryStrategy=this._buildQueryStrategy(),this._injector=new c.Injector(this.proto.protoInjector,s,u,this,function(){return a._debugContext()});var p=this._injector.internalStrategy;this._strategy=p instanceof l.InjectorInlineStrategy?new j(p,this):new B(p,this),this._strategy.init()}else this._queryStrategy=null,this._injector=s,this._strategy=null}return AppElement.getViewParentInjector=function(e,t,n,r){var i,a;switch(e){case f.ViewType.COMPONENT:i=t._injector,a=!0;break;case f.ViewType.EMBEDDED:i=o.isPresent(t.proto.protoInjector)?t._injector.parent:t._injector,a=t._injector.hostBoundary;break;case f.ViewType.HOST:if(o.isPresent(t))if(i=o.isPresent(t.proto.protoInjector)?t._injector.parent:t._injector,o.isPresent(n)){var s=n.map(function(e){return new l.ProviderWithVisibility(e,l.Visibility.Public)});i=new c.Injector(new l.ProtoInjector(s),i,!0,null,null),a=!1}else a=t._injector.hostBoundary;else i=r,a=!0}return new I(i,a)},AppElement.prototype.attachComponentView=function(e){this.componentView=e},AppElement.prototype._debugContext=function(){var e=this.parentView.getDebugContext(this,null,null);return o.isPresent(e)?new T(e.element,e.componentElement,e.injector):null},AppElement.prototype.hasVariableBinding=function(e){var t=this.proto.directiveVariableBindings;return o.isPresent(t)&&s.StringMapWrapper.contains(t,e)},AppElement.prototype.getVariableBinding=function(e){var t=this.proto.directiveVariableBindings[e];return o.isPresent(t)?this.getDirectiveAtIndex(t):this.getElementRef()},AppElement.prototype.get=function(e){return this._injector.get(e)},AppElement.prototype.hasDirective=function(e){return o.isPresent(this._injector.getOptional(e))},AppElement.prototype.getComponent=function(){return o.isPresent(this._strategy)?this._strategy.getComponent():null},AppElement.prototype.getInjector=function(){return this._injector},AppElement.prototype.getElementRef=function(){return this.ref},AppElement.prototype.getViewContainerRef=function(){return new R.ViewContainerRef_(this)},AppElement.prototype.getTemplateRef=function(){return o.isPresent(this.embeddedViewFactory)?new v.TemplateRef_(this.ref):null},AppElement.prototype.getDependency=function(e,t,n){if(t instanceof D){var r=n;if(o.isPresent(r.attributeName))return this._buildAttribute(r);if(o.isPresent(r.queryDecorator))return this._queryStrategy.findQuery(r.queryDecorator).list;if(r.key.id===S.instance().changeDetectorRefId)return this.proto.firstProviderIsComponent?new W(this):this.parentView.changeDetector.ref;if(r.key.id===S.instance().elementRefId)return this.getElementRef();if(r.key.id===S.instance().viewContainerId)return this.getViewContainerRef();if(r.key.id===S.instance().templateRefId){var i=this.getTemplateRef();if(o.isBlank(i)&&!r.optional)throw new c.NoProviderError(null,r.key);return i}if(r.key.id===S.instance().rendererId)return this.parentView.renderer}else if(t instanceof P.PipeProvider&&n.key.id===S.instance().changeDetectorRefId)return this.proto.firstProviderIsComponent?new W(this):this.parentView.changeDetector;return l.UNDEFINED},AppElement.prototype._buildAttribute=function(e){var t=this.proto.attributes;return o.isPresent(t)&&s.StringMapWrapper.contains(t,e.attributeName)?t[e.attributeName]:null},AppElement.prototype.addDirectivesMatchingQuery=function(e,t){var n=this.getTemplateRef();e.selector===v.TemplateRef&&o.isPresent(n)&&t.push(n),null!=this._strategy&&this._strategy.addDirectivesMatchingQuery(e,t)},AppElement.prototype._buildQueryStrategy=function(){return 0===this.proto.protoQueryRefs.length?k:this.proto.protoQueryRefs.length<=M.NUMBER_OF_SUPPORTED_QUERIES?new M(this):new V(this)},AppElement.prototype.getDirectiveAtIndex=function(e){return this._injector.getAt(e)},AppElement.prototype.ngAfterViewChecked=function(){
o.isPresent(this._queryStrategy)&&this._queryStrategy.updateViewQueries()},AppElement.prototype.ngAfterContentChecked=function(){o.isPresent(this._queryStrategy)&&this._queryStrategy.updateContentQueries()},AppElement.prototype.traverseAndSetQueriesAsDirty=function(){for(var e=this;o.isPresent(e);)e._setQueriesAsDirty(),e=o.isBlank(e.parent)&&e.parentView.proto.type===f.ViewType.EMBEDDED?e.parentView.containerAppElement:e.parent},AppElement.prototype._setQueriesAsDirty=function(){o.isPresent(this._queryStrategy)&&this._queryStrategy.setContentQueriesAsDirty(),this.parentView.proto.type===f.ViewType.COMPONENT&&this.parentView.containerAppElement._queryStrategy.setViewQueriesAsDirty()},AppElement}();t.AppElement=N;var x=function(){function _EmptyQueryStrategy(){}return _EmptyQueryStrategy.prototype.setContentQueriesAsDirty=function(){},_EmptyQueryStrategy.prototype.setViewQueriesAsDirty=function(){},_EmptyQueryStrategy.prototype.updateContentQueries=function(){},_EmptyQueryStrategy.prototype.updateViewQueries=function(){},_EmptyQueryStrategy.prototype.findQuery=function(e){throw new a.BaseException("Cannot find query for directive "+e+".")},_EmptyQueryStrategy}(),k=new x,M=function(){function InlineQueryStrategy(e){var t=e.proto.protoQueryRefs;t.length>0&&(this.query0=new L(t[0],e)),t.length>1&&(this.query1=new L(t[1],e)),t.length>2&&(this.query2=new L(t[2],e))}return InlineQueryStrategy.prototype.setContentQueriesAsDirty=function(){o.isPresent(this.query0)&&!this.query0.isViewQuery&&(this.query0.dirty=!0),o.isPresent(this.query1)&&!this.query1.isViewQuery&&(this.query1.dirty=!0),o.isPresent(this.query2)&&!this.query2.isViewQuery&&(this.query2.dirty=!0)},InlineQueryStrategy.prototype.setViewQueriesAsDirty=function(){o.isPresent(this.query0)&&this.query0.isViewQuery&&(this.query0.dirty=!0),o.isPresent(this.query1)&&this.query1.isViewQuery&&(this.query1.dirty=!0),o.isPresent(this.query2)&&this.query2.isViewQuery&&(this.query2.dirty=!0)},InlineQueryStrategy.prototype.updateContentQueries=function(){o.isPresent(this.query0)&&!this.query0.isViewQuery&&this.query0.update(),o.isPresent(this.query1)&&!this.query1.isViewQuery&&this.query1.update(),o.isPresent(this.query2)&&!this.query2.isViewQuery&&this.query2.update()},InlineQueryStrategy.prototype.updateViewQueries=function(){o.isPresent(this.query0)&&this.query0.isViewQuery&&this.query0.update(),o.isPresent(this.query1)&&this.query1.isViewQuery&&this.query1.update(),o.isPresent(this.query2)&&this.query2.isViewQuery&&this.query2.update()},InlineQueryStrategy.prototype.findQuery=function(e){if(o.isPresent(this.query0)&&this.query0.protoQueryRef.query===e)return this.query0;if(o.isPresent(this.query1)&&this.query1.protoQueryRef.query===e)return this.query1;if(o.isPresent(this.query2)&&this.query2.protoQueryRef.query===e)return this.query2;throw new a.BaseException("Cannot find query for directive "+e+".")},InlineQueryStrategy.NUMBER_OF_SUPPORTED_QUERIES=3,InlineQueryStrategy}(),V=function(){function DynamicQueryStrategy(e){this.queries=e.proto.protoQueryRefs.map(function(t){return new L(t,e)})}return DynamicQueryStrategy.prototype.setContentQueriesAsDirty=function(){for(var e=0;e<this.queries.length;++e){var t=this.queries[e];t.isViewQuery||(t.dirty=!0)}},DynamicQueryStrategy.prototype.setViewQueriesAsDirty=function(){for(var e=0;e<this.queries.length;++e){var t=this.queries[e];t.isViewQuery&&(t.dirty=!0)}},DynamicQueryStrategy.prototype.updateContentQueries=function(){for(var e=0;e<this.queries.length;++e){var t=this.queries[e];t.isViewQuery||t.update()}},DynamicQueryStrategy.prototype.updateViewQueries=function(){for(var e=0;e<this.queries.length;++e){var t=this.queries[e];t.isViewQuery&&t.update()}},DynamicQueryStrategy.prototype.findQuery=function(e){for(var t=0;t<this.queries.length;++t){var n=this.queries[t];if(n.protoQueryRef.query===e)return n}throw new a.BaseException("Cannot find query for directive "+e+".")},DynamicQueryStrategy}(),j=function(){function ElementDirectiveInlineStrategy(e,t){this.injectorStrategy=e,this._ei=t}return ElementDirectiveInlineStrategy.prototype.init=function(){var e=this.injectorStrategy,t=e.protoStrategy;e.resetConstructionCounter(),t.provider0 instanceof D&&o.isPresent(t.keyId0)&&e.obj0===l.UNDEFINED&&(e.obj0=e.instantiateProvider(t.provider0,t.visibility0)),t.provider1 instanceof D&&o.isPresent(t.keyId1)&&e.obj1===l.UNDEFINED&&(e.obj1=e.instantiateProvider(t.provider1,t.visibility1)),t.provider2 instanceof D&&o.isPresent(t.keyId2)&&e.obj2===l.UNDEFINED&&(e.obj2=e.instantiateProvider(t.provider2,t.visibility2)),t.provider3 instanceof D&&o.isPresent(t.keyId3)&&e.obj3===l.UNDEFINED&&(e.obj3=e.instantiateProvider(t.provider3,t.visibility3)),t.provider4 instanceof D&&o.isPresent(t.keyId4)&&e.obj4===l.UNDEFINED&&(e.obj4=e.instantiateProvider(t.provider4,t.visibility4)),t.provider5 instanceof D&&o.isPresent(t.keyId5)&&e.obj5===l.UNDEFINED&&(e.obj5=e.instantiateProvider(t.provider5,t.visibility5)),t.provider6 instanceof D&&o.isPresent(t.keyId6)&&e.obj6===l.UNDEFINED&&(e.obj6=e.instantiateProvider(t.provider6,t.visibility6)),t.provider7 instanceof D&&o.isPresent(t.keyId7)&&e.obj7===l.UNDEFINED&&(e.obj7=e.instantiateProvider(t.provider7,t.visibility7)),t.provider8 instanceof D&&o.isPresent(t.keyId8)&&e.obj8===l.UNDEFINED&&(e.obj8=e.instantiateProvider(t.provider8,t.visibility8)),t.provider9 instanceof D&&o.isPresent(t.keyId9)&&e.obj9===l.UNDEFINED&&(e.obj9=e.instantiateProvider(t.provider9,t.visibility9))},ElementDirectiveInlineStrategy.prototype.getComponent=function(){return this.injectorStrategy.obj0},ElementDirectiveInlineStrategy.prototype.isComponentKey=function(e){return this._ei.proto.firstProviderIsComponent&&o.isPresent(e)&&e.id===this.injectorStrategy.protoStrategy.keyId0},ElementDirectiveInlineStrategy.prototype.addDirectivesMatchingQuery=function(e,t){var n=this.injectorStrategy,r=n.protoStrategy;o.isPresent(r.provider0)&&r.provider0.key.token===e.selector&&(n.obj0===l.UNDEFINED&&(n.obj0=n.instantiateProvider(r.provider0,r.visibility0)),t.push(n.obj0)),o.isPresent(r.provider1)&&r.provider1.key.token===e.selector&&(n.obj1===l.UNDEFINED&&(n.obj1=n.instantiateProvider(r.provider1,r.visibility1)),t.push(n.obj1)),o.isPresent(r.provider2)&&r.provider2.key.token===e.selector&&(n.obj2===l.UNDEFINED&&(n.obj2=n.instantiateProvider(r.provider2,r.visibility2)),t.push(n.obj2)),o.isPresent(r.provider3)&&r.provider3.key.token===e.selector&&(n.obj3===l.UNDEFINED&&(n.obj3=n.instantiateProvider(r.provider3,r.visibility3)),t.push(n.obj3)),o.isPresent(r.provider4)&&r.provider4.key.token===e.selector&&(n.obj4===l.UNDEFINED&&(n.obj4=n.instantiateProvider(r.provider4,r.visibility4)),t.push(n.obj4)),o.isPresent(r.provider5)&&r.provider5.key.token===e.selector&&(n.obj5===l.UNDEFINED&&(n.obj5=n.instantiateProvider(r.provider5,r.visibility5)),t.push(n.obj5)),o.isPresent(r.provider6)&&r.provider6.key.token===e.selector&&(n.obj6===l.UNDEFINED&&(n.obj6=n.instantiateProvider(r.provider6,r.visibility6)),t.push(n.obj6)),o.isPresent(r.provider7)&&r.provider7.key.token===e.selector&&(n.obj7===l.UNDEFINED&&(n.obj7=n.instantiateProvider(r.provider7,r.visibility7)),t.push(n.obj7)),o.isPresent(r.provider8)&&r.provider8.key.token===e.selector&&(n.obj8===l.UNDEFINED&&(n.obj8=n.instantiateProvider(r.provider8,r.visibility8)),t.push(n.obj8)),o.isPresent(r.provider9)&&r.provider9.key.token===e.selector&&(n.obj9===l.UNDEFINED&&(n.obj9=n.instantiateProvider(r.provider9,r.visibility9)),t.push(n.obj9))},ElementDirectiveInlineStrategy}(),B=function(){function ElementDirectiveDynamicStrategy(e,t){this.injectorStrategy=e,this._ei=t}return ElementDirectiveDynamicStrategy.prototype.init=function(){var e=this.injectorStrategy,t=e.protoStrategy;e.resetConstructionCounter();for(var n=0;n<t.keyIds.length;n++)t.providers[n]instanceof D&&o.isPresent(t.keyIds[n])&&e.objs[n]===l.UNDEFINED&&(e.objs[n]=e.instantiateProvider(t.providers[n],t.visibilities[n]))},ElementDirectiveDynamicStrategy.prototype.getComponent=function(){return this.injectorStrategy.objs[0]},ElementDirectiveDynamicStrategy.prototype.isComponentKey=function(e){var t=this.injectorStrategy.protoStrategy;return this._ei.proto.firstProviderIsComponent&&o.isPresent(e)&&e.id===t.keyIds[0]},ElementDirectiveDynamicStrategy.prototype.addDirectivesMatchingQuery=function(e,t){for(var n=this.injectorStrategy,r=n.protoStrategy,i=0;i<r.providers.length;i++)r.providers[i].key.token===e.selector&&(n.objs[i]===l.UNDEFINED&&(n.objs[i]=n.instantiateProvider(r.providers[i],r.visibilities[i])),t.push(n.objs[i]))},ElementDirectiveDynamicStrategy}(),F=function(){function ProtoQueryRef(e,t,n){this.dirIndex=e,this.setter=t,this.query=n}return Object.defineProperty(ProtoQueryRef.prototype,"usesPropertySyntax",{get:function(){return o.isPresent(this.setter)},enumerable:!0,configurable:!0}),ProtoQueryRef}();t.ProtoQueryRef=F;var L=function(){function QueryRef(e,t){this.protoQueryRef=e,this.originator=t,this.list=new w.QueryList,this.dirty=!0}return Object.defineProperty(QueryRef.prototype,"isViewQuery",{get:function(){return this.protoQueryRef.query.isViewQuery},enumerable:!0,configurable:!0}),QueryRef.prototype.update=function(){if(this.dirty){if(this._update(),this.dirty=!1,this.protoQueryRef.usesPropertySyntax){var e=this.originator.getDirectiveAtIndex(this.protoQueryRef.dirIndex);this.protoQueryRef.query.first?this.protoQueryRef.setter(e,this.list.length>0?this.list.first:null):this.protoQueryRef.setter(e,this.list)}this.list.notifyOnChanges()}},QueryRef.prototype._update=function(){var e=[];if(this.protoQueryRef.query.isViewQuery){var t=this.originator.componentView;o.isPresent(t)&&this._visitView(t,e)}else this._visit(this.originator,e);this.list.reset(e)},QueryRef.prototype._visit=function(e,t){for(var n=e.parentView,r=e.proto.index,i=r;i<n.appElements.length;i++){var a=n.appElements[i];if(i>r&&(o.isBlank(a.parent)||a.parent.proto.index<r))break;(this.protoQueryRef.query.descendants||a.parent==this.originator||a==this.originator)&&(this._visitInjector(a,t),this._visitViewContainerViews(a.nestedViews,t))}},QueryRef.prototype._visitInjector=function(e,t){this.protoQueryRef.query.isVarBindingQuery?this._aggregateVariableBinding(e,t):this._aggregateDirective(e,t)},QueryRef.prototype._visitViewContainerViews=function(e,t){if(o.isPresent(e))for(var n=0;n<e.length;n++)this._visitView(e[n],t)},QueryRef.prototype._visitView=function(e,t){for(var n=0;n<e.appElements.length;n++){var r=e.appElements[n];this._visitInjector(r,t),this._visitViewContainerViews(r.nestedViews,t)}},QueryRef.prototype._aggregateVariableBinding=function(e,t){for(var n=this.protoQueryRef.query.varBindings,r=0;r<n.length;++r)e.hasVariableBinding(n[r])&&t.push(e.getVariableBinding(n[r]))},QueryRef.prototype._aggregateDirective=function(e,t){e.addDirectivesMatchingQuery(this.protoQueryRef.query,t)},QueryRef}();t.QueryRef=L;var W=function(e){function _ComponentViewChangeDetectorRef(t){e.call(this),this._appElement=t}return i(_ComponentViewChangeDetectorRef,e),_ComponentViewChangeDetectorRef.prototype.markForCheck=function(){this._appElement.componentView.changeDetector.ref.markForCheck()},_ComponentViewChangeDetectorRef.prototype.detach=function(){this._appElement.componentView.changeDetector.ref.detach()},_ComponentViewChangeDetectorRef.prototype.detectChanges=function(){this._appElement.componentView.changeDetector.ref.detectChanges()},_ComponentViewChangeDetectorRef.prototype.checkNoChanges=function(){this._appElement.componentView.changeDetector.ref.checkNoChanges()},_ComponentViewChangeDetectorRef.prototype.reattach=function(){this._appElement.componentView.changeDetector.ref.reattach()},_ComponentViewChangeDetectorRef}(b.ChangeDetectorRef)},function(e,t){"use strict";!function(e){e[e.HOST=0]="HOST",e[e.COMPONENT=1]="COMPONENT",e[e.EMBEDDED=2]="EMBEDDED"}(t.ViewType||(t.ViewType={}));t.ViewType},function(e,t,n){"use strict";var r=n(18),i=function(){function ElementRef(){}return Object.defineProperty(ElementRef.prototype,"nativeElement",{get:function(){return r.unimplemented()},enumerable:!0,configurable:!0}),ElementRef}();t.ElementRef=i;var o=function(){function ElementRef_(e){this._appElement=e}return Object.defineProperty(ElementRef_.prototype,"internalElement",{get:function(){return this._appElement},enumerable:!0,configurable:!0}),Object.defineProperty(ElementRef_.prototype,"nativeElement",{get:function(){return this._appElement.nativeElement},enumerable:!0,configurable:!0}),ElementRef_}();t.ElementRef_=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(16),o=n(18),a=n(8),s=function(){function ViewContainerRef(){}return Object.defineProperty(ViewContainerRef.prototype,"element",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef.prototype.clear=function(){for(var e=this.length-1;e>=0;e--)this.remove(e)},Object.defineProperty(ViewContainerRef.prototype,"length",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),ViewContainerRef}();t.ViewContainerRef=s;var c=function(e){function ViewContainerRef_(t){e.call(this),this._element=t}return r(ViewContainerRef_,e),ViewContainerRef_.prototype.get=function(e){return this._element.nestedViews[e].ref},Object.defineProperty(ViewContainerRef_.prototype,"length",{get:function(){var e=this._element.nestedViews;return a.isPresent(e)?e.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(ViewContainerRef_.prototype,"element",{get:function(){return this._element.ref},enumerable:!0,configurable:!0}),ViewContainerRef_.prototype.createEmbeddedView=function(e,t){void 0===t&&(t=-1),-1==t&&(t=this.length);var n=this._element.parentView.viewManager;return n.createEmbeddedViewInContainer(this._element.ref,t,e)},ViewContainerRef_.prototype.createHostView=function(e,t,n,r){void 0===t&&(t=-1),void 0===n&&(n=null),void 0===r&&(r=null),-1==t&&(t=this.length);var i=this._element.parentView.viewManager;return i.createHostViewInContainer(this._element.ref,t,e,n,r)},ViewContainerRef_.prototype.insert=function(e,t){void 0===t&&(t=-1),-1==t&&(t=this.length);var n=this._element.parentView.viewManager;return n.attachViewInContainer(this._element.ref,t,e)},ViewContainerRef_.prototype.indexOf=function(e){return i.ListWrapper.indexOf(this._element.nestedViews,e.internalView)},ViewContainerRef_.prototype.remove=function(e){void 0===e&&(e=-1),-1==e&&(e=this.length-1);var t=this._element.parentView.viewManager;return t.destroyViewInContainer(this._element.ref,e)},ViewContainerRef_.prototype.detach=function(e){void 0===e&&(e=-1),-1==e&&(e=this.length-1);var t=this._element.parentView.viewManager;return t.detachViewInContainer(this._element.ref,e)},ViewContainerRef_}(s);t.ViewContainerRef_=c},function(e,t){"use strict";var n=function(){function RenderComponentType(e,t,n){this.id=e,this.encapsulation=t,this.styles=n}return RenderComponentType}();t.RenderComponentType=n;var r=function(){function RenderDebugInfo(e,t,n,r){this.injector=e,this.component=t,this.providerTokens=n,this.locals=r}return RenderDebugInfo}();t.RenderDebugInfo=r;var i=function(){function Renderer(){}return Renderer}();t.Renderer=i;var o=function(){function RootRenderer(){}return RootRenderer}();t.RootRenderer=o},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},r=function(){function TemplateRef(){}return Object.defineProperty(TemplateRef.prototype,"elementRef",{get:function(){return null},enumerable:!0,configurable:!0}),TemplateRef}();t.TemplateRef=r;var i=function(e){function TemplateRef_(t){e.call(this),this._elementRef=t}return n(TemplateRef_,e),Object.defineProperty(TemplateRef_.prototype,"elementRef",{get:function(){return this._elementRef},enumerable:!0,configurable:!0}),TemplateRef_}(r);t.TemplateRef_=i},function(e,t,n){"use strict";var r=n(16),i=n(8),o=n(56),a=function(){function QueryList(){this._results=[],this._emitter=new o.EventEmitter}return Object.defineProperty(QueryList.prototype,"changes",{get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"length",{get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"first",{get:function(){return r.ListWrapper.first(this._results)},enumerable:!0,configurable:!0}),Object.defineProperty(QueryList.prototype,"last",{get:function(){return r.ListWrapper.last(this._results)},enumerable:!0,configurable:!0}),QueryList.prototype.map=function(e){return this._results.map(e)},QueryList.prototype.filter=function(e){return this._results.filter(e)},QueryList.prototype.reduce=function(e,t){return this._results.reduce(e,t)},QueryList.prototype.forEach=function(e){this._results.forEach(e)},QueryList.prototype.toArray=function(){return r.ListWrapper.clone(this._results)},QueryList.prototype[i.getSymbolIterator()]=function(){return this._results[i.getSymbolIterator()]()},QueryList.prototype.toString=function(){return this._results.toString()},QueryList.prototype.reset=function(e){this._results=e},QueryList.prototype.notifyOnChanges=function(){this._emitter.emit(this)},QueryList}();t.QueryList=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(17),o=n(10),a=function(e){function PipeProvider(t,n,r,i,o){e.call(this,r,i,o),this.name=t,this.pure=n}return r(PipeProvider,e),PipeProvider.createFromType=function(e,t){var n=new o.Provider(e,{useClass:e}),r=i.resolveProvider(n);return new PipeProvider(t.name,t.pure,r.key,r.resolvedFactories,r.multiProvider)},PipeProvider}(i.ResolvedProvider_);t.PipeProvider=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(18),o=function(){function ViewRef(){}return Object.defineProperty(ViewRef.prototype,"changeDetectorRef",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef.prototype,"destroyed",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),ViewRef}();t.ViewRef=o;var a=function(e){function HostViewRef(){e.apply(this,arguments)}return r(HostViewRef,e),Object.defineProperty(HostViewRef.prototype,"rootNodes",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),HostViewRef}(o);t.HostViewRef=a;var s=function(e){function EmbeddedViewRef(){e.apply(this,arguments)}return r(EmbeddedViewRef,e),Object.defineProperty(EmbeddedViewRef.prototype,"rootNodes",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),EmbeddedViewRef}(o);t.EmbeddedViewRef=s;var c=function(){function ViewRef_(e){this._view=e,this._view=e}return Object.defineProperty(ViewRef_.prototype,"internalView",{get:function(){return this._view},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"changeDetectorRef",{get:function(){return this._view.changeDetector.ref},enumerable:!0,configurable:!0}),Object.defineProperty(ViewRef_.prototype,"rootNodes",{get:function(){return this._view.flatRootNodes},enumerable:!0,configurable:!0}),ViewRef_.prototype.setLocal=function(e,t){this._view.setLocal(e,t)},ViewRef_.prototype.hasLocal=function(e){return this._view.hasLocal(e)},Object.defineProperty(ViewRef_.prototype,"destroyed",{get:function(){return this._view.destroyed},enumerable:!0,configurable:!0}),ViewRef_}();t.ViewRef_=c;var u=function(){function HostViewFactoryRef(){}return HostViewFactoryRef}();t.HostViewFactoryRef=u;var l=function(){function HostViewFactoryRef_(e){this._hostViewFactory=e}return Object.defineProperty(HostViewFactoryRef_.prototype,"internalHostViewFactory",{get:function(){return this._hostViewFactory},enumerable:!0,configurable:!0}),HostViewFactoryRef_}();t.HostViewFactoryRef_=l},function(e,t,n){"use strict";var r=n(8),i=n(18),o=n(16),a=n(108),s=function(){function ProtoPipes(e){this.config=e,this.config=e}return ProtoPipes.fromProviders=function(e){var t={};return e.forEach(function(e){return t[e.name]=e}),new ProtoPipes(t)},ProtoPipes.prototype.get=function(e){var t=this.config[e];if(r.isBlank(t))throw new i.BaseException("Cannot find pipe '"+e+"'.");return t},ProtoPipes}();t.ProtoPipes=s;var c=function(){function Pipes(e,t){this.proto=e,this.injector=t,this._config={}}return Pipes.prototype.get=function(e){var t=o.StringMapWrapper.get(this._config,e);if(r.isPresent(t))return t;var n=this.proto.get(e),i=this.injector.instantiateResolved(n),s=new a.SelectedPipe(i,n.pure);return n.pure&&o.StringMapWrapper.set(this._config,e,s),s},Pipes}();t.Pipes=c},function(e,t){"use strict";var n=function(){function SelectedPipe(e,t){this.pipe=e,this.pure=t}return SelectedPipe}();t.SelectedPipe=n},function(e,t,n){"use strict";function camelCaseToDashCase(e){return r.StringWrapper.replaceAllMapped(e,i,function(e){return"-"+e[1].toLowerCase()})}function dashCaseToCamelCase(e){return r.StringWrapper.replaceAllMapped(e,o,function(e){return e[1].toUpperCase()})}var r=n(8),i=/([A-Z])/g,o=/-([a-z])/g;t.camelCaseToDashCase=camelCaseToDashCase,t.dashCaseToCamelCase=dashCaseToCamelCase},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(10),c=n(8),u=n(16),l=n(18),p=n(97),h=n(102),f=n(54),d=n(93),y=n(99),m=function(){function AppViewManager(){}return AppViewManager}();t.AppViewManager=m;var g=function(e){function AppViewManager_(t,n){e.call(this),this._renderer=t,this._appId=n,this._nextCompTypeId=0,this._createRootHostViewScope=f.wtfCreateScope("AppViewManager#createRootHostView()"),this._destroyRootHostViewScope=f.wtfCreateScope("AppViewManager#destroyRootHostView()"),this._createEmbeddedViewInContainerScope=f.wtfCreateScope("AppViewManager#createEmbeddedViewInContainer()"),this._createHostViewInContainerScope=f.wtfCreateScope("AppViewManager#createHostViewInContainer()"),this._destroyViewInContainerScope=f.wtfCreateScope("AppViewMananger#destroyViewInContainer()"),this._attachViewInContainerScope=f.wtfCreateScope("AppViewMananger#attachViewInContainer()"),this._detachViewInContainerScope=f.wtfCreateScope("AppViewMananger#detachViewInContainer()")}return r(AppViewManager_,e),AppViewManager_.prototype.getViewContainer=function(e){return e.internalElement.getViewContainerRef()},AppViewManager_.prototype.getHostElement=function(e){var t=e.internalView;if(t.proto.type!==y.ViewType.HOST)throw new l.BaseException("This operation is only allowed on host views");return t.appElements[0].ref},AppViewManager_.prototype.getNamedElementInComponentView=function(e,t){var n=e.internalElement,r=n.componentView;if(c.isBlank(r))throw new l.BaseException("There is no component directive at element "+e);for(var i=0;i<r.appElements.length;i++){var o=r.appElements[i];if(u.StringMapWrapper.contains(o.proto.directiveVariableBindings,t))return o.ref}throw new l.BaseException("Could not find variable "+t)},AppViewManager_.prototype.getComponent=function(e){return e.internalElement.getComponent()},AppViewManager_.prototype.createRootHostView=function(e,t,n,r){void 0===r&&(r=null);var i=this._createRootHostViewScope(),o=e.internalHostViewFactory,a=c.isPresent(t)?t:o.selector,s=o.viewFactory(this._renderer,this,null,r,a,null,n);return f.wtfLeave(i,s.ref)},AppViewManager_.prototype.destroyRootHostView=function(e){var t=this._destroyRootHostViewScope(),n=e.internalView;n.renderer.detachView(p.flattenNestedViewRenderNodes(n.rootNodesOrAppElements)),n.destroy(),f.wtfLeave(t)},AppViewManager_.prototype.createEmbeddedViewInContainer=function(e,t,n){var r=this._createEmbeddedViewInContainerScope(),i=n.elementRef.internalElement,o=i.embeddedViewFactory(i.parentView.renderer,this,i,i.parentView.projectableNodes,null,null,null);return this._attachViewToContainer(o,e.internalElement,t),f.wtfLeave(r,o.ref)},AppViewManager_.prototype.createHostViewInContainer=function(e,t,n,r,i){var o=this._createHostViewInContainerScope(),a=e,s=a.internalElement,c=n.internalHostViewFactory,u=c.viewFactory(s.parentView.renderer,s.parentView.viewManager,s,i,null,r,null);return this._attachViewToContainer(u,a.internalElement,t),f.wtfLeave(o,u.ref)},AppViewManager_.prototype.destroyViewInContainer=function(e,t){var n=this._destroyViewInContainerScope(),r=this._detachViewInContainer(e.internalElement,t);r.destroy(),f.wtfLeave(n)},AppViewManager_.prototype.attachViewInContainer=function(e,t,n){var r=n,i=this._attachViewInContainerScope();return this._attachViewToContainer(r.internalView,e.internalElement,t),f.wtfLeave(i,r)},AppViewManager_.prototype.detachViewInContainer=function(e,t){var n=this._detachViewInContainerScope(),r=this._detachViewInContainer(e.internalElement,t);return f.wtfLeave(n,r.ref)},AppViewManager_.prototype.onViewCreated=function(e){},AppViewManager_.prototype.onViewDestroyed=function(e){},AppViewManager_.prototype.createRenderComponentType=function(e,t){return new h.RenderComponentType(this._appId+"-"+this._nextCompTypeId++,e,t)},AppViewManager_.prototype._attachViewToContainer=function(e,t,n){if(e.proto.type===y.ViewType.COMPONENT)throw new l.BaseException("Component views can't be moved!");var r=t.nestedViews;null==r&&(r=[],t.nestedViews=r),u.ListWrapper.insert(r,n,e);var i;if(n>0){var o=r[n-1];i=o.rootNodesOrAppElements.length>0?o.rootNodesOrAppElements[o.rootNodesOrAppElements.length-1]:null}else i=t.nativeElement;if(c.isPresent(i)){var a=p.findLastRenderNode(i);e.renderer.attachViewAfter(a,p.flattenNestedViewRenderNodes(e.rootNodesOrAppElements))}t.parentView.changeDetector.addContentChild(e.changeDetector),t.traverseAndSetQueriesAsDirty()},AppViewManager_.prototype._detachViewInContainer=function(e,t){var n=u.ListWrapper.removeAt(e.nestedViews,t);if(n.proto.type===y.ViewType.COMPONENT)throw new l.BaseException("Component views can't be moved!");return e.traverseAndSetQueriesAsDirty(),n.renderer.detachView(p.flattenNestedViewRenderNodes(n.rootNodesOrAppElements)),n.changeDetector.remove(),n},AppViewManager_=i([s.Injectable(),a(1,s.Inject(d.APP_ID)),o("design:paramtypes",[h.RootRenderer,String])],AppViewManager_)}(m);t.AppViewManager_=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(10),a=n(8),s=function(){function Console(){}return Console.prototype.log=function(e){a.print(e)},Console=r([o.Injectable(),i("design:paramtypes",[])],Console)}();t.Console=s},function(e,t,n){"use strict";var r=n(91);t.NgZone=r.NgZone,t.NgZoneError=r.NgZoneError},function(e,t,n){"use strict";var r=n(102);t.RootRenderer=r.RootRenderer,t.Renderer=r.Renderer,t.RenderComponentType=r.RenderComponentType},function(e,t,n){"use strict";var r=n(115);t.DirectiveResolver=r.DirectiveResolver;var i=n(116);t.ViewResolver=i.ViewResolver;var o=n(96);t.Compiler=o.Compiler;var a=n(110);t.AppViewManager=a.AppViewManager;var s=n(104);t.QueryList=s.QueryList;var c=n(95);t.DynamicComponentLoader=c.DynamicComponentLoader;var u=n(100);t.ElementRef=u.ElementRef;var l=n(103);t.TemplateRef=l.TemplateRef;var p=n(106);t.EmbeddedViewRef=p.EmbeddedViewRef,t.HostViewRef=p.HostViewRef,t.ViewRef=p.ViewRef,t.HostViewFactoryRef=p.HostViewFactoryRef;var h=n(101);t.ViewContainerRef=h.ViewContainerRef;var f=n(95);t.ComponentRef=f.ComponentRef},function(e,t,n){"use strict";function _isDirectiveMetadata(e){return e instanceof u.DirectiveMetadata}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(10),a=n(8),s=n(18),c=n(16),u=n(30),l=n(21),p=n(23),h=function(){function DirectiveResolver(e){a.isPresent(e)?this._reflector=e:this._reflector=l.reflector}return DirectiveResolver.prototype.resolve=function(e){var t=this._reflector.annotations(o.resolveForwardRef(e));if(a.isPresent(t)){var n=t.find(_isDirectiveMetadata);if(a.isPresent(n)){var r=this._reflector.propMetadata(e);return this._mergeWithPropertyMetadata(n,r,e)}}throw new s.BaseException("No Directive annotation found on "+a.stringify(e))},DirectiveResolver.prototype._mergeWithPropertyMetadata=function(e,t,n){var r=[],i=[],o={},s={};return c.StringMapWrapper.forEach(t,function(e,t){e.forEach(function(e){if(e instanceof u.InputMetadata&&(a.isPresent(e.bindingPropertyName)?r.push(t+": "+e.bindingPropertyName):r.push(t)),e instanceof u.OutputMetadata&&(a.isPresent(e.bindingPropertyName)?i.push(t+": "+e.bindingPropertyName):i.push(t)),e instanceof u.HostBindingMetadata&&(a.isPresent(e.hostPropertyName)?o["["+e.hostPropertyName+"]"]=t:o["["+t+"]"]=t),e instanceof u.HostListenerMetadata){var n=a.isPresent(e.args)?e.args.join(", "):"";o["("+e.eventName+")"]=t+"("+n+")"}e instanceof u.ContentChildrenMetadata&&(s[t]=e),e instanceof u.ViewChildrenMetadata&&(s[t]=e),e instanceof u.ContentChildMetadata&&(s[t]=e),e instanceof u.ViewChildMetadata&&(s[t]=e)})}),this._merge(e,r,i,o,s,n)},DirectiveResolver.prototype._merge=function(e,t,n,r,i,o){var l,p=a.isPresent(e.inputs)?c.ListWrapper.concat(e.inputs,t):t;a.isPresent(e.outputs)?(e.outputs.forEach(function(e){if(c.ListWrapper.contains(n,e))throw new s.BaseException("Output event '"+e+"' defined multiple times in '"+a.stringify(o)+"'")}),l=c.ListWrapper.concat(e.outputs,n)):l=n;var h=a.isPresent(e.host)?c.StringMapWrapper.merge(e.host,r):r,f=a.isPresent(e.queries)?c.StringMapWrapper.merge(e.queries,i):i;return e instanceof u.ComponentMetadata?new u.ComponentMetadata({selector:e.selector,inputs:p,outputs:l,host:h,exportAs:e.exportAs,moduleId:e.moduleId,queries:f,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders}):new u.DirectiveMetadata({selector:e.selector,inputs:p,outputs:l,host:h,exportAs:e.exportAs,queries:f,providers:e.providers})},DirectiveResolver=r([o.Injectable(),i("design:paramtypes",[p.ReflectorReader])],DirectiveResolver)}();t.DirectiveResolver=h,t.CODEGEN_DIRECTIVE_RESOLVER=new h(l.reflector)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);
return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(10),a=n(86),s=n(32),c=n(8),u=n(18),l=n(16),p=n(23),h=n(21),f=function(){function ViewResolver(e){this._cache=new l.Map,c.isPresent(e)?this._reflector=e:this._reflector=h.reflector}return ViewResolver.prototype.resolve=function(e){var t=this._cache.get(e);return c.isBlank(t)&&(t=this._resolve(e),this._cache.set(e,t)),t},ViewResolver.prototype._resolve=function(e){var t,n;if(this._reflector.annotations(e).forEach(function(e){e instanceof a.ViewMetadata&&(n=e),e instanceof s.ComponentMetadata&&(t=e)}),!c.isPresent(t)){if(c.isBlank(n))throw new u.BaseException("Could not compile '"+c.stringify(e)+"' because it is not a component.");return n}if(c.isBlank(t.template)&&c.isBlank(t.templateUrl)&&c.isBlank(n))throw new u.BaseException("Component '"+c.stringify(e)+"' must have either 'template' or 'templateUrl' set.");if(c.isPresent(t.template)&&c.isPresent(n))this._throwMixingViewAndComponent("template",e);else if(c.isPresent(t.templateUrl)&&c.isPresent(n))this._throwMixingViewAndComponent("templateUrl",e);else if(c.isPresent(t.directives)&&c.isPresent(n))this._throwMixingViewAndComponent("directives",e);else if(c.isPresent(t.pipes)&&c.isPresent(n))this._throwMixingViewAndComponent("pipes",e);else if(c.isPresent(t.encapsulation)&&c.isPresent(n))this._throwMixingViewAndComponent("encapsulation",e);else if(c.isPresent(t.styles)&&c.isPresent(n))this._throwMixingViewAndComponent("styles",e);else{if(!c.isPresent(t.styleUrls)||!c.isPresent(n))return c.isPresent(n)?n:new a.ViewMetadata({templateUrl:t.templateUrl,template:t.template,directives:t.directives,pipes:t.pipes,encapsulation:t.encapsulation,styles:t.styles,styleUrls:t.styleUrls});this._throwMixingViewAndComponent("styleUrls",e)}return null},ViewResolver.prototype._throwMixingViewAndComponent=function(e,t){throw new u.BaseException("Component '"+c.stringify(t)+"' cannot have both '"+e+"' and '@View' set at the same time\"")},ViewResolver=r([o.Injectable(),i("design:paramtypes",[p.ReflectorReader])],ViewResolver)}();t.ViewResolver=f},function(e,t,n){"use strict";function asNativeElements(e){return e.map(function(e){return e.nativeElement})}function _queryElementChildren(e,t,n){e.childNodes.forEach(function(e){e instanceof c&&(t(e)&&n.push(e),_queryElementChildren(e,t,n))})}function _queryNodeChildren(e,t,n){e instanceof c&&e.childNodes.forEach(function(e){t(e)&&n.push(e),e instanceof c&&_queryNodeChildren(e,t,n)})}function getDebugNode(e){return u.get(e)}function getAllDebugNodes(){return o.MapWrapper.values(u)}function indexDebugNode(e){u.set(e.nativeNode,e)}function removeDebugNodeFromIndex(e){u["delete"](e.nativeNode)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(16),a=function(){function EventListener(e,t){this.name=e,this.callback=t}return EventListener}();t.EventListener=a;var s=function(){function DebugNode(e,t){this.nativeNode=e,i.isPresent(t)&&t instanceof c?t.addChild(this):this.parent=null,this.listeners=[],this.providerTokens=[]}return DebugNode.prototype.setDebugInfo=function(e){this.injector=e.injector,this.providerTokens=e.providerTokens,this.locals=e.locals,this.componentInstance=e.component},DebugNode.prototype.inject=function(e){return this.injector.get(e)},DebugNode.prototype.getLocal=function(e){return this.locals.get(e)},DebugNode}();t.DebugNode=s;var c=function(e){function DebugElement(t,n){e.call(this,t,n),this.properties=new Map,this.attributes=new Map,this.childNodes=[],this.nativeElement=t}return r(DebugElement,e),DebugElement.prototype.addChild=function(e){i.isPresent(e)&&(this.childNodes.push(e),e.parent=this)},DebugElement.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},DebugElement.prototype.insertChildrenAfter=function(e,t){var n=this.childNodes.indexOf(e);if(-1!==n){var r=this.childNodes.slice(0,n+1),a=this.childNodes.slice(n+1);this.childNodes=o.ListWrapper.concat(o.ListWrapper.concat(r,t),a);for(var s=0;s<t.length;++s){var c=t[s];i.isPresent(c.parent)&&c.parent.removeChild(c),c.parent=this}}},DebugElement.prototype.query=function(e){var t=this.queryAll(e);return t.length>0?t[0]:null},DebugElement.prototype.queryAll=function(e){var t=[];return _queryElementChildren(this,e,t),t},DebugElement.prototype.queryAllNodes=function(e){var t=[];return _queryNodeChildren(this,e,t),t},Object.defineProperty(DebugElement.prototype,"children",{get:function(){var e=[];return this.childNodes.forEach(function(t){t instanceof DebugElement&&e.push(t)}),e},enumerable:!0,configurable:!0}),DebugElement.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},DebugElement}(s);t.DebugElement=c,t.asNativeElements=asNativeElements;var u=new Map;t.getDebugNode=getDebugNode,t.getAllDebugNodes=getAllDebugNodes,t.indexDebugNode=indexDebugNode,t.removeDebugNodeFromIndex=removeDebugNodeFromIndex},function(e,t,n){"use strict";var r=n(10),i=n(8);t.PLATFORM_DIRECTIVES=i.CONST_EXPR(new r.OpaqueToken("Platform Directives")),t.PLATFORM_PIPES=i.CONST_EXPR(new r.OpaqueToken("Platform Pipes"))},function(e,t,n){"use strict";function _reflector(){return a.reflector}var r=n(8),i=n(10),o=n(111),a=n(21),s=n(23),c=n(94);t.PLATFORM_COMMON_PROVIDERS=r.CONST_EXPR([new i.Provider(a.Reflector,{useFactory:_reflector,deps:[]}),new i.Provider(s.ReflectorReader,{useExisting:a.Reflector}),c.TestabilityRegistry,o.Console])},function(e,t,n){"use strict";var r=n(8),i=n(10),o=n(93),a=n(34),s=n(121),c=n(110),u=n(110),l=n(116),p=n(115),h=n(122),f=n(96),d=n(96),y=n(95),m=n(95);t.APPLICATION_COMMON_PROVIDERS=r.CONST_EXPR([new i.Provider(f.Compiler,{useClass:d.Compiler_}),o.APP_ID_RANDOM_PROVIDER,s.ResolvedMetadataCache,new i.Provider(c.AppViewManager,{useClass:u.AppViewManager_}),l.ViewResolver,new i.Provider(a.IterableDiffers,{useValue:a.defaultIterableDiffers}),new i.Provider(a.KeyValueDiffers,{useValue:a.defaultKeyValueDiffers}),p.DirectiveResolver,h.PipeResolver,new i.Provider(y.DynamicComponentLoader,{useClass:m.DynamicComponentLoader_})])},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(10),a=n(8),s=n(98),c=n(115),u=n(105),l=n(122),p=function(){function ResolvedMetadataCache(e,t){this._directiveResolver=e,this._pipeResolver=t,this._directiveCache=new Map,this._pipeCache=new Map}return ResolvedMetadataCache.prototype.getResolvedDirectiveMetadata=function(e){var t=this._directiveCache.get(e);return a.isBlank(t)&&(t=s.DirectiveProvider.createFromType(e,this._directiveResolver.resolve(e)),this._directiveCache.set(e,t)),t},ResolvedMetadataCache.prototype.getResolvedPipeMetadata=function(e){var t=this._pipeCache.get(e);return a.isBlank(t)&&(t=u.PipeProvider.createFromType(e,this._pipeResolver.resolve(e)),this._pipeCache.set(e,t)),t},ResolvedMetadataCache=r([o.Injectable(),i("design:paramtypes",[c.DirectiveResolver,l.PipeResolver])],ResolvedMetadataCache)}();t.ResolvedMetadataCache=p,t.CODEGEN_RESOLVED_METADATA_CACHE=new p(c.CODEGEN_DIRECTIVE_RESOLVER,l.CODEGEN_PIPE_RESOLVER)},function(e,t,n){"use strict";function _isPipeMetadata(e){return e instanceof c.PipeMetadata}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(10),a=n(8),s=n(18),c=n(30),u=n(23),l=n(21),p=function(){function PipeResolver(e){a.isPresent(e)?this._reflector=e:this._reflector=l.reflector}return PipeResolver.prototype.resolve=function(e){var t=this._reflector.annotations(o.resolveForwardRef(e));if(a.isPresent(t)){var n=t.find(_isPipeMetadata);if(a.isPresent(n))return n}throw new s.BaseException("No Pipe decorator found on "+a.stringify(e))},PipeResolver=r([o.Injectable(),i("design:paramtypes",[u.ReflectorReader])],PipeResolver)}();t.PipeResolver=p,t.CODEGEN_PIPE_RESOLVER=new p(l.reflector)},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(124)),__export(n(138)),__export(n(147)),__export(n(171))},function(e,t,n){"use strict";var r=n(125);t.AsyncPipe=r.AsyncPipe;var i=n(127);t.DatePipe=i.DatePipe;var o=n(129);t.JsonPipe=o.JsonPipe;var a=n(130);t.SlicePipe=a.SlicePipe;var s=n(131);t.LowerCasePipe=s.LowerCasePipe;var c=n(132);t.NumberPipe=c.NumberPipe,t.DecimalPipe=c.DecimalPipe,t.PercentPipe=c.PercentPipe,t.CurrencyPipe=c.CurrencyPipe;var u=n(133);t.UpperCasePipe=u.UpperCasePipe;var l=n(134);t.ReplacePipe=l.ReplacePipe;var p=n(135);t.I18nPluralPipe=p.I18nPluralPipe;var h=n(136);t.I18nSelectPipe=h.I18nSelectPipe;var f=n(137);t.COMMON_PIPES=f.COMMON_PIPES},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(56),s=n(29),c=n(126),u=function(){function ObservableStrategy(){}return ObservableStrategy.prototype.createSubscription=function(e,t){return a.ObservableWrapper.subscribe(e,t,function(e){throw e})},ObservableStrategy.prototype.dispose=function(e){a.ObservableWrapper.dispose(e)},ObservableStrategy.prototype.onDestroy=function(e){a.ObservableWrapper.dispose(e)},ObservableStrategy}(),l=function(){function PromiseStrategy(){}return PromiseStrategy.prototype.createSubscription=function(e,t){return e.then(t)},PromiseStrategy.prototype.dispose=function(e){},PromiseStrategy.prototype.onDestroy=function(e){},PromiseStrategy}(),p=new l,h=new u,f=function(){function AsyncPipe(e){this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}return AsyncPipe.prototype.ngOnDestroy=function(){o.isPresent(this._subscription)&&this._dispose()},AsyncPipe.prototype.transform=function(e,t){return o.isBlank(this._obj)?(o.isPresent(e)&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue):e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,s.WrappedValue.wrap(this._latestValue))},AsyncPipe.prototype._subscribe=function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})},AsyncPipe.prototype._selectStrategy=function(e){if(o.isPromise(e))return p;if(a.ObservableWrapper.isObservable(e))return h;throw new c.InvalidPipeArgumentException(AsyncPipe,e)},AsyncPipe.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},AsyncPipe.prototype._updateLatestValue=function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())},AsyncPipe=r([s.Pipe({name:"async",pure:!1}),s.Injectable(),i("design:paramtypes",[s.ChangeDetectorRef])],AsyncPipe)}();t.AsyncPipe=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(18),a=function(e){function InvalidPipeArgumentException(t,n){e.call(this,"Invalid argument '"+n+"' for pipe '"+i.stringify(t)+"'")}return r(InvalidPipeArgumentException,e),InvalidPipeArgumentException}(o.BaseException);t.InvalidPipeArgumentException=a},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(128),s=n(29),c=n(16),u=n(126),l="en-US",p=function(){function DatePipe(){}return DatePipe.prototype.transform=function(e,t){if(o.isBlank(e))return null;if(!this.supports(e))throw new u.InvalidPipeArgumentException(DatePipe,e);var n=o.isPresent(t)&&t.length>0?t[0]:"mediumDate";return o.isNumber(e)&&(e=o.DateWrapper.fromMillis(e)),c.StringMapWrapper.contains(DatePipe._ALIASES,n)&&(n=c.StringMapWrapper.get(DatePipe._ALIASES,n)),a.DateFormatter.format(e,l,n)},DatePipe.prototype.supports=function(e){return o.isDate(e)||o.isNumber(e)},DatePipe._ALIASES={medium:"yMMMdjms","short":"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},DatePipe=r([o.CONST(),s.Pipe({name:"date",pure:!0}),s.Injectable(),i("design:paramtypes",[])],DatePipe)}();t.DatePipe=p},function(e,t){"use strict";function digitCondition(e){return 2==e?"2-digit":"numeric"}function nameCondition(e){return 4>e?"short":"long"}function extractComponents(e){for(var t,n={},r=0;r<e.length;){for(t=r;t<e.length&&e[t]==e[r];)t++;var i=t-r;switch(e[r]){case"G":n.era=nameCondition(i);break;case"y":n.year=digitCondition(i);break;case"M":i>=3?n.month=nameCondition(i):n.month=digitCondition(i);break;case"d":n.day=digitCondition(i);break;case"E":n.weekday=nameCondition(i);break;case"j":n.hour=digitCondition(i);break;case"h":n.hour=digitCondition(i),n.hour12=!0;break;case"H":n.hour=digitCondition(i),n.hour12=!1;break;case"m":n.minute=digitCondition(i);break;case"s":n.second=digitCondition(i);break;case"z":n.timeZoneName="long";break;case"Z":n.timeZoneName="short"}r=t}return n}!function(e){e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency"}(t.NumberFormatStyle||(t.NumberFormatStyle={}));var n=t.NumberFormatStyle,r=function(){function NumberFormatter(){}return NumberFormatter.format=function(e,t,r,i){var o=void 0===i?{}:i,a=o.minimumIntegerDigits,s=void 0===a?1:a,c=o.minimumFractionDigits,u=void 0===c?0:c,l=o.maximumFractionDigits,p=void 0===l?3:l,h=o.currency,f=o.currencyAsSymbol,d=void 0===f?!1:f,y={minimumIntegerDigits:s,minimumFractionDigits:u,maximumFractionDigits:p};return y.style=n[r].toLowerCase(),r==n.Currency&&(y.currency=h,y.currencyDisplay=d?"symbol":"code"),new Intl.NumberFormat(t,y).format(e)},NumberFormatter}();t.NumberFormatter=r;var i=new Map,o=function(){function DateFormatter(){}return DateFormatter.format=function(e,t,n){var r=t+n;if(i.has(r))return i.get(r).format(e);var o=new Intl.DateTimeFormat(t,extractComponents(n));return i.set(r,o),o.format(e)},DateFormatter}();t.DateFormatter=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(29),s=function(){function JsonPipe(){}return JsonPipe.prototype.transform=function(e,t){return void 0===t&&(t=null),o.Json.stringify(e)},JsonPipe=r([o.CONST(),a.Pipe({name:"json",pure:!1}),a.Injectable(),i("design:paramtypes",[])],JsonPipe)}();t.JsonPipe=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(18),s=n(16),c=n(29),u=n(126),l=function(){function SlicePipe(){}return SlicePipe.prototype.transform=function(e,t){if(void 0===t&&(t=null),o.isBlank(t)||0==t.length)throw new a.BaseException("Slice pipe requires one argument");if(!this.supports(e))throw new u.InvalidPipeArgumentException(SlicePipe,e);if(o.isBlank(e))return e;var n=t[0],r=t.length>1?t[1]:null;return o.isString(e)?o.StringWrapper.slice(e,n,r):s.ListWrapper.slice(e,n,r)},SlicePipe.prototype.supports=function(e){return o.isString(e)||o.isArray(e)},SlicePipe=r([c.Pipe({name:"slice",pure:!1}),c.Injectable(),i("design:paramtypes",[])],SlicePipe)}();t.SlicePipe=l},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(29),s=n(126),c=function(){function LowerCasePipe(){}return LowerCasePipe.prototype.transform=function(e,t){if(void 0===t&&(t=null),o.isBlank(e))return e;if(!o.isString(e))throw new s.InvalidPipeArgumentException(LowerCasePipe,e);return e.toLowerCase()},LowerCasePipe=r([o.CONST(),a.Pipe({name:"lowercase"}),a.Injectable(),i("design:paramtypes",[])],LowerCasePipe)}();t.LowerCasePipe=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=n(18),c=n(128),u=n(29),l=n(16),p=n(126),h="en-US",f=a.RegExpWrapper.create("^(\\d+)?\\.((\\d+)(\\-(\\d+))?)?$"),d=function(){function NumberPipe(){}return NumberPipe._format=function(e,t,n,r,i){if(void 0===r&&(r=null),void 0===i&&(i=!1),a.isBlank(e))return null;if(!a.isNumber(e))throw new p.InvalidPipeArgumentException(NumberPipe,e);var o=1,u=0,l=3;if(a.isPresent(n)){var d=a.RegExpWrapper.firstMatch(f,n);if(a.isBlank(d))throw new s.BaseException(n+" is not a valid digit info for number pipes");a.isPresent(d[1])&&(o=a.NumberWrapper.parseIntAutoRadix(d[1])),a.isPresent(d[3])&&(u=a.NumberWrapper.parseIntAutoRadix(d[3])),a.isPresent(d[5])&&(l=a.NumberWrapper.parseIntAutoRadix(d[5]))}return c.NumberFormatter.format(e,h,t,{minimumIntegerDigits:o,minimumFractionDigits:u,maximumFractionDigits:l,currency:r,currencyAsSymbol:i})},NumberPipe=i([a.CONST(),u.Injectable(),o("design:paramtypes",[])],NumberPipe)}();t.NumberPipe=d;var y=function(e){function DecimalPipe(){e.apply(this,arguments)}return r(DecimalPipe,e),DecimalPipe.prototype.transform=function(e,t){var n=l.ListWrapper.first(t);return d._format(e,c.NumberFormatStyle.Decimal,n)},DecimalPipe=i([a.CONST(),u.Pipe({name:"number"}),u.Injectable(),o("design:paramtypes",[])],DecimalPipe)}(d);t.DecimalPipe=y;var m=function(e){function PercentPipe(){e.apply(this,arguments)}return r(PercentPipe,e),PercentPipe.prototype.transform=function(e,t){var n=l.ListWrapper.first(t);return d._format(e,c.NumberFormatStyle.Percent,n)},PercentPipe=i([a.CONST(),u.Pipe({name:"percent"}),u.Injectable(),o("design:paramtypes",[])],PercentPipe)}(d);t.PercentPipe=m;var g=function(e){function CurrencyPipe(){e.apply(this,arguments)}return r(CurrencyPipe,e),CurrencyPipe.prototype.transform=function(e,t){var n=a.isPresent(t)&&t.length>0?t[0]:"USD",r=a.isPresent(t)&&t.length>1?t[1]:!1,i=a.isPresent(t)&&t.length>2?t[2]:null;return d._format(e,c.NumberFormatStyle.Currency,i,n,r)},CurrencyPipe=i([a.CONST(),u.Pipe({name:"currency"}),u.Injectable(),o("design:paramtypes",[])],CurrencyPipe)}(d);t.CurrencyPipe=g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(29),s=n(126),c=function(){function UpperCasePipe(){}return UpperCasePipe.prototype.transform=function(e,t){if(void 0===t&&(t=null),o.isBlank(e))return e;if(!o.isString(e))throw new s.InvalidPipeArgumentException(UpperCasePipe,e);return e.toUpperCase()},UpperCasePipe=r([o.CONST(),a.Pipe({name:"uppercase"}),a.Injectable(),i("design:paramtypes",[])],UpperCasePipe)}();t.UpperCasePipe=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(18),s=n(29),c=n(126),u=function(){function ReplacePipe(){}return ReplacePipe.prototype.transform=function(e,t){if(o.isBlank(t)||2!==t.length)throw new a.BaseException("ReplacePipe requires two arguments");if(o.isBlank(e))return e;if(!this._supportedInput(e))throw new c.InvalidPipeArgumentException(ReplacePipe,e);var n=e.toString(),r=t[0],i=t[1];if(!this._supportedPattern(r))throw new c.InvalidPipeArgumentException(ReplacePipe,r);if(!this._supportedReplacement(i))throw new c.InvalidPipeArgumentException(ReplacePipe,i);if(o.isFunction(i)){var s=o.isString(r)?o.RegExpWrapper.create(r):r;return o.StringWrapper.replaceAllMapped(n,s,i)}return r instanceof RegExp?o.StringWrapper.replaceAll(n,r,i):o.StringWrapper.replace(n,r,i)},ReplacePipe.prototype._supportedInput=function(e){return o.isString(e)||o.isNumber(e)},ReplacePipe.prototype._supportedPattern=function(e){return o.isString(e)||e instanceof RegExp},ReplacePipe.prototype._supportedReplacement=function(e){return o.isString(e)||o.isFunction(e)},ReplacePipe=r([s.Pipe({name:"replace"}),s.Injectable(),i("design:paramtypes",[])],ReplacePipe)}();t.ReplacePipe=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(29),s=n(126),c=o.RegExpWrapper.create("#"),u=function(){function I18nPluralPipe(){}return I18nPluralPipe.prototype.transform=function(e,t){void 0===t&&(t=null);var n,r,i=t[0];if(!o.isStringMap(i))throw new s.InvalidPipeArgumentException(I18nPluralPipe,i);return n=0===e||1===e?"="+e:"other",r=o.isPresent(e)?e.toString():"",o.StringWrapper.replaceAll(i[n],c,r)},I18nPluralPipe=r([o.CONST(),a.Pipe({name:"i18nPlural",pure:!0}),a.Injectable(),i("design:paramtypes",[])],I18nPluralPipe)}();t.I18nPluralPipe=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(16),s=n(29),c=n(126),u=function(){function I18nSelectPipe(){}return I18nSelectPipe.prototype.transform=function(e,t){void 0===t&&(t=null);var n=t[0];if(!o.isStringMap(n))throw new c.InvalidPipeArgumentException(I18nSelectPipe,n);return a.StringMapWrapper.contains(n,e)?n[e]:n.other},I18nSelectPipe=r([o.CONST(),s.Pipe({name:"i18nSelect",pure:!0}),s.Injectable(),i("design:paramtypes",[])],I18nSelectPipe)}();t.I18nSelectPipe=u},function(e,t,n){"use strict";var r=n(125),i=n(133),o=n(131),a=n(129),s=n(130),c=n(127),u=n(132),l=n(134),p=n(135),h=n(136),f=n(8);t.COMMON_PIPES=f.CONST_EXPR([r.AsyncPipe,i.UpperCasePipe,o.LowerCasePipe,a.JsonPipe,s.SlicePipe,u.DecimalPipe,u.PercentPipe,u.CurrencyPipe,c.DatePipe,l.ReplacePipe,p.I18nPluralPipe,h.I18nSelectPipe])},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(139);t.NgClass=r.NgClass;var i=n(140);t.NgFor=i.NgFor;var o=n(141);t.NgIf=o.NgIf;var a=n(142);t.NgStyle=a.NgStyle;var s=n(143);t.NgSwitch=s.NgSwitch,t.NgSwitchWhen=s.NgSwitchWhen,t.NgSwitchDefault=s.NgSwitchDefault;var c=n(144);t.NgPlural=c.NgPlural,t.NgPluralCase=c.NgPluralCase,t.NgLocalization=c.NgLocalization,__export(n(145));var u=n(146);t.CORE_DIRECTIVES=u.CORE_DIRECTIVES},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(29),s=n(16),c=function(){function NgClass(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(NgClass.prototype,"initialClasses",{set:function(e){this._applyInitialClasses(!0),this._initialClasses=o.isPresent(e)&&o.isString(e)?e.split(" "):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(NgClass.prototype,"rawClass",{set:function(e){this._cleanupClasses(this._rawClass),o.isString(e)&&(e=e.split(" ")),this._rawClass=e,this._iterableDiffer=null,this._keyValueDiffer=null,o.isPresent(e)&&(s.isListLikeIterable(e)?this._iterableDiffer=this._iterableDiffers.find(e).create(null):this._keyValueDiffer=this._keyValueDiffers.find(e).create(null))},enumerable:!0,configurable:!0}),NgClass.prototype.ngDoCheck=function(){if(o.isPresent(this._iterableDiffer)){var e=this._iterableDiffer.diff(this._rawClass);o.isPresent(e)&&this._applyIterableChanges(e)}if(o.isPresent(this._keyValueDiffer)){var e=this._keyValueDiffer.diff(this._rawClass);o.isPresent(e)&&this._applyKeyValueChanges(e)}},NgClass.prototype.ngOnDestroy=function(){this._cleanupClasses(this._rawClass)},NgClass.prototype._cleanupClasses=function(e){this._applyClasses(e,!0),this._applyInitialClasses(!1)},NgClass.prototype._applyKeyValueChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})},NgClass.prototype._applyIterableChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){t._toggleClass(e.item,!1)})},NgClass.prototype._applyInitialClasses=function(e){var t=this;this._initialClasses.forEach(function(n){return t._toggleClass(n,!e)})},NgClass.prototype._applyClasses=function(e,t){var n=this;o.isPresent(e)&&(o.isArray(e)?e.forEach(function(e){return n._toggleClass(e,!t)}):e instanceof Set?e.forEach(function(e){return n._toggleClass(e,!t)}):s.StringMapWrapper.forEach(e,function(e,r){o.isPresent(e)&&n._toggleClass(r,!t)}))},NgClass.prototype._toggleClass=function(e,t){if(e=e.trim(),e.length>0)if(e.indexOf(" ")>-1)for(var n=e.split(/\s+/g),r=0,i=n.length;i>r;r++)this._renderer.setElementClass(this._ngEl.nativeElement,n[r],t);else this._renderer.setElementClass(this._ngEl.nativeElement,e,t)},NgClass=r([a.Directive({selector:"[ngClass]",inputs:["rawClass: ngClass","initialClasses: class"]}),i("design:paramtypes",[a.IterableDiffers,a.KeyValueDiffers,a.ElementRef,a.Renderer])],NgClass)}();t.NgClass=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(8),s=n(18),c=function(){function NgFor(e,t,n,r){this._viewContainer=e,this._templateRef=t,this._iterableDiffers=n,this._cdr=r}return Object.defineProperty(NgFor.prototype,"ngForOf",{set:function(e){if(this._ngForOf=e,a.isBlank(this._differ)&&a.isPresent(e))try{this._differ=this._iterableDiffers.find(e).create(this._cdr,this._ngForTrackBy)}catch(t){throw new s.BaseException("Cannot find a differ supporting object '"+e+"' of type '"+a.getTypeNameForDebugging(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTemplate",{set:function(e){a.isPresent(e)&&(this._templateRef=e)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFor.prototype,"ngForTrackBy",{set:function(e){this._ngForTrackBy=e},enumerable:!0,configurable:!0}),NgFor.prototype.ngDoCheck=function(){if(a.isPresent(this._differ)){var e=this._differ.diff(this._ngForOf);a.isPresent(e)&&this._applyChanges(e)}},NgFor.prototype._applyChanges=function(e){var t=this,n=[];e.forEachRemovedItem(function(e){return n.push(new u(e,null))}),e.forEachMovedItem(function(e){return n.push(new u(e,null))});var r=this._bulkRemove(n);e.forEachAddedItem(function(e){return r.push(new u(e,null))}),this._bulkInsert(r);for(var i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(var i=0,o=this._viewContainer.length;o>i;i++){
var a=this._viewContainer.get(i);a.setLocal("first",0===i),a.setLocal("last",i===o-1)}e.forEachIdentityChange(function(e){var n=t._viewContainer.get(e.currentIndex);n.setLocal("$implicit",e.item)})},NgFor.prototype._perViewChange=function(e,t){e.setLocal("$implicit",t.item),e.setLocal("index",t.currentIndex),e.setLocal("even",t.currentIndex%2==0),e.setLocal("odd",t.currentIndex%2==1)},NgFor.prototype._bulkRemove=function(e){e.sort(function(e,t){return e.record.previousIndex-t.record.previousIndex});for(var t=[],n=e.length-1;n>=0;n--){var r=e[n];a.isPresent(r.record.currentIndex)?(r.view=this._viewContainer.detach(r.record.previousIndex),t.push(r)):this._viewContainer.remove(r.record.previousIndex)}return t},NgFor.prototype._bulkInsert=function(e){e.sort(function(e,t){return e.record.currentIndex-t.record.currentIndex});for(var t=0;t<e.length;t++){var n=e[t];a.isPresent(n.view)?this._viewContainer.insert(n.view,n.record.currentIndex):n.view=this._viewContainer.createEmbeddedView(this._templateRef,n.record.currentIndex)}return e},NgFor=r([o.Directive({selector:"[ngFor][ngForOf]",inputs:["ngForTrackBy","ngForOf","ngForTemplate"]}),i("design:paramtypes",[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers,o.ChangeDetectorRef])],NgFor)}();t.NgFor=c;var u=function(){function RecordViewTuple(e,t){this.record=e,this.view=t}return RecordViewTuple}()},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(8),s=function(){function NgIf(e,t){this._viewContainer=e,this._templateRef=t,this._prevCondition=null}return Object.defineProperty(NgIf.prototype,"ngIf",{set:function(e){!e||!a.isBlank(this._prevCondition)&&this._prevCondition?e||!a.isBlank(this._prevCondition)&&!this._prevCondition||(this._prevCondition=!1,this._viewContainer.clear()):(this._prevCondition=!0,this._viewContainer.createEmbeddedView(this._templateRef))},enumerable:!0,configurable:!0}),NgIf=r([o.Directive({selector:"[ngIf]",inputs:["ngIf"]}),i("design:paramtypes",[o.ViewContainerRef,o.TemplateRef])],NgIf)}();t.NgIf=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(8),s=function(){function NgStyle(e,t,n){this._differs=e,this._ngEl=t,this._renderer=n}return Object.defineProperty(NgStyle.prototype,"rawStyle",{set:function(e){this._rawStyle=e,a.isBlank(this._differ)&&a.isPresent(e)&&(this._differ=this._differs.find(this._rawStyle).create(null))},enumerable:!0,configurable:!0}),NgStyle.prototype.ngDoCheck=function(){if(a.isPresent(this._differ)){var e=this._differ.diff(this._rawStyle);a.isPresent(e)&&this._applyChanges(e)}},NgStyle.prototype._applyChanges=function(e){var t=this;e.forEachAddedItem(function(e){t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){t._setStyle(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){t._setStyle(e.key,null)})},NgStyle.prototype._setStyle=function(e,t){this._renderer.setElementStyle(this._ngEl.nativeElement,e,t)},NgStyle=r([o.Directive({selector:"[ngStyle]",inputs:["rawStyle: ngStyle"]}),i("design:paramtypes",[o.KeyValueDiffers,o.ElementRef,o.Renderer])],NgStyle)}();t.NgStyle=s},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(29),s=n(8),c=n(16),u=s.CONST_EXPR(new Object),l=function(){function SwitchView(e,t){this._viewContainerRef=e,this._templateRef=t}return SwitchView.prototype.create=function(){this._viewContainerRef.createEmbeddedView(this._templateRef)},SwitchView.prototype.destroy=function(){this._viewContainerRef.clear()},SwitchView}();t.SwitchView=l;var p=function(){function NgSwitch(){this._useDefault=!1,this._valueViews=new c.Map,this._activeViews=[]}return Object.defineProperty(NgSwitch.prototype,"ngSwitch",{set:function(e){this._emptyAllActiveViews(),this._useDefault=!1;var t=this._valueViews.get(e);s.isBlank(t)&&(this._useDefault=!0,t=s.normalizeBlank(this._valueViews.get(u))),this._activateViews(t),this._switchValue=e},enumerable:!0,configurable:!0}),NgSwitch.prototype._onWhenValueChanged=function(e,t,n){this._deregisterView(e,n),this._registerView(t,n),e===this._switchValue?(n.destroy(),c.ListWrapper.remove(this._activeViews,n)):t===this._switchValue&&(this._useDefault&&(this._useDefault=!1,this._emptyAllActiveViews()),n.create(),this._activeViews.push(n)),0!==this._activeViews.length||this._useDefault||(this._useDefault=!0,this._activateViews(this._valueViews.get(u)))},NgSwitch.prototype._emptyAllActiveViews=function(){for(var e=this._activeViews,t=0;t<e.length;t++)e[t].destroy();this._activeViews=[]},NgSwitch.prototype._activateViews=function(e){if(s.isPresent(e)){for(var t=0;t<e.length;t++)e[t].create();this._activeViews=e}},NgSwitch.prototype._registerView=function(e,t){var n=this._valueViews.get(e);s.isBlank(n)&&(n=[],this._valueViews.set(e,n)),n.push(t)},NgSwitch.prototype._deregisterView=function(e,t){if(e!==u){var n=this._valueViews.get(e);1==n.length?this._valueViews["delete"](e):c.ListWrapper.remove(n,t)}},NgSwitch=r([a.Directive({selector:"[ngSwitch]",inputs:["ngSwitch"]}),i("design:paramtypes",[])],NgSwitch)}();t.NgSwitch=p;var h=function(){function NgSwitchWhen(e,t,n){this._value=u,this._switch=n,this._view=new l(e,t)}return Object.defineProperty(NgSwitchWhen.prototype,"ngSwitchWhen",{set:function(e){this._switch._onWhenValueChanged(this._value,e,this._view),this._value=e},enumerable:!0,configurable:!0}),NgSwitchWhen=r([a.Directive({selector:"[ngSwitchWhen]",inputs:["ngSwitchWhen"]}),o(2,a.Host()),i("design:paramtypes",[a.ViewContainerRef,a.TemplateRef,p])],NgSwitchWhen)}();t.NgSwitchWhen=h;var f=function(){function NgSwitchDefault(e,t,n){n._registerView(u,new l(e,t))}return NgSwitchDefault=r([a.Directive({selector:"[ngSwitchDefault]"}),o(2,a.Host()),i("design:paramtypes",[a.ViewContainerRef,a.TemplateRef,p])],NgSwitchDefault)}();t.NgSwitchDefault=f},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(29),s=n(8),c=n(16),u=n(143),l="other",p=function(){function NgLocalization(){}return NgLocalization}();t.NgLocalization=p;var h=function(){function NgPluralCase(e,t,n){this.value=e,this._view=new u.SwitchView(n,t)}return NgPluralCase=r([a.Directive({selector:"[ngPluralCase]"}),o(0,a.Attribute("ngPluralCase")),i("design:paramtypes",[String,a.TemplateRef,a.ViewContainerRef])],NgPluralCase)}();t.NgPluralCase=h;var f=function(){function NgPlural(e){this._localization=e,this._caseViews=new c.Map,this.cases=null}return Object.defineProperty(NgPlural.prototype,"ngPlural",{set:function(e){this._switchValue=e,this._updateView()},enumerable:!0,configurable:!0}),NgPlural.prototype.ngAfterContentInit=function(){var e=this;this.cases.forEach(function(t){e._caseViews.set(e._formatValue(t),t._view)}),this._updateView()},NgPlural.prototype._updateView=function(){this._clearViews();var e=this._caseViews.get(this._switchValue);s.isPresent(e)||(e=this._getCategoryView(this._switchValue)),this._activateView(e)},NgPlural.prototype._clearViews=function(){s.isPresent(this._activeView)&&this._activeView.destroy()},NgPlural.prototype._activateView=function(e){s.isPresent(e)&&(this._activeView=e,this._activeView.create())},NgPlural.prototype._getCategoryView=function(e){var t=this._localization.getPluralCategory(e),n=this._caseViews.get(t);return s.isPresent(n)?n:this._caseViews.get(l)},NgPlural.prototype._isValueView=function(e){return"="===e.value[0]},NgPlural.prototype._formatValue=function(e){return this._isValueView(e)?this._stripValue(e.value):e.value},NgPlural.prototype._stripValue=function(e){return s.NumberWrapper.parseInt(e.substring(1),10)},r([a.ContentChildren(h),i("design:type",a.QueryList)],NgPlural.prototype,"cases",void 0),r([a.Input(),i("design:type",Number),i("design:paramtypes",[Number])],NgPlural.prototype,"ngPlural",null),NgPlural=r([a.Directive({selector:"[ngPlural]"}),i("design:paramtypes",[p])],NgPlural)}();t.NgPlural=f},function(e,t){"use strict"},function(e,t,n){"use strict";var r=n(8),i=n(139),o=n(140),a=n(141),s=n(142),c=n(143),u=n(144);t.CORE_DIRECTIVES=r.CONST_EXPR([i.NgClass,o.NgFor,a.NgIf,s.NgStyle,c.NgSwitch,c.NgSwitchWhen,c.NgSwitchDefault,u.NgPlural,u.NgPluralCase])},function(e,t,n){"use strict";var r=n(148);t.AbstractControl=r.AbstractControl,t.Control=r.Control,t.ControlGroup=r.ControlGroup,t.ControlArray=r.ControlArray;var i=n(149);t.AbstractControlDirective=i.AbstractControlDirective;var o=n(150);t.ControlContainer=o.ControlContainer;var a=n(151);t.NgControlName=a.NgControlName;var s=n(162);t.NgFormControl=s.NgFormControl;var c=n(163);t.NgModel=c.NgModel;var u=n(152);t.NgControl=u.NgControl;var l=n(164);t.NgControlGroup=l.NgControlGroup;var p=n(165);t.NgFormModel=p.NgFormModel;var h=n(166);t.NgForm=h.NgForm;var f=n(153);t.NG_VALUE_ACCESSOR=f.NG_VALUE_ACCESSOR;var d=n(156);t.DefaultValueAccessor=d.DefaultValueAccessor;var y=n(167);t.NgControlStatus=y.NgControlStatus;var m=n(158);t.CheckboxControlValueAccessor=m.CheckboxControlValueAccessor;var g=n(159);t.NgSelectOption=g.NgSelectOption,t.SelectControlValueAccessor=g.SelectControlValueAccessor;var v=n(168);t.FORM_DIRECTIVES=v.FORM_DIRECTIVES,t.RadioButtonState=v.RadioButtonState;var _=n(155);t.NG_VALIDATORS=_.NG_VALIDATORS,t.NG_ASYNC_VALIDATORS=_.NG_ASYNC_VALIDATORS,t.Validators=_.Validators;var b=n(169);t.RequiredValidator=b.RequiredValidator,t.MinLengthValidator=b.MinLengthValidator,t.MaxLengthValidator=b.MaxLengthValidator,t.PatternValidator=b.PatternValidator;var w=n(170);t.FormBuilder=w.FormBuilder;var C=n(170),P=n(160),R=n(8);t.FORM_PROVIDERS=R.CONST_EXPR([C.FormBuilder,P.RadioControlRegistry]),t.FORM_BINDINGS=t.FORM_PROVIDERS},function(e,t,n){"use strict";function isControl(e){return e instanceof c}function _find(e,t){return i.isBlank(t)?null:(t instanceof Array||(t=t.split("/")),t instanceof Array&&s.ListWrapper.isEmpty(t)?null:t.reduce(function(e,t){if(e instanceof l)return i.isPresent(e.controls[t])?e.controls[t]:null;if(e instanceof p){var n=t;return i.isPresent(e.at(n))?e.at(n):null}return null},e))}function toObservable(e){return a.PromiseWrapper.isPromise(e)?o.ObservableWrapper.fromPromise(e):e}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(56),a=n(57),s=n(16);t.VALID="VALID",t.INVALID="INVALID",t.PENDING="PENDING",t.isControl=isControl;var c=function(){function AbstractControl(e,t){this.validator=e,this.asyncValidator=t,this._pristine=!0,this._touched=!1}return Object.defineProperty(AbstractControl.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valid",{get:function(){return this._status===t.VALID},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"errors",{get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pristine",{get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"touched",{get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"untouched",{get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"valueChanges",{get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"statusChanges",{get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControl.prototype,"pending",{get:function(){return this._status==t.PENDING},enumerable:!0,configurable:!0}),AbstractControl.prototype.markAsTouched=function(){this._touched=!0},AbstractControl.prototype.markAsDirty=function(e){var t=(void 0===e?{}:e).onlySelf;t=i.normalizeBool(t),this._pristine=!1,i.isPresent(this._parent)&&!t&&this._parent.markAsDirty({onlySelf:t})},AbstractControl.prototype.markAsPending=function(e){var n=(void 0===e?{}:e).onlySelf;n=i.normalizeBool(n),this._status=t.PENDING,i.isPresent(this._parent)&&!n&&this._parent.markAsPending({onlySelf:n})},AbstractControl.prototype.setParent=function(e){this._parent=e},AbstractControl.prototype.updateValueAndValidity=function(e){var n=void 0===e?{}:e,r=n.onlySelf,a=n.emitEvent;r=i.normalizeBool(r),a=i.isPresent(a)?a:!0,this._updateValue(),this._errors=this._runValidator(),this._status=this._calculateStatus(),this._status!=t.VALID&&this._status!=t.PENDING||this._runAsyncValidator(a),a&&(o.ObservableWrapper.callEmit(this._valueChanges,this._value),o.ObservableWrapper.callEmit(this._statusChanges,this._status)),i.isPresent(this._parent)&&!r&&this._parent.updateValueAndValidity({onlySelf:r,emitEvent:a})},AbstractControl.prototype._runValidator=function(){return i.isPresent(this.validator)?this.validator(this):null},AbstractControl.prototype._runAsyncValidator=function(e){var n=this;if(i.isPresent(this.asyncValidator)){this._status=t.PENDING,this._cancelExistingSubscription();var r=toObservable(this.asyncValidator(this));this._asyncValidationSubscription=o.ObservableWrapper.subscribe(r,function(t){return n.setErrors(t,{emitEvent:e})})}},AbstractControl.prototype._cancelExistingSubscription=function(){i.isPresent(this._asyncValidationSubscription)&&o.ObservableWrapper.dispose(this._asyncValidationSubscription)},AbstractControl.prototype.setErrors=function(e,t){var n=(void 0===t?{}:t).emitEvent;n=i.isPresent(n)?n:!0,this._errors=e,this._status=this._calculateStatus(),n&&o.ObservableWrapper.callEmit(this._statusChanges,this._status),i.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype.find=function(e){return _find(this,e)},AbstractControl.prototype.getError=function(e,t){void 0===t&&(t=null);var n=i.isPresent(t)&&!s.ListWrapper.isEmpty(t)?this.find(t):this;return i.isPresent(n)&&i.isPresent(n._errors)?s.StringMapWrapper.get(n._errors,e):null},AbstractControl.prototype.hasError=function(e,t){return void 0===t&&(t=null),i.isPresent(this.getError(e,t))},Object.defineProperty(AbstractControl.prototype,"root",{get:function(){for(var e=this;i.isPresent(e._parent);)e=e._parent;return e},enumerable:!0,configurable:!0}),AbstractControl.prototype._updateControlsErrors=function(){this._status=this._calculateStatus(),i.isPresent(this._parent)&&this._parent._updateControlsErrors()},AbstractControl.prototype._initObservables=function(){this._valueChanges=new o.EventEmitter,this._statusChanges=new o.EventEmitter},AbstractControl.prototype._calculateStatus=function(){return i.isPresent(this._errors)?t.INVALID:this._anyControlsHaveStatus(t.PENDING)?t.PENDING:this._anyControlsHaveStatus(t.INVALID)?t.INVALID:t.VALID},AbstractControl}();t.AbstractControl=c;var u=function(e){function Control(t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,n,r),this._value=t,this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}return r(Control,e),Control.prototype.updateValue=function(e,t){var n=void 0===t?{}:t,r=n.onlySelf,o=n.emitEvent,a=n.emitModelToViewChange;a=i.isPresent(a)?a:!0,this._value=e,i.isPresent(this._onChange)&&a&&this._onChange(this._value),this.updateValueAndValidity({onlySelf:r,emitEvent:o})},Control.prototype._updateValue=function(){},Control.prototype._anyControlsHaveStatus=function(e){return!1},Control.prototype.registerOnChange=function(e){this._onChange=e},Control}(c);t.Control=u;var l=function(e){function ControlGroup(t,n,r,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),e.call(this,r,o),this.controls=t,this._optionals=i.isPresent(n)?n:{},this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return r(ControlGroup,e),ControlGroup.prototype.addControl=function(e,t){this.controls[e]=t,t.setParent(this)},ControlGroup.prototype.removeControl=function(e){s.StringMapWrapper["delete"](this.controls,e)},ControlGroup.prototype.include=function(e){s.StringMapWrapper.set(this._optionals,e,!0),this.updateValueAndValidity()},ControlGroup.prototype.exclude=function(e){s.StringMapWrapper.set(this._optionals,e,!1),this.updateValueAndValidity()},ControlGroup.prototype.contains=function(e){var t=s.StringMapWrapper.contains(this.controls,e);return t&&this._included(e)},ControlGroup.prototype._setParentForControls=function(){var e=this;s.StringMapWrapper.forEach(this.controls,function(t,n){t.setParent(e)})},ControlGroup.prototype._updateValue=function(){this._value=this._reduceValue()},ControlGroup.prototype._anyControlsHaveStatus=function(e){var t=this,n=!1;return s.StringMapWrapper.forEach(this.controls,function(r,i){n=n||t.contains(i)&&r.status==e}),n},ControlGroup.prototype._reduceValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t.value,e})},ControlGroup.prototype._reduceChildren=function(e,t){var n=this,r=e;return s.StringMapWrapper.forEach(this.controls,function(e,i){n._included(i)&&(r=t(r,e,i))}),r},ControlGroup.prototype._included=function(e){var t=s.StringMapWrapper.contains(this._optionals,e);return!t||s.StringMapWrapper.get(this._optionals,e)},ControlGroup}(c);t.ControlGroup=l;var p=function(e){function ControlArray(t,n,r){void 0===n&&(n=null),void 0===r&&(r=null),e.call(this,n,r),this.controls=t,this._initObservables(),this._setParentForControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}return r(ControlArray,e),ControlArray.prototype.at=function(e){return this.controls[e]},ControlArray.prototype.push=function(e){this.controls.push(e),e.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.insert=function(e,t){s.ListWrapper.insert(this.controls,e,t),t.setParent(this),this.updateValueAndValidity()},ControlArray.prototype.removeAt=function(e){s.ListWrapper.removeAt(this.controls,e),this.updateValueAndValidity()},Object.defineProperty(ControlArray.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),ControlArray.prototype._updateValue=function(){this._value=this.controls.map(function(e){return e.value})},ControlArray.prototype._anyControlsHaveStatus=function(e){return this.controls.some(function(t){return t.status==e})},ControlArray.prototype._setParentForControls=function(){var e=this;this.controls.forEach(function(t){t.setParent(e)})},ControlArray}(c);t.ControlArray=p},function(e,t,n){"use strict";var r=n(8),i=n(18),o=function(){function AbstractControlDirective(){}return Object.defineProperty(AbstractControlDirective.prototype,"control",{get:function(){return i.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"value",{get:function(){return r.isPresent(this.control)?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"valid",{get:function(){return r.isPresent(this.control)?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"errors",{get:function(){return r.isPresent(this.control)?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"pristine",{get:function(){return r.isPresent(this.control)?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"dirty",{get:function(){return r.isPresent(this.control)?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"touched",{get:function(){return r.isPresent(this.control)?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"untouched",{get:function(){return r.isPresent(this.control)?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(AbstractControlDirective.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),AbstractControlDirective}();t.AbstractControlDirective=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(149),o=function(e){function ControlContainer(){e.apply(this,arguments)}return r(ControlContainer,e),Object.defineProperty(ControlContainer.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(ControlContainer.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),ControlContainer}(i.AbstractControlDirective);t.ControlContainer=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(8),c=n(56),u=n(29),l=n(150),p=n(152),h=n(153),f=n(154),d=n(155),y=s.CONST_EXPR(new u.Provider(p.NgControl,{useExisting:u.forwardRef(function(){return m})})),m=function(e){function NgControlName(t,n,r,i){e.call(this),this._parent=t,this._validators=n,this._asyncValidators=r,this.update=new c.EventEmitter,this._added=!1,this.valueAccessor=f.selectValueAccessor(this,i)}return r(NgControlName,e),NgControlName.prototype.ngOnChanges=function(e){this._added||(this.formDirective.addControl(this),this._added=!0),f.isPropertyUpdated(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},NgControlName.prototype.ngOnDestroy=function(){this.formDirective.removeControl(this)},NgControlName.prototype.viewToModelUpdate=function(e){this.viewModel=e,c.ObservableWrapper.callEmit(this.update,e)},Object.defineProperty(NgControlName.prototype,"path",{get:function(){return f.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"validator",{get:function(){return f.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"asyncValidator",{get:function(){return f.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlName.prototype,"control",{get:function(){return this.formDirective.getControl(this)},enumerable:!0,configurable:!0}),NgControlName=i([u.Directive({selector:"[ngControl]",bindings:[y],inputs:["name: ngControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),a(0,u.Host()),a(0,u.SkipSelf()),a(1,u.Optional()),a(1,u.Self()),a(1,u.Inject(d.NG_VALIDATORS)),a(2,u.Optional()),a(2,u.Self()),a(2,u.Inject(d.NG_ASYNC_VALIDATORS)),a(3,u.Optional()),a(3,u.Self()),a(3,u.Inject(h.NG_VALUE_ACCESSOR)),o("design:paramtypes",[l.ControlContainer,Array,Array,Array])],NgControlName)}(p.NgControl);t.NgControlName=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(149),o=n(18),a=function(e){function NgControl(){e.apply(this,arguments),this.name=null,this.valueAccessor=null}return r(NgControl,e),Object.defineProperty(NgControl.prototype,"validator",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(NgControl.prototype,"asyncValidator",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),NgControl}(i.AbstractControlDirective);t.NgControl=a},function(e,t,n){"use strict";var r=n(29),i=n(8);t.NG_VALUE_ACCESSOR=i.CONST_EXPR(new r.OpaqueToken("NgValueAccessor"))},function(e,t,n){"use strict";function controlPath(e,t){var n=r.ListWrapper.clone(t.path);return n.push(e),n}function setUpControl(e,t){i.isBlank(e)&&_throwError(t,"Cannot find control"),i.isBlank(t.valueAccessor)&&_throwError(t,"No value accessor for"),e.validator=a.Validators.compose([e.validator,t.validator]),e.asyncValidator=a.Validators.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),t.valueAccessor.registerOnChange(function(n){t.viewToModelUpdate(n),e.updateValue(n,{emitModelToViewChange:!1}),e.markAsDirty()}),e.registerOnChange(function(e){return t.valueAccessor.writeValue(e)}),t.valueAccessor.registerOnTouched(function(){return e.markAsTouched()})}function setUpControlGroup(e,t){i.isBlank(e)&&_throwError(t,"Cannot find control"),e.validator=a.Validators.compose([e.validator,t.validator]),e.asyncValidator=a.Validators.composeAsync([e.asyncValidator,t.asyncValidator])}function _throwError(e,t){var n=e.path.join(" -> ");throw new o.BaseException(t+" '"+n+"'")}function composeValidators(e){return i.isPresent(e)?a.Validators.compose(e.map(h.normalizeValidator)):null}function composeAsyncValidators(e){return i.isPresent(e)?a.Validators.composeAsync(e.map(h.normalizeAsyncValidator)):null}function isPropertyUpdated(e,t){if(!r.StringMapWrapper.contains(e,"model"))return!1;var n=e.model;return n.isFirstChange()?!0:!i.looseIdentical(t,n.currentValue)}function selectValueAccessor(e,t){if(i.isBlank(t))return null;var n,r,o;return t.forEach(function(t){i.hasConstructor(t,s.DefaultValueAccessor)?n=t:i.hasConstructor(t,u.CheckboxControlValueAccessor)||i.hasConstructor(t,c.NumberValueAccessor)||i.hasConstructor(t,l.SelectControlValueAccessor)||i.hasConstructor(t,p.RadioControlValueAccessor)?(i.isPresent(r)&&_throwError(e,"More than one built-in value accessor matches"),r=t):(i.isPresent(o)&&_throwError(e,"More than one custom value accessor matches"),o=t)}),i.isPresent(o)?o:i.isPresent(r)?r:i.isPresent(n)?n:(_throwError(e,"No valid value accessor for"),null)}var r=n(16),i=n(8),o=n(18),a=n(155),s=n(156),c=n(157),u=n(158),l=n(159),p=n(160),h=n(161);t.controlPath=controlPath,t.setUpControl=setUpControl,t.setUpControlGroup=setUpControlGroup,t.composeValidators=composeValidators,t.composeAsyncValidators=composeAsyncValidators,t.isPropertyUpdated=isPropertyUpdated,t.selectValueAccessor=selectValueAccessor},function(e,t,n){"use strict";function _convertToPromise(e){return i.PromiseWrapper.isPromise(e)?e:o.ObservableWrapper.toPromise(e)}function _executeValidators(e,t){return t.map(function(t){return t(e)})}function _executeAsyncValidators(e,t){return t.map(function(t){return t(e)})}function _mergeErrors(e){var t=e.reduce(function(e,t){return r.isPresent(t)?a.StringMapWrapper.merge(e,t):e},{});return a.StringMapWrapper.isEmpty(t)?null:t}var r=n(8),i=n(57),o=n(56),a=n(16),s=n(29);t.NG_VALIDATORS=r.CONST_EXPR(new s.OpaqueToken("NgValidators")),t.NG_ASYNC_VALIDATORS=r.CONST_EXPR(new s.OpaqueToken("NgAsyncValidators"));var c=function(){function Validators(){}return Validators.required=function(e){return r.isBlank(e.value)||r.isString(e.value)&&""==e.value?{required:!0}:null},Validators.minLength=function(e){return function(t){if(r.isPresent(Validators.required(t)))return null;var n=t.value;return n.length<e?{minlength:{requiredLength:e,actualLength:n.length}}:null}},Validators.maxLength=function(e){return function(t){if(r.isPresent(Validators.required(t)))return null;var n=t.value;return n.length>e?{maxlength:{requiredLength:e,actualLength:n.length}}:null}},Validators.pattern=function(e){return function(t){if(r.isPresent(Validators.required(t)))return null;var n=new RegExp("^"+e+"$"),i=t.value;return n.test(i)?null:{pattern:{requiredPattern:"^"+e+"$",actualValue:i}}}},Validators.nullValidator=function(e){return null},Validators.compose=function(e){if(r.isBlank(e))return null;var t=e.filter(r.isPresent);return 0==t.length?null:function(e){return _mergeErrors(_executeValidators(e,t))}},Validators.composeAsync=function(e){if(r.isBlank(e))return null;var t=e.filter(r.isPresent);return 0==t.length?null:function(e){var n=_executeAsyncValidators(e,t).map(_convertToPromise);return i.PromiseWrapper.all(n).then(_mergeErrors)}},Validators}();t.Validators=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(153),s=n(8),c=s.CONST_EXPR(new o.Provider(a.NG_VALUE_ACCESSOR,{useExisting:o.forwardRef(function(){return u}),multi:!0})),u=function(){function DefaultValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return DefaultValueAccessor.prototype.writeValue=function(e){var t=s.isBlank(e)?"":e;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},DefaultValueAccessor.prototype.registerOnChange=function(e){this.onChange=e},DefaultValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},DefaultValueAccessor=r([o.Directive({selector:"input:not([type=checkbox])[ngControl],textarea[ngControl],input:not([type=checkbox])[ngFormControl],textarea[ngFormControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",
host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[c]}),i("design:paramtypes",[o.Renderer,o.ElementRef])],DefaultValueAccessor)}();t.DefaultValueAccessor=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(153),s=n(8),c=s.CONST_EXPR(new o.Provider(a.NG_VALUE_ACCESSOR,{useExisting:o.forwardRef(function(){return u}),multi:!0})),u=function(){function NumberValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return NumberValueAccessor.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},NumberValueAccessor.prototype.registerOnChange=function(e){this.onChange=function(t){e(s.NumberWrapper.parseFloat(t))}},NumberValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},NumberValueAccessor=r([o.Directive({selector:"input[type=number][ngControl],input[type=number][ngFormControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},bindings:[c]}),i("design:paramtypes",[o.Renderer,o.ElementRef])],NumberValueAccessor)}();t.NumberValueAccessor=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(153),s=n(8),c=s.CONST_EXPR(new o.Provider(a.NG_VALUE_ACCESSOR,{useExisting:o.forwardRef(function(){return u}),multi:!0})),u=function(){function CheckboxControlValueAccessor(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return CheckboxControlValueAccessor.prototype.writeValue=function(e){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",e)},CheckboxControlValueAccessor.prototype.registerOnChange=function(e){this.onChange=e},CheckboxControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},CheckboxControlValueAccessor=r([o.Directive({selector:"input[type=checkbox][ngControl],input[type=checkbox][ngFormControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[c]}),i("design:paramtypes",[o.Renderer,o.ElementRef])],CheckboxControlValueAccessor)}();t.CheckboxControlValueAccessor=u},function(e,t,n){"use strict";function _buildValueString(e,t){return c.isBlank(e)?""+t:(c.isPrimitive(t)||(t="Object"),c.StringWrapper.slice(e+": "+t,0,50))}function _extractId(e){return e.split(":")[0]}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(29),s=n(153),c=n(8),u=n(16),l=c.CONST_EXPR(new a.Provider(s.NG_VALUE_ACCESSOR,{useExisting:a.forwardRef(function(){return p}),multi:!0})),p=function(){function SelectControlValueAccessor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){}}return SelectControlValueAccessor.prototype.writeValue=function(e){this.value=e;var t=_buildValueString(this._getOptionId(e),e);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",t)},SelectControlValueAccessor.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){e(t._getOptionValue(n))}},SelectControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},SelectControlValueAccessor.prototype._registerOption=function(){return(this._idCounter++).toString()},SelectControlValueAccessor.prototype._getOptionId=function(e){for(var t=0,n=u.MapWrapper.keys(this._optionMap);t<n.length;t++){var r=n[t];if(c.looseIdentical(this._optionMap.get(r),e))return r}return null},SelectControlValueAccessor.prototype._getOptionValue=function(e){var t=this._optionMap.get(_extractId(e));return c.isPresent(t)?t:e},SelectControlValueAccessor=r([a.Directive({selector:"select[ngControl],select[ngFormControl],select[ngModel]",host:{"(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[l]}),i("design:paramtypes",[a.Renderer,a.ElementRef])],SelectControlValueAccessor)}();t.SelectControlValueAccessor=p;var h=function(){function NgSelectOption(e,t,n){this._element=e,this._renderer=t,this._select=n,c.isPresent(this._select)&&(this.id=this._select._registerOption())}return Object.defineProperty(NgSelectOption.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(_buildValueString(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(NgSelectOption.prototype,"value",{set:function(e){this._setElementValue(e),c.isPresent(this._select)&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),NgSelectOption.prototype._setElementValue=function(e){this._renderer.setElementProperty(this._element.nativeElement,"value",e)},NgSelectOption.prototype.ngOnDestroy=function(){c.isPresent(this._select)&&(this._select._optionMap["delete"](this.id),this._select.writeValue(this._select.value))},r([a.Input("ngValue"),i("design:type",Object),i("design:paramtypes",[Object])],NgSelectOption.prototype,"ngValue",null),r([a.Input("value"),i("design:type",Object),i("design:paramtypes",[Object])],NgSelectOption.prototype,"value",null),NgSelectOption=r([a.Directive({selector:"option"}),o(2,a.Optional()),o(2,a.Host()),i("design:paramtypes",[a.ElementRef,a.Renderer,p])],NgSelectOption)}();t.NgSelectOption=h},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(153),s=n(152),c=n(8),u=n(16),l=c.CONST_EXPR(new o.Provider(a.NG_VALUE_ACCESSOR,{useExisting:o.forwardRef(function(){return f}),multi:!0})),p=function(){function RadioControlRegistry(){this._accessors=[]}return RadioControlRegistry.prototype.add=function(e,t){this._accessors.push([e,t])},RadioControlRegistry.prototype.remove=function(e){for(var t=-1,n=0;n<this._accessors.length;++n)this._accessors[n][1]===e&&(t=n);u.ListWrapper.removeAt(this._accessors,t)},RadioControlRegistry.prototype.select=function(e){this._accessors.forEach(function(t){t[0].control.root===e._control.control.root&&t[1]!==e&&t[1].fireUncheck()})},RadioControlRegistry=r([o.Injectable(),i("design:paramtypes",[])],RadioControlRegistry)}();t.RadioControlRegistry=p;var h=function(){function RadioButtonState(e,t){this.checked=e,this.value=t}return RadioButtonState}();t.RadioButtonState=h;var f=function(){function RadioControlValueAccessor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return RadioControlValueAccessor.prototype.ngOnInit=function(){this._control=this._injector.get(s.NgControl),this._registry.add(this._control,this)},RadioControlValueAccessor.prototype.ngOnDestroy=function(){this._registry.remove(this)},RadioControlValueAccessor.prototype.writeValue=function(e){this._state=e,c.isPresent(e)&&e.checked&&this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",!0)},RadioControlValueAccessor.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(new h(!0,t._state.value)),t._registry.select(t)}},RadioControlValueAccessor.prototype.fireUncheck=function(){this._fn(new h(!1,this._state.value))},RadioControlValueAccessor.prototype.registerOnTouched=function(e){this.onTouched=e},r([o.Input(),i("design:type",String)],RadioControlValueAccessor.prototype,"name",void 0),RadioControlValueAccessor=r([o.Directive({selector:"input[type=radio][ngControl],input[type=radio][ngFormControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[l]}),i("design:paramtypes",[o.Renderer,o.ElementRef,p,o.Injector])],RadioControlValueAccessor)}();t.RadioControlValueAccessor=f},function(e,t){"use strict";function normalizeValidator(e){return void 0!==e.validate?function(t){return e.validate(t)}:e}function normalizeAsyncValidator(e){return void 0!==e.validate?function(t){return Promise.resolve(e.validate(t))}:e}t.normalizeValidator=normalizeValidator,t.normalizeAsyncValidator=normalizeAsyncValidator},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(8),c=n(16),u=n(56),l=n(29),p=n(152),h=n(155),f=n(153),d=n(154),y=s.CONST_EXPR(new l.Provider(p.NgControl,{useExisting:l.forwardRef(function(){return m})})),m=function(e){function NgFormControl(t,n,r){e.call(this),this._validators=t,this._asyncValidators=n,this.update=new u.EventEmitter,this.valueAccessor=d.selectValueAccessor(this,r)}return r(NgFormControl,e),NgFormControl.prototype.ngOnChanges=function(e){this._isControlChanged(e)&&(d.setUpControl(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})),d.isPropertyUpdated(e,this.viewModel)&&(this.form.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgFormControl.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"validator",{get:function(){return d.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"asyncValidator",{get:function(){return d.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormControl.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),NgFormControl.prototype.viewToModelUpdate=function(e){this.viewModel=e,u.ObservableWrapper.callEmit(this.update,e)},NgFormControl.prototype._isControlChanged=function(e){return c.StringMapWrapper.contains(e,"form")},NgFormControl=i([l.Directive({selector:"[ngFormControl]",bindings:[y],inputs:["form: ngFormControl","model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),a(0,l.Optional()),a(0,l.Self()),a(0,l.Inject(h.NG_VALIDATORS)),a(1,l.Optional()),a(1,l.Self()),a(1,l.Inject(h.NG_ASYNC_VALIDATORS)),a(2,l.Optional()),a(2,l.Self()),a(2,l.Inject(f.NG_VALUE_ACCESSOR)),o("design:paramtypes",[Array,Array,Array])],NgFormControl)}(p.NgControl);t.NgFormControl=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(8),c=n(56),u=n(29),l=n(153),p=n(152),h=n(148),f=n(155),d=n(154),y=s.CONST_EXPR(new u.Provider(p.NgControl,{useExisting:u.forwardRef(function(){return m})})),m=function(e){function NgModel(t,n,r){e.call(this),this._validators=t,this._asyncValidators=n,this._control=new h.Control,this._added=!1,this.update=new c.EventEmitter,this.valueAccessor=d.selectValueAccessor(this,r)}return r(NgModel,e),NgModel.prototype.ngOnChanges=function(e){this._added||(d.setUpControl(this._control,this),this._control.updateValueAndValidity({emitEvent:!1}),this._added=!0),d.isPropertyUpdated(e,this.viewModel)&&(this._control.updateValue(this.model),this.viewModel=this.model)},Object.defineProperty(NgModel.prototype,"control",{get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"validator",{get:function(){return d.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgModel.prototype,"asyncValidator",{get:function(){return d.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgModel.prototype.viewToModelUpdate=function(e){this.viewModel=e,c.ObservableWrapper.callEmit(this.update,e)},NgModel=i([u.Directive({selector:"[ngModel]:not([ngControl]):not([ngFormControl])",bindings:[y],inputs:["model: ngModel"],outputs:["update: ngModelChange"],exportAs:"ngForm"}),a(0,u.Optional()),a(0,u.Self()),a(0,u.Inject(f.NG_VALIDATORS)),a(1,u.Optional()),a(1,u.Self()),a(1,u.Inject(f.NG_ASYNC_VALIDATORS)),a(2,u.Optional()),a(2,u.Self()),a(2,u.Inject(l.NG_VALUE_ACCESSOR)),o("design:paramtypes",[Array,Array,Array])],NgModel)}(p.NgControl);t.NgModel=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(29),c=n(8),u=n(150),l=n(154),p=n(155),h=c.CONST_EXPR(new s.Provider(u.ControlContainer,{useExisting:s.forwardRef(function(){return f})})),f=function(e){function NgControlGroup(t,n,r){e.call(this),this._validators=n,this._asyncValidators=r,this._parent=t}return r(NgControlGroup,e),NgControlGroup.prototype.ngOnInit=function(){this.formDirective.addControlGroup(this)},NgControlGroup.prototype.ngOnDestroy=function(){this.formDirective.removeControlGroup(this)},Object.defineProperty(NgControlGroup.prototype,"control",{get:function(){return this.formDirective.getControlGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"path",{get:function(){return l.controlPath(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"formDirective",{get:function(){return this._parent.formDirective},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"validator",{get:function(){return l.composeValidators(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlGroup.prototype,"asyncValidator",{get:function(){return l.composeAsyncValidators(this._asyncValidators)},enumerable:!0,configurable:!0}),NgControlGroup=i([s.Directive({selector:"[ngControlGroup]",providers:[h],inputs:["name: ngControlGroup"],exportAs:"ngForm"}),a(0,s.Host()),a(0,s.SkipSelf()),a(1,s.Optional()),a(1,s.Self()),a(1,s.Inject(p.NG_VALIDATORS)),a(2,s.Optional()),a(2,s.Self()),a(2,s.Inject(p.NG_ASYNC_VALIDATORS)),o("design:paramtypes",[u.ControlContainer,Array,Array])],NgControlGroup)}(u.ControlContainer);t.NgControlGroup=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(8),c=n(16),u=n(56),l=n(29),p=n(150),h=n(154),f=n(155),d=s.CONST_EXPR(new l.Provider(p.ControlContainer,{useExisting:l.forwardRef(function(){return y})})),y=function(e){function NgFormModel(t,n){e.call(this),this._validators=t,this._asyncValidators=n,this.form=null,this.directives=[],this.ngSubmit=new u.EventEmitter}return r(NgFormModel,e),NgFormModel.prototype.ngOnChanges=function(e){if(c.StringMapWrapper.contains(e,"form")){var t=h.composeValidators(this._validators);this.form.validator=f.Validators.compose([this.form.validator,t]);var n=h.composeAsyncValidators(this._asyncValidators);this.form.asyncValidator=f.Validators.composeAsync([this.form.asyncValidator,n]),this.form.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}this._updateDomValue()},Object.defineProperty(NgFormModel.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgFormModel.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),NgFormModel.prototype.addControl=function(e){var t=this.form.find(e.path);h.setUpControl(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e)},NgFormModel.prototype.getControl=function(e){return this.form.find(e.path)},NgFormModel.prototype.removeControl=function(e){c.ListWrapper.remove(this.directives,e)},NgFormModel.prototype.addControlGroup=function(e){var t=this.form.find(e.path);h.setUpControlGroup(t,e),t.updateValueAndValidity({emitEvent:!1})},NgFormModel.prototype.removeControlGroup=function(e){},NgFormModel.prototype.getControlGroup=function(e){return this.form.find(e.path)},NgFormModel.prototype.updateModel=function(e,t){var n=this.form.find(e.path);n.updateValue(t)},NgFormModel.prototype.onSubmit=function(){return u.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgFormModel.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var n=e.form.find(t.path);t.valueAccessor.writeValue(n.value)})},NgFormModel=i([l.Directive({selector:"[ngFormModel]",bindings:[d],inputs:["form: ngFormModel"],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),a(0,l.Optional()),a(0,l.Self()),a(0,l.Inject(f.NG_VALIDATORS)),a(1,l.Optional()),a(1,l.Self()),a(1,l.Inject(f.NG_ASYNC_VALIDATORS)),o("design:paramtypes",[Array,Array])],NgFormModel)}(p.ControlContainer);t.NgFormModel=y},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(56),c=n(16),u=n(8),l=n(29),p=n(150),h=n(148),f=n(154),d=n(155),y=u.CONST_EXPR(new l.Provider(p.ControlContainer,{useExisting:l.forwardRef(function(){return m})})),m=function(e){function NgForm(t,n){e.call(this),this.ngSubmit=new s.EventEmitter,this.form=new h.ControlGroup({},null,f.composeValidators(t),f.composeAsyncValidators(n))}return r(NgForm,e),Object.defineProperty(NgForm.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(NgForm.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),NgForm.prototype.addControl=function(e){var t=this;s.PromiseWrapper.scheduleMicrotask(function(){var n=t._findContainer(e.path),r=new h.Control;f.setUpControl(r,e),n.addControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.getControl=function(e){return this.form.find(e.path)},NgForm.prototype.removeControl=function(e){var t=this;s.PromiseWrapper.scheduleMicrotask(function(){var n=t._findContainer(e.path);u.isPresent(n)&&(n.removeControl(e.name),n.updateValueAndValidity({emitEvent:!1}))})},NgForm.prototype.addControlGroup=function(e){var t=this;s.PromiseWrapper.scheduleMicrotask(function(){var n=t._findContainer(e.path),r=new h.ControlGroup({});f.setUpControlGroup(r,e),n.addControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},NgForm.prototype.removeControlGroup=function(e){var t=this;s.PromiseWrapper.scheduleMicrotask(function(){var n=t._findContainer(e.path);u.isPresent(n)&&(n.removeControl(e.name),n.updateValueAndValidity({emitEvent:!1}))})},NgForm.prototype.getControlGroup=function(e){return this.form.find(e.path)},NgForm.prototype.updateModel=function(e,t){var n=this;s.PromiseWrapper.scheduleMicrotask(function(){var r=n.form.find(e.path);r.updateValue(t)})},NgForm.prototype.onSubmit=function(){return s.ObservableWrapper.callEmit(this.ngSubmit,null),!1},NgForm.prototype._findContainer=function(e){return e.pop(),c.ListWrapper.isEmpty(e)?this.form:this.form.find(e)},NgForm=i([l.Directive({selector:"form:not([ngNoForm]):not([ngFormModel]),ngForm,[ngForm]",bindings:[y],host:{"(submit)":"onSubmit()"},outputs:["ngSubmit"],exportAs:"ngForm"}),a(0,l.Optional()),a(0,l.Self()),a(0,l.Inject(d.NG_VALIDATORS)),a(1,l.Optional()),a(1,l.Self()),a(1,l.Inject(d.NG_ASYNC_VALIDATORS)),o("design:paramtypes",[Array,Array])],NgForm)}(p.ControlContainer);t.NgForm=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(29),s=n(152),c=n(8),u=function(){function NgControlStatus(e){this._cd=e}return Object.defineProperty(NgControlStatus.prototype,"ngClassUntouched",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.untouched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassTouched",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.touched:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassPristine",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.pristine:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassDirty",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.dirty:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassValid",{get:function(){return c.isPresent(this._cd.control)?this._cd.control.valid:!1},enumerable:!0,configurable:!0}),Object.defineProperty(NgControlStatus.prototype,"ngClassInvalid",{get:function(){return c.isPresent(this._cd.control)?!this._cd.control.valid:!1},enumerable:!0,configurable:!0}),NgControlStatus=r([a.Directive({selector:"[ngControl],[ngModel],[ngFormControl]",host:{"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid"}}),o(0,a.Self()),i("design:paramtypes",[s.NgControl])],NgControlStatus)}();t.NgControlStatus=u},function(e,t,n){"use strict";var r=n(8),i=n(151),o=n(162),a=n(163),s=n(164),c=n(165),u=n(166),l=n(156),p=n(158),h=n(157),f=n(160),d=n(167),y=n(159),m=n(169),g=n(151);t.NgControlName=g.NgControlName;var v=n(162);t.NgFormControl=v.NgFormControl;var _=n(163);t.NgModel=_.NgModel;var b=n(164);t.NgControlGroup=b.NgControlGroup;var w=n(165);t.NgFormModel=w.NgFormModel;var C=n(166);t.NgForm=C.NgForm;var P=n(156);t.DefaultValueAccessor=P.DefaultValueAccessor;var R=n(158);t.CheckboxControlValueAccessor=R.CheckboxControlValueAccessor;var S=n(160);t.RadioControlValueAccessor=S.RadioControlValueAccessor,t.RadioButtonState=S.RadioButtonState;var E=n(157);t.NumberValueAccessor=E.NumberValueAccessor;var D=n(167);t.NgControlStatus=D.NgControlStatus;var A=n(159);t.SelectControlValueAccessor=A.SelectControlValueAccessor,t.NgSelectOption=A.NgSelectOption;var O=n(169);t.RequiredValidator=O.RequiredValidator,t.MinLengthValidator=O.MinLengthValidator,t.MaxLengthValidator=O.MaxLengthValidator,t.PatternValidator=O.PatternValidator;var T=n(152);t.NgControl=T.NgControl,t.FORM_DIRECTIVES=r.CONST_EXPR([i.NgControlName,s.NgControlGroup,o.NgFormControl,a.NgModel,c.NgFormModel,u.NgForm,y.NgSelectOption,l.DefaultValueAccessor,h.NumberValueAccessor,p.CheckboxControlValueAccessor,y.SelectControlValueAccessor,f.RadioControlValueAccessor,d.NgControlStatus,m.RequiredValidator,m.MinLengthValidator,m.MaxLengthValidator,m.PatternValidator])},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(29),s=n(8),c=n(155),u=n(8),l=c.Validators.required,p=s.CONST_EXPR(new a.Provider(c.NG_VALIDATORS,{useValue:l,multi:!0})),h=function(){function RequiredValidator(){}return RequiredValidator=r([a.Directive({selector:"[required][ngControl],[required][ngFormControl],[required][ngModel]",providers:[p]}),i("design:paramtypes",[])],RequiredValidator)}();t.RequiredValidator=h;var f=s.CONST_EXPR(new a.Provider(c.NG_VALIDATORS,{useExisting:a.forwardRef(function(){return d}),multi:!0})),d=function(){function MinLengthValidator(e){this._validator=c.Validators.minLength(u.NumberWrapper.parseInt(e,10))}return MinLengthValidator.prototype.validate=function(e){return this._validator(e)},MinLengthValidator=r([a.Directive({selector:"[minlength][ngControl],[minlength][ngFormControl],[minlength][ngModel]",providers:[f]}),o(0,a.Attribute("minlength")),i("design:paramtypes",[String])],MinLengthValidator)}();t.MinLengthValidator=d;var y=s.CONST_EXPR(new a.Provider(c.NG_VALIDATORS,{useExisting:a.forwardRef(function(){return m}),multi:!0})),m=function(){function MaxLengthValidator(e){this._validator=c.Validators.maxLength(u.NumberWrapper.parseInt(e,10))}return MaxLengthValidator.prototype.validate=function(e){return this._validator(e)},MaxLengthValidator=r([a.Directive({selector:"[maxlength][ngControl],[maxlength][ngFormControl],[maxlength][ngModel]",providers:[y]}),o(0,a.Attribute("maxlength")),i("design:paramtypes",[String])],MaxLengthValidator)}();t.MaxLengthValidator=m;var g=s.CONST_EXPR(new a.Provider(c.NG_VALIDATORS,{useExisting:a.forwardRef(function(){return v}),multi:!0})),v=function(){function PatternValidator(e){this._validator=c.Validators.pattern(e)}return PatternValidator.prototype.validate=function(e){return this._validator(e)},PatternValidator=r([a.Directive({selector:"[pattern][ngControl],[pattern][ngFormControl],[pattern][ngModel]",providers:[g]}),o(0,a.Attribute("pattern")),i("design:paramtypes",[String])],PatternValidator)}();t.PatternValidator=v},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(16),s=n(8),c=n(148),u=function(){function FormBuilder(){}return FormBuilder.prototype.group=function(e,t){void 0===t&&(t=null);var n=this._reduceControls(e),r=s.isPresent(t)?a.StringMapWrapper.get(t,"optionals"):null,i=s.isPresent(t)?a.StringMapWrapper.get(t,"validator"):null,o=s.isPresent(t)?a.StringMapWrapper.get(t,"asyncValidator"):null;return new c.ControlGroup(n,r,i,o)},FormBuilder.prototype.control=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),new c.Control(e,t,n)},FormBuilder.prototype.array=function(e,t,n){var r=this;void 0===t&&(t=null),void 0===n&&(n=null);var i=e.map(function(e){return r._createControl(e)});return new c.ControlArray(i,t,n)},FormBuilder.prototype._reduceControls=function(e){var t=this,n={};return a.StringMapWrapper.forEach(e,function(e,r){n[r]=t._createControl(e)}),n},FormBuilder.prototype._createControl=function(e){if(e instanceof c.Control||e instanceof c.ControlGroup||e instanceof c.ControlArray)return e;if(s.isArray(e)){var t=e[0],n=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,n,r)}return this.control(e)},FormBuilder=r([o.Injectable(),i("design:paramtypes",[])],FormBuilder)}();t.FormBuilder=u},function(e,t,n){"use strict";var r=n(8),i=n(147),o=n(138);
t.COMMON_DIRECTIVES=r.CONST_EXPR([o.CORE_DIRECTIVES,i.FORM_DIRECTIVES])},function(e,t,n){"use strict";function setRootDomAdapter(e){r.isBlank(t.DOM)&&(t.DOM=e)}var r=n(8);t.DOM=null,t.setRootDomAdapter=setRootDomAdapter;var i=function(){function DomAdapter(){}return Object.defineProperty(DomAdapter.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),DomAdapter}();t.DomAdapter=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(172),s=n(29),c=n(174),u=function(e){function DomEventsPlugin(){e.apply(this,arguments)}return r(DomEventsPlugin,e),DomEventsPlugin.prototype.supports=function(e){return!0},DomEventsPlugin.prototype.addEventListener=function(e,t,n){var r=this.manager.getZone(),i=function(e){return r.run(function(){return n(e)})};return this.manager.getZone().runOutsideAngular(function(){return a.DOM.onAndCancel(e,t,i)})},DomEventsPlugin.prototype.addGlobalEventListener=function(e,t,n){var r=a.DOM.getGlobalEventTarget(e),i=this.manager.getZone(),o=function(e){return i.run(function(){return n(e)})};return this.manager.getZone().runOutsideAngular(function(){return a.DOM.onAndCancel(r,t,o)})},DomEventsPlugin=i([s.Injectable(),o("design:paramtypes",[])],DomEventsPlugin)}(c.EventManagerPlugin);t.DomEventsPlugin=u},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(8),s=n(18),c=n(10),u=n(91),l=n(16);t.EVENT_MANAGER_PLUGINS=a.CONST_EXPR(new c.OpaqueToken("EventManagerPlugins"));var p=function(){function EventManager(e,t){var n=this;this._zone=t,e.forEach(function(e){return e.manager=n}),this._plugins=l.ListWrapper.reversed(e)}return EventManager.prototype.addEventListener=function(e,t,n){var r=this._findPluginFor(t);return r.addEventListener(e,t,n)},EventManager.prototype.addGlobalEventListener=function(e,t,n){var r=this._findPluginFor(t);return r.addGlobalEventListener(e,t,n)},EventManager.prototype.getZone=function(){return this._zone},EventManager.prototype._findPluginFor=function(e){for(var t=this._plugins,n=0;n<t.length;n++){var r=t[n];if(r.supports(e))return r}throw new s.BaseException("No event manager plugin found for event "+e)},EventManager=r([c.Injectable(),o(0,c.Inject(t.EVENT_MANAGER_PLUGINS)),i("design:paramtypes",[Array,u.NgZone])],EventManager)}();t.EventManager=p;var h=function(){function EventManagerPlugin(){}return EventManagerPlugin.prototype.supports=function(e){return!1},EventManagerPlugin.prototype.addEventListener=function(e,t,n){throw"not implemented"},EventManagerPlugin.prototype.addGlobalEventListener=function(e,t,n){throw"not implemented"},EventManagerPlugin}();t.EventManagerPlugin=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(172),s=n(8),c=n(16),u=n(174),l=n(10),p=["alt","control","meta","shift"],h={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},f=function(e){function KeyEventsPlugin(){e.call(this)}return r(KeyEventsPlugin,e),KeyEventsPlugin.prototype.supports=function(e){return s.isPresent(KeyEventsPlugin.parseEventName(e))},KeyEventsPlugin.prototype.addEventListener=function(e,t,n){var r=KeyEventsPlugin.parseEventName(t),i=KeyEventsPlugin.eventCallback(e,c.StringMapWrapper.get(r,"fullKey"),n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return a.DOM.onAndCancel(e,c.StringMapWrapper.get(r,"domEventName"),i)})},KeyEventsPlugin.parseEventName=function(e){var t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||!s.StringWrapper.equals(n,"keydown")&&!s.StringWrapper.equals(n,"keyup"))return null;var r=KeyEventsPlugin._normalizeKey(t.pop()),i="";if(p.forEach(function(e){c.ListWrapper.contains(t,e)&&(c.ListWrapper.remove(t,e),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;var o=c.StringMapWrapper.create();return c.StringMapWrapper.set(o,"domEventName",n),c.StringMapWrapper.set(o,"fullKey",i),o},KeyEventsPlugin.getEventFullKey=function(e){var t="",n=a.DOM.getEventKey(e);return n=n.toLowerCase(),s.StringWrapper.equals(n," ")?n="space":s.StringWrapper.equals(n,".")&&(n="dot"),p.forEach(function(r){if(r!=n){var i=c.StringMapWrapper.get(h,r);i(e)&&(t+=r+".")}}),t+=n},KeyEventsPlugin.eventCallback=function(e,t,n,r){return function(e){s.StringWrapper.equals(KeyEventsPlugin.getEventFullKey(e),t)&&r.run(function(){return n(e)})}},KeyEventsPlugin._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},KeyEventsPlugin=i([l.Injectable(),o("design:paramtypes",[])],KeyEventsPlugin)}(u.EventManagerPlugin);t.KeyEventsPlugin=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(177),c=n(8),u=n(18),l=n(29);t.HAMMER_GESTURE_CONFIG=c.CONST_EXPR(new l.OpaqueToken("HammerGestureConfig"));var p=function(){function HammerGestureConfig(){this.events=[],this.overrides={}}return HammerGestureConfig.prototype.buildHammer=function(e){var t=new Hammer(e);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(var n in this.overrides)t.get(n).set(this.overrides[n]);return t},HammerGestureConfig=i([l.Injectable(),o("design:paramtypes",[])],HammerGestureConfig)}();t.HammerGestureConfig=p;var h=function(e){function HammerGesturesPlugin(t){e.call(this),this._config=t}return r(HammerGesturesPlugin,e),HammerGesturesPlugin.prototype.supports=function(t){if(!e.prototype.supports.call(this,t)&&!this.isCustomEvent(t))return!1;if(!c.isPresent(window.Hammer))throw new u.BaseException("Hammer.js is not loaded, can not bind "+t+" event");return!0},HammerGesturesPlugin.prototype.addEventListener=function(e,t,n){var r=this,i=this.manager.getZone();return t=t.toLowerCase(),i.runOutsideAngular(function(){var o=r._config.buildHammer(e),a=function(e){i.run(function(){n(e)})};return o.on(t,a),function(){o.off(t,a)}})},HammerGesturesPlugin.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},HammerGesturesPlugin=i([l.Injectable(),a(0,l.Inject(t.HAMMER_GESTURE_CONFIG)),o("design:paramtypes",[p])],HammerGesturesPlugin)}(s.HammerGesturesPluginCommon);t.HammerGesturesPlugin=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(174),o=n(16),a={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},s=function(e){function HammerGesturesPluginCommon(){e.call(this)}return r(HammerGesturesPluginCommon,e),HammerGesturesPluginCommon.prototype.supports=function(e){return e=e.toLowerCase(),o.StringMapWrapper.contains(a,e)},HammerGesturesPluginCommon}(i.EventManagerPlugin);t.HammerGesturesPluginCommon=s},function(e,t,n){"use strict";var r=n(10),i=n(8);t.DOCUMENT=i.CONST_EXPR(new r.OpaqueToken("DocumentToken"))},function(e,t,n){"use strict";function moveNodesAfterSibling(e,t){var n=y.DOM.parentElement(e);if(t.length>0&&u.isPresent(n)){var r=y.DOM.nextSibling(e);if(u.isPresent(r))for(var i=0;i<t.length;i++)y.DOM.insertBefore(r,t[i]);else for(var i=0;i<t.length;i++)y.DOM.appendChild(n,t[i])}}function appendNodes(e,t){for(var n=0;n<t.length;n++)y.DOM.appendChild(e,t[n])}function decoratePreventDefault(e){return function(t){var n=e(t);n===!1&&y.DOM.preventDefault(t)}}function _shimContentAttribute(e){return u.StringWrapper.replaceAll(t.CONTENT_ATTR,P,e)}function _shimHostAttribute(e){return u.StringWrapper.replaceAll(t.HOST_ATTR,P,e)}function _flattenStyles(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];u.isArray(i)?_flattenStyles(e,i,n):(i=u.StringWrapper.replaceAll(i,P,e),n.push(i))}return n}function splitNamespace(e){if("@"!=e[0])return[null,e];var t=u.RegExpWrapper.firstMatch(R,e);return[t[1],t[2]]}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(10),c=n(180),u=n(8),l=n(18),p=n(187),h=n(174),f=n(178),d=n(30),y=n(172),m=n(185),g=u.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"}),v="template bindings={}",_=/^template bindings=(.*)$/g,b=function(){function DomRootRenderer(e,t,n,r){this.document=e,this.eventManager=t,this.sharedStylesHost=n,this.animate=r,this._registeredComponents=new Map}return DomRootRenderer.prototype.renderComponent=function(e){var t=this._registeredComponents.get(e.id);return u.isBlank(t)&&(t=new C(this,e),this._registeredComponents.set(e.id,t)),t},DomRootRenderer}();t.DomRootRenderer=b;var w=function(e){function DomRootRenderer_(t,n,r,i){e.call(this,t,n,r,i)}return r(DomRootRenderer_,e),DomRootRenderer_=i([s.Injectable(),a(0,s.Inject(f.DOCUMENT)),o("design:paramtypes",[Object,h.EventManager,p.DomSharedStylesHost,c.AnimationBuilder])],DomRootRenderer_)}(b);t.DomRootRenderer_=w;var C=function(){function DomRenderer(e,t){this._rootRenderer=e,this.componentProto=t,this._styles=_flattenStyles(t.id,t.styles,[]),t.encapsulation!==d.ViewEncapsulation.Native&&this._rootRenderer.sharedStylesHost.addStyles(this._styles),this.componentProto.encapsulation===d.ViewEncapsulation.Emulated?(this._contentAttr=_shimContentAttribute(t.id),this._hostAttr=_shimHostAttribute(t.id)):(this._contentAttr=null,this._hostAttr=null)}return DomRenderer.prototype.renderComponent=function(e){return this._rootRenderer.renderComponent(e)},DomRenderer.prototype.selectRootElement=function(e){var t=y.DOM.querySelector(this._rootRenderer.document,e);if(u.isBlank(t))throw new l.BaseException('The selector "'+e+'" did not match any elements');return y.DOM.clearNodes(t),t},DomRenderer.prototype.createElement=function(e,t){var n=splitNamespace(t),r=u.isPresent(n[0])?y.DOM.createElementNS(g[n[0]],n[1]):y.DOM.createElement(n[1]);return u.isPresent(this._contentAttr)&&y.DOM.setAttribute(r,this._contentAttr,""),u.isPresent(e)&&y.DOM.appendChild(e,r),r},DomRenderer.prototype.createViewRoot=function(e){var t;if(this.componentProto.encapsulation===d.ViewEncapsulation.Native){t=y.DOM.createShadowRoot(e),this._rootRenderer.sharedStylesHost.addHost(t);for(var n=0;n<this._styles.length;n++)y.DOM.appendChild(t,y.DOM.createStyleElement(this._styles[n]))}else u.isPresent(this._hostAttr)&&y.DOM.setAttribute(e,this._hostAttr,""),t=e;return t},DomRenderer.prototype.createTemplateAnchor=function(e){var t=y.DOM.createComment(v);return u.isPresent(e)&&y.DOM.appendChild(e,t),t},DomRenderer.prototype.createText=function(e,t){var n=y.DOM.createTextNode(t);return u.isPresent(e)&&y.DOM.appendChild(e,n),n},DomRenderer.prototype.projectNodes=function(e,t){u.isBlank(e)||appendNodes(e,t)},DomRenderer.prototype.attachViewAfter=function(e,t){moveNodesAfterSibling(e,t);for(var n=0;n<t.length;n++)this.animateNodeEnter(t[n])},DomRenderer.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t];y.DOM.remove(n),this.animateNodeLeave(n)}},DomRenderer.prototype.destroyView=function(e,t){this.componentProto.encapsulation===d.ViewEncapsulation.Native&&u.isPresent(e)&&this._rootRenderer.sharedStylesHost.removeHost(y.DOM.getShadowRoot(e))},DomRenderer.prototype.listen=function(e,t,n){return this._rootRenderer.eventManager.addEventListener(e,t,decoratePreventDefault(n))},DomRenderer.prototype.listenGlobal=function(e,t,n){return this._rootRenderer.eventManager.addGlobalEventListener(e,t,decoratePreventDefault(n))},DomRenderer.prototype.setElementProperty=function(e,t,n){y.DOM.setProperty(e,t,n)},DomRenderer.prototype.setElementAttribute=function(e,t,n){var r,i=splitNamespace(t);u.isPresent(i[0])&&(t=i[0]+":"+i[1],r=g[i[0]]),u.isPresent(n)?u.isPresent(r)?y.DOM.setAttributeNS(e,r,t,n):y.DOM.setAttribute(e,t,n):u.isPresent(r)?y.DOM.removeAttributeNS(e,r,i[1]):y.DOM.removeAttribute(e,t)},DomRenderer.prototype.setBindingDebugInfo=function(e,t,n){var r=m.camelCaseToDashCase(t);if(y.DOM.isCommentNode(e)){var i=u.RegExpWrapper.firstMatch(_,u.StringWrapper.replaceAll(y.DOM.getText(e),/\n/g,"")),o=u.Json.parse(i[1]);o[r]=n,y.DOM.setText(e,u.StringWrapper.replace(v,"{}",u.Json.stringify(o)))}else this.setElementAttribute(e,t,n)},DomRenderer.prototype.setElementDebugInfo=function(e,t){},DomRenderer.prototype.setElementClass=function(e,t,n){n?y.DOM.addClass(e,t):y.DOM.removeClass(e,t)},DomRenderer.prototype.setElementStyle=function(e,t,n){u.isPresent(n)?y.DOM.setStyle(e,t,u.stringify(n)):y.DOM.removeStyle(e,t)},DomRenderer.prototype.invokeElementMethod=function(e,t,n){y.DOM.invoke(e,t,n)},DomRenderer.prototype.setText=function(e,t){y.DOM.setText(e,t)},DomRenderer.prototype.animateNodeEnter=function(e){y.DOM.isElementNode(e)&&y.DOM.hasClass(e,"ng-animate")&&(y.DOM.addClass(e,"ng-enter"),this._rootRenderer.animate.css().addAnimationClass("ng-enter-active").start(e).onComplete(function(){y.DOM.removeClass(e,"ng-enter")}))},DomRenderer.prototype.animateNodeLeave=function(e){y.DOM.isElementNode(e)&&y.DOM.hasClass(e,"ng-animate")?(y.DOM.addClass(e,"ng-leave"),this._rootRenderer.animate.css().addAnimationClass("ng-leave-active").start(e).onComplete(function(){y.DOM.removeClass(e,"ng-leave"),y.DOM.remove(e)})):y.DOM.remove(e)},DomRenderer}();t.DomRenderer=C;var P=/%COMP%/g;t.COMPONENT_VARIABLE="%COMP%",t.HOST_ATTR="_nghost-"+t.COMPONENT_VARIABLE,t.CONTENT_ATTR="_ngcontent-"+t.COMPONENT_VARIABLE;var R=/^@([^:]+):(.+)/g},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(10),a=n(181),s=n(186),c=function(){function AnimationBuilder(e){this.browserDetails=e}return AnimationBuilder.prototype.css=function(){return new a.CssAnimationBuilder(this.browserDetails)},AnimationBuilder=r([o.Injectable(),i("design:paramtypes",[s.BrowserDetails])],AnimationBuilder)}();t.AnimationBuilder=c},function(e,t,n){"use strict";var r=n(182),i=n(183),o=function(){function CssAnimationBuilder(e){this.browserDetails=e,this.data=new r.CssAnimationOptions}return CssAnimationBuilder.prototype.addAnimationClass=function(e){return this.data.animationClasses.push(e),this},CssAnimationBuilder.prototype.addClass=function(e){return this.data.classesToAdd.push(e),this},CssAnimationBuilder.prototype.removeClass=function(e){return this.data.classesToRemove.push(e),this},CssAnimationBuilder.prototype.setDuration=function(e){return this.data.duration=e,this},CssAnimationBuilder.prototype.setDelay=function(e){return this.data.delay=e,this},CssAnimationBuilder.prototype.setStyles=function(e,t){return this.setFromStyles(e).setToStyles(t)},CssAnimationBuilder.prototype.setFromStyles=function(e){return this.data.fromStyles=e,this},CssAnimationBuilder.prototype.setToStyles=function(e){return this.data.toStyles=e,this},CssAnimationBuilder.prototype.start=function(e){return new i.Animation(e,this.data,this.browserDetails)},CssAnimationBuilder}();t.CssAnimationBuilder=o},function(e,t){"use strict";var n=function(){function CssAnimationOptions(){this.classesToAdd=[],this.classesToRemove=[],this.animationClasses=[]}return CssAnimationOptions}();t.CssAnimationOptions=n},function(e,t,n){"use strict";var r=n(8),i=n(184),o=n(185),a=n(16),s=n(172),c=function(){function Animation(e,t,n){var i=this;this.element=e,this.data=t,this.browserDetails=n,this.callbacks=[],this.eventClearFunctions=[],this.completed=!1,this._stringPrefix="",this.startTime=r.DateWrapper.toMillis(r.DateWrapper.now()),this._stringPrefix=s.DOM.getAnimationPrefix(),this.setup(),this.wait(function(e){return i.start()})}return Object.defineProperty(Animation.prototype,"totalTime",{get:function(){var e=null!=this.computedDelay?this.computedDelay:0,t=null!=this.computedDuration?this.computedDuration:0;return e+t},enumerable:!0,configurable:!0}),Animation.prototype.wait=function(e){this.browserDetails.raf(e,2)},Animation.prototype.setup=function(){null!=this.data.fromStyles&&this.applyStyles(this.data.fromStyles),null!=this.data.duration&&this.applyStyles({transitionDuration:this.data.duration.toString()+"ms"}),null!=this.data.delay&&this.applyStyles({transitionDelay:this.data.delay.toString()+"ms"})},Animation.prototype.start=function(){this.addClasses(this.data.classesToAdd),this.addClasses(this.data.animationClasses),this.removeClasses(this.data.classesToRemove),null!=this.data.toStyles&&this.applyStyles(this.data.toStyles);var e=s.DOM.getComputedStyle(this.element);this.computedDelay=i.Math.max(this.parseDurationString(e.getPropertyValue(this._stringPrefix+"transition-delay")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-delay"))),this.computedDuration=i.Math.max(this.parseDurationString(e.getPropertyValue(this._stringPrefix+"transition-duration")),this.parseDurationString(this.element.style.getPropertyValue(this._stringPrefix+"transition-duration"))),this.addEvents()},Animation.prototype.applyStyles=function(e){var t=this;a.StringMapWrapper.forEach(e,function(e,n){var i=o.camelCaseToDashCase(n);r.isPresent(s.DOM.getStyle(t.element,i))?s.DOM.setStyle(t.element,i,e.toString()):s.DOM.setStyle(t.element,t._stringPrefix+i,e.toString())})},Animation.prototype.addClasses=function(e){for(var t=0,n=e.length;n>t;t++)s.DOM.addClass(this.element,e[t])},Animation.prototype.removeClasses=function(e){for(var t=0,n=e.length;n>t;t++)s.DOM.removeClass(this.element,e[t])},Animation.prototype.addEvents=function(){var e=this;this.totalTime>0?this.eventClearFunctions.push(s.DOM.onAndCancel(this.element,s.DOM.getTransitionEnd(),function(t){return e.handleAnimationEvent(t)})):this.handleAnimationCompleted()},Animation.prototype.handleAnimationEvent=function(e){var t=i.Math.round(1e3*e.elapsedTime);this.browserDetails.elapsedTimeIncludesDelay||(t+=this.computedDelay),e.stopPropagation(),t>=this.totalTime&&this.handleAnimationCompleted()},Animation.prototype.handleAnimationCompleted=function(){this.removeClasses(this.data.animationClasses),this.callbacks.forEach(function(e){return e()}),this.callbacks=[],this.eventClearFunctions.forEach(function(e){return e()}),this.eventClearFunctions=[],this.completed=!0},Animation.prototype.onComplete=function(e){return this.completed?e():this.callbacks.push(e),this},Animation.prototype.parseDurationString=function(e){var t=0;if(null==e||e.length<2)return t;if("ms"==e.substring(e.length-2)){var n=r.NumberWrapper.parseInt(this.stripLetters(e),10);n>t&&(t=n)}else if("s"==e.substring(e.length-1)){var o=1e3*r.NumberWrapper.parseFloat(this.stripLetters(e)),n=i.Math.floor(o);n>t&&(t=n)}return t},Animation.prototype.stripLetters=function(e){return r.StringWrapper.replaceAll(e,r.RegExpWrapper.create("[^0-9]+$",""),"")},Animation}();t.Animation=c},function(e,t,n){"use strict";var r=n(8);t.Math=r.global.Math,t.NaN=typeof t.NaN},function(e,t,n){"use strict";function camelCaseToDashCase(e){return r.StringWrapper.replaceAllMapped(e,i,function(e){return"-"+e[1].toLowerCase()})}function dashCaseToCamelCase(e){return r.StringWrapper.replaceAllMapped(e,o,function(e){return e[1].toUpperCase()})}var r=n(8),i=/([A-Z])/g,o=/-([a-z])/g;t.camelCaseToDashCase=camelCaseToDashCase,t.dashCaseToCamelCase=dashCaseToCamelCase},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(10),a=n(184),s=n(172),c=function(){function BrowserDetails(){this.elapsedTimeIncludesDelay=!1,this.doesElapsedTimeIncludesDelay()}return BrowserDetails.prototype.doesElapsedTimeIncludesDelay=function(){var e=this,t=s.DOM.createElement("div");s.DOM.setAttribute(t,"style","position: absolute; top: -9999px; left: -9999px; width: 1px;\n      height: 1px; transition: all 1ms linear 1ms;"),this.raf(function(n){s.DOM.on(t,"transitionend",function(n){var r=a.Math.round(1e3*n.elapsedTime);e.elapsedTimeIncludesDelay=2==r,s.DOM.remove(t)}),s.DOM.setStyle(t,"width","2px")},2)},BrowserDetails.prototype.raf=function(e,t){void 0===t&&(t=1);var n=new u(e,t);return function(){return n.cancel()}},BrowserDetails=r([o.Injectable(),i("design:paramtypes",[])],BrowserDetails)}();t.BrowserDetails=c;var u=function(){function RafQueue(e,t){this.callback=e,this.frames=t,this._raf()}return RafQueue.prototype._raf=function(){var e=this;this.currentFrameId=s.DOM.requestAnimationFrame(function(t){return e._nextFrame(t)})},RafQueue.prototype._nextFrame=function(e){this.frames--,this.frames>0?this._raf():this.callback(e)},RafQueue.prototype.cancel=function(){s.DOM.cancelAnimationFrame(this.currentFrameId),this.currentFrameId=null},RafQueue}()},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(172),c=n(10),u=n(16),l=n(178),p=function(){function SharedStylesHost(){this._styles=[],this._stylesSet=new Set}return SharedStylesHost.prototype.addStyles=function(e){var t=this,n=[];e.forEach(function(e){u.SetWrapper.has(t._stylesSet,e)||(t._stylesSet.add(e),t._styles.push(e),n.push(e))}),this.onStylesAdded(n)},SharedStylesHost.prototype.onStylesAdded=function(e){},SharedStylesHost.prototype.getAllStyles=function(){return this._styles},SharedStylesHost=i([c.Injectable(),o("design:paramtypes",[])],SharedStylesHost)}();t.SharedStylesHost=p;var h=function(e){function DomSharedStylesHost(t){e.call(this),this._hostNodes=new Set,this._hostNodes.add(t.head)}return r(DomSharedStylesHost,e),DomSharedStylesHost.prototype._addStylesToHost=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];s.DOM.appendChild(t,s.DOM.createStyleElement(r))}},DomSharedStylesHost.prototype.addHost=function(e){this._addStylesToHost(this._styles,e),this._hostNodes.add(e)},DomSharedStylesHost.prototype.removeHost=function(e){u.SetWrapper["delete"](this._hostNodes,e)},DomSharedStylesHost.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){t._addStylesToHost(e,n)})},DomSharedStylesHost=i([c.Injectable(),a(0,c.Inject(l.DOCUMENT)),o("design:paramtypes",[Object])],DomSharedStylesHost)}(p);t.DomSharedStylesHost=h},function(e,t,n){"use strict";function getBaseElementHref(){return o.isBlank(f)&&(f=document.querySelector("base"),o.isBlank(f))?null:f.getAttribute("href")}function relativePath(e){return o.isBlank(d)&&(d=document.createElement("a")),d.setAttribute("href",e),"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(16),o=n(8),a=n(172),s=n(189),c={"class":"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},u=3,l={"\b":"Backspace","	":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"},h=function(e){function BrowserDomAdapter(){e.apply(this,arguments)}return r(BrowserDomAdapter,e),BrowserDomAdapter.prototype.parse=function(e){throw new Error("parse not implemented")},BrowserDomAdapter.makeCurrent=function(){a.setRootDomAdapter(new BrowserDomAdapter)},BrowserDomAdapter.prototype.hasProperty=function(e,t){return t in e},BrowserDomAdapter.prototype.setProperty=function(e,t,n){e[t]=n},BrowserDomAdapter.prototype.getProperty=function(e,t){return e[t]},BrowserDomAdapter.prototype.invoke=function(e,t,n){e[t].apply(e,n)},BrowserDomAdapter.prototype.logError=function(e){window.console.error?window.console.error(e):window.console.log(e)},BrowserDomAdapter.prototype.log=function(e){window.console.log(e)},BrowserDomAdapter.prototype.logGroup=function(e){window.console.group?(window.console.group(e),this.logError(e)):window.console.log(e)},BrowserDomAdapter.prototype.logGroupEnd=function(){window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(BrowserDomAdapter.prototype,"attrToPropMap",{get:function(){return c},enumerable:!0,configurable:!0}),BrowserDomAdapter.prototype.query=function(e){return document.querySelector(e)},BrowserDomAdapter.prototype.querySelector=function(e,t){return e.querySelector(t)},BrowserDomAdapter.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},BrowserDomAdapter.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},BrowserDomAdapter.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},BrowserDomAdapter.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},BrowserDomAdapter.prototype.createMouseEvent=function(e){var t=document.createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},BrowserDomAdapter.prototype.createEvent=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t},BrowserDomAdapter.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},BrowserDomAdapter.prototype.isPrevented=function(e){return e.defaultPrevented||o.isPresent(e.returnValue)&&!e.returnValue},BrowserDomAdapter.prototype.getInnerHTML=function(e){return e.innerHTML},BrowserDomAdapter.prototype.getOuterHTML=function(e){return e.outerHTML},BrowserDomAdapter.prototype.nodeName=function(e){return e.nodeName},BrowserDomAdapter.prototype.nodeValue=function(e){return e.nodeValue},BrowserDomAdapter.prototype.type=function(e){return e.type},BrowserDomAdapter.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},BrowserDomAdapter.prototype.firstChild=function(e){return e.firstChild},BrowserDomAdapter.prototype.nextSibling=function(e){return e.nextSibling},BrowserDomAdapter.prototype.parentElement=function(e){return e.parentNode},BrowserDomAdapter.prototype.childNodes=function(e){return e.childNodes},BrowserDomAdapter.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=i.ListWrapper.createFixedSize(t.length),r=0;r<t.length;r++)n[r]=t[r];return n},BrowserDomAdapter.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},BrowserDomAdapter.prototype.appendChild=function(e,t){e.appendChild(t)},BrowserDomAdapter.prototype.removeChild=function(e,t){e.removeChild(t)},BrowserDomAdapter.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},BrowserDomAdapter.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},BrowserDomAdapter.prototype.insertBefore=function(e,t){e.parentNode.insertBefore(t,e)},BrowserDomAdapter.prototype.insertAllBefore=function(e,t){t.forEach(function(t){return e.parentNode.insertBefore(t,e)})},BrowserDomAdapter.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},BrowserDomAdapter.prototype.setInnerHTML=function(e,t){e.innerHTML=t},BrowserDomAdapter.prototype.getText=function(e){return e.textContent},BrowserDomAdapter.prototype.setText=function(e,t){e.textContent=t},BrowserDomAdapter.prototype.getValue=function(e){return e.value},BrowserDomAdapter.prototype.setValue=function(e,t){e.value=t},BrowserDomAdapter.prototype.getChecked=function(e){return e.checked},BrowserDomAdapter.prototype.setChecked=function(e,t){e.checked=t},BrowserDomAdapter.prototype.createComment=function(e){return document.createComment(e)},BrowserDomAdapter.prototype.createTemplate=function(e){var t=document.createElement("template");return t.innerHTML=e,t},BrowserDomAdapter.prototype.createElement=function(e,t){
return void 0===t&&(t=document),t.createElement(e)},BrowserDomAdapter.prototype.createElementNS=function(e,t,n){return void 0===n&&(n=document),n.createElementNS(e,t)},BrowserDomAdapter.prototype.createTextNode=function(e,t){return void 0===t&&(t=document),t.createTextNode(e)},BrowserDomAdapter.prototype.createScriptTag=function(e,t,n){void 0===n&&(n=document);var r=n.createElement("SCRIPT");return r.setAttribute(e,t),r},BrowserDomAdapter.prototype.createStyleElement=function(e,t){void 0===t&&(t=document);var n=t.createElement("style");return this.appendChild(n,this.createTextNode(e)),n},BrowserDomAdapter.prototype.createShadowRoot=function(e){return e.createShadowRoot()},BrowserDomAdapter.prototype.getShadowRoot=function(e){return e.shadowRoot},BrowserDomAdapter.prototype.getHost=function(e){return e.host},BrowserDomAdapter.prototype.clone=function(e){return e.cloneNode(!0)},BrowserDomAdapter.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},BrowserDomAdapter.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},BrowserDomAdapter.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},BrowserDomAdapter.prototype.addClass=function(e,t){e.classList.add(t)},BrowserDomAdapter.prototype.removeClass=function(e,t){e.classList.remove(t)},BrowserDomAdapter.prototype.hasClass=function(e,t){return e.classList.contains(t)},BrowserDomAdapter.prototype.setStyle=function(e,t,n){e.style[t]=n},BrowserDomAdapter.prototype.removeStyle=function(e,t){e.style[t]=null},BrowserDomAdapter.prototype.getStyle=function(e,t){return e.style[t]},BrowserDomAdapter.prototype.hasStyle=function(e,t,n){void 0===n&&(n=null);var r=this.getStyle(e,t)||"";return n?r==n:r.length>0},BrowserDomAdapter.prototype.tagName=function(e){return e.tagName},BrowserDomAdapter.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n[r];t.set(i.name,i.value)}return t},BrowserDomAdapter.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},BrowserDomAdapter.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},BrowserDomAdapter.prototype.getAttribute=function(e,t){return e.getAttribute(t)},BrowserDomAdapter.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},BrowserDomAdapter.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},BrowserDomAdapter.prototype.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},BrowserDomAdapter.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},BrowserDomAdapter.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},BrowserDomAdapter.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},BrowserDomAdapter.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},BrowserDomAdapter.prototype.defaultDoc=function(){return document},BrowserDomAdapter.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},BrowserDomAdapter.prototype.getTitle=function(){return document.title},BrowserDomAdapter.prototype.setTitle=function(e){document.title=e||""},BrowserDomAdapter.prototype.elementMatches=function(e,t){var n=!1;return e instanceof HTMLElement&&(e.matches?n=e.matches(t):e.msMatchesSelector?n=e.msMatchesSelector(t):e.webkitMatchesSelector&&(n=e.webkitMatchesSelector(t))),n},BrowserDomAdapter.prototype.isTemplateElement=function(e){return e instanceof HTMLElement&&"TEMPLATE"==e.nodeName},BrowserDomAdapter.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},BrowserDomAdapter.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},BrowserDomAdapter.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},BrowserDomAdapter.prototype.hasShadowRoot=function(e){return e instanceof HTMLElement&&o.isPresent(e.shadowRoot)},BrowserDomAdapter.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},BrowserDomAdapter.prototype.importIntoDoc=function(e){var t=e;return this.isTemplateElement(e)&&(t=this.content(e)),document.importNode(t,!0)},BrowserDomAdapter.prototype.adoptNode=function(e){return document.adoptNode(e)},BrowserDomAdapter.prototype.getHref=function(e){return e.href},BrowserDomAdapter.prototype.getEventKey=function(e){var t=e.key;if(o.isBlank(t)){if(t=e.keyIdentifier,o.isBlank(t))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===u&&p.hasOwnProperty(t)&&(t=p[t]))}return l.hasOwnProperty(t)&&(t=l[t]),t},BrowserDomAdapter.prototype.getGlobalEventTarget=function(e){return"window"==e?window:"document"==e?document:"body"==e?document.body:void 0},BrowserDomAdapter.prototype.getHistory=function(){return window.history},BrowserDomAdapter.prototype.getLocation=function(){return window.location},BrowserDomAdapter.prototype.getBaseHref=function(){var e=getBaseElementHref();return o.isBlank(e)?null:relativePath(e)},BrowserDomAdapter.prototype.resetBaseElement=function(){f=null},BrowserDomAdapter.prototype.getUserAgent=function(){return window.navigator.userAgent},BrowserDomAdapter.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},BrowserDomAdapter.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},BrowserDomAdapter.prototype.getComputedStyle=function(e){return getComputedStyle(e)},BrowserDomAdapter.prototype.setGlobalVar=function(e,t){o.setValueOnPath(o.global,e,t)},BrowserDomAdapter.prototype.requestAnimationFrame=function(e){return window.requestAnimationFrame(e)},BrowserDomAdapter.prototype.cancelAnimationFrame=function(e){window.cancelAnimationFrame(e)},BrowserDomAdapter.prototype.performanceNow=function(){return o.isPresent(window.performance)&&o.isPresent(window.performance.now)?window.performance.now():o.DateWrapper.toMillis(o.DateWrapper.now())},BrowserDomAdapter}(s.GenericBrowserDomAdapter);t.BrowserDomAdapter=h;var f=null,d=null},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(16),o=n(8),a=n(172),s=n(190),c=function(e){function GenericBrowserDomAdapter(){var t=this;e.call(this),this._animationPrefix=null,this._transitionEnd=null;try{var n=this.createElement("div",this.defaultDoc());if(o.isPresent(this.getStyle(n,"animationName")))this._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],a=0;a<r.length;a++)if(o.isPresent(this.getStyle(n,r[a]+"AnimationName"))){this._animationPrefix="-"+r[a].toLowerCase()+"-";break}var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};i.StringMapWrapper.forEach(s,function(e,r){o.isPresent(t.getStyle(n,r))&&(t._transitionEnd=e)})}catch(c){this._animationPrefix=null,this._transitionEnd=null}}return r(GenericBrowserDomAdapter,e),GenericBrowserDomAdapter.prototype.getXHR=function(){return s.XHRImpl},GenericBrowserDomAdapter.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},GenericBrowserDomAdapter.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},GenericBrowserDomAdapter.prototype.supportsDOMEvents=function(){return!0},GenericBrowserDomAdapter.prototype.supportsNativeShadowDOM=function(){return o.isFunction(this.defaultDoc().body.createShadowRoot)},GenericBrowserDomAdapter.prototype.getAnimationPrefix=function(){return o.isPresent(this._animationPrefix)?this._animationPrefix:""},GenericBrowserDomAdapter.prototype.getTransitionEnd=function(){return o.isPresent(this._transitionEnd)?this._transitionEnd:""},GenericBrowserDomAdapter.prototype.supportsAnimation=function(){return o.isPresent(this._animationPrefix)&&o.isPresent(this._transitionEnd)},GenericBrowserDomAdapter}(a.DomAdapter);t.GenericBrowserDomAdapter=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(57),o=n(8),a=n(28),s=function(e){function XHRImpl(){e.apply(this,arguments)}return r(XHRImpl,e),XHRImpl.prototype.get=function(e){var t=i.PromiseWrapper.completer(),n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="text",n.onload=function(){var r=o.isPresent(n.response)?n.response:n.responseText,i=1223===n.status?204:n.status;0===i&&(i=r?200:0),i>=200&&300>=i?t.resolve(r):t.reject("Failed to load "+e,null)},n.onerror=function(){t.reject("Failed to load "+e,null)},n.send(),t.promise},XHRImpl}(a.XHR);t.XHRImpl=s},function(e,t,n){"use strict";var r=n(16),i=n(8),o=n(172),a=n(29),s=function(){function PublicTestability(e){this._testability=e}return PublicTestability.prototype.isStable=function(){return this._testability.isStable()},PublicTestability.prototype.whenStable=function(e){this._testability.whenStable(e)},PublicTestability.prototype.findBindings=function(e,t,n){return this.findProviders(e,t,n)},PublicTestability.prototype.findProviders=function(e,t,n){return this._testability.findBindings(e,t,n)},PublicTestability}(),c=function(){function BrowserGetTestability(){}return BrowserGetTestability.init=function(){a.setTestabilityGetter(new BrowserGetTestability)},BrowserGetTestability.prototype.addToWindow=function(e){i.global.getAngularTestability=function(t,n){void 0===n&&(n=!0);var r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return new s(r)},i.global.getAllAngularTestabilities=function(){var t=e.getAllTestabilities();return t.map(function(e){return new s(e)})},i.global.getAllAngularRootElements=function(){return e.getAllRootElements()};var t=function(e){var t=i.global.getAllAngularTestabilities(),n=t.length,r=!1,o=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(o)})};i.global.frameworkStabilizers||(i.global.frameworkStabilizers=r.ListWrapper.createGrowableSize(0)),i.global.frameworkStabilizers.push(t)},BrowserGetTestability.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return i.isPresent(r)?r:n?o.DOM.isShadowRoot(t)?this.findTestabilityInTree(e,o.DOM.getHost(t),!0):this.findTestabilityInTree(e,o.DOM.parentElement(t),!0):null},BrowserGetTestability}();t.BrowserGetTestability=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(28),o=n(18),a=n(8),s=n(57),c=function(e){function CachedXHR(){if(e.call(this),this._cache=a.global.$templateCache,null==this._cache)throw new o.BaseException("CachedXHR: Template cache was not found in $templateCache.")}return r(CachedXHR,e),CachedXHR.prototype.get=function(e){return this._cache.hasOwnProperty(e)?s.PromiseWrapper.resolve(this._cache[e]):s.PromiseWrapper.reject("CachedXHR: Did not find cached template for "+e,null)},CachedXHR}(i.XHR);t.CachedXHR=c},function(e,t){"use strict";function wtfInit(){}t.wtfInit=wtfInit},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(172);t.DOM=r.DOM,t.setRootDomAdapter=r.setRootDomAdapter,t.DomAdapter=r.DomAdapter;var i=n(179);t.DomRenderer=i.DomRenderer;var o=n(178);t.DOCUMENT=o.DOCUMENT;var a=n(187);t.SharedStylesHost=a.SharedStylesHost,t.DomSharedStylesHost=a.DomSharedStylesHost;var s=n(173);t.DomEventsPlugin=s.DomEventsPlugin;var c=n(174);t.EVENT_MANAGER_PLUGINS=c.EVENT_MANAGER_PLUGINS,t.EventManager=c.EventManager,t.EventManagerPlugin=c.EventManagerPlugin,__export(n(195)),__export(n(196))},function(e,t,n){"use strict";var r=n(8),i=n(172),o=function(){function By(){}return By.all=function(){return function(e){return!0}},By.css=function(e){return function(t){return r.isPresent(t.nativeElement)?i.DOM.elementMatches(t.nativeElement,e):!1}},By.directive=function(e){return function(t){return-1!==t.providerTokens.indexOf(e)}},By}();t.By=o},function(e,t,n){"use strict";function inspectNativeElement(e){return a.getDebugNode(e)}function _createConditionalRootRenderer(e){return r.assertionsEnabled()?_createRootRenderer(e):e}function _createRootRenderer(e){return o.DOM.setGlobalVar(p,inspectNativeElement),o.DOM.setGlobalVar(h,l),new u.DebugDomRootRenderer(e)}var r=n(8),i=n(10),o=n(172),a=n(117),s=n(179),c=n(29),u=n(197),l=r.CONST_EXPR({ApplicationRef:c.ApplicationRef,NgZone:c.NgZone}),p="ng.probe",h="ng.coreTokens";t.inspectNativeElement=inspectNativeElement,t.ELEMENT_PROBE_PROVIDERS=r.CONST_EXPR([new i.Provider(c.RootRenderer,{useFactory:_createConditionalRootRenderer,deps:[s.DomRootRenderer]})]),t.ELEMENT_PROBE_PROVIDERS_PROD_MODE=r.CONST_EXPR([new i.Provider(c.RootRenderer,{useFactory:_createRootRenderer,deps:[s.DomRootRenderer]})])},function(e,t,n){"use strict";var r=n(8),i=n(117),o=function(){function DebugDomRootRenderer(e){this._delegate=e}return DebugDomRootRenderer.prototype.renderComponent=function(e){return new a(this,this._delegate.renderComponent(e))},DebugDomRootRenderer}();t.DebugDomRootRenderer=o;var a=function(){function DebugDomRenderer(e,t){this._rootRenderer=e,this._delegate=t}return DebugDomRenderer.prototype.renderComponent=function(e){return this._rootRenderer.renderComponent(e)},DebugDomRenderer.prototype.selectRootElement=function(e){var t=this._delegate.selectRootElement(e),n=new i.DebugElement(t,null);return i.indexDebugNode(n),t},DebugDomRenderer.prototype.createElement=function(e,t){var n=this._delegate.createElement(e,t),r=new i.DebugElement(n,i.getDebugNode(e));return r.name=t,i.indexDebugNode(r),n},DebugDomRenderer.prototype.createViewRoot=function(e){return this._delegate.createViewRoot(e)},DebugDomRenderer.prototype.createTemplateAnchor=function(e){var t=this._delegate.createTemplateAnchor(e),n=new i.DebugNode(t,i.getDebugNode(e));return i.indexDebugNode(n),t},DebugDomRenderer.prototype.createText=function(e,t){var n=this._delegate.createText(e,t),r=new i.DebugNode(n,i.getDebugNode(e));return i.indexDebugNode(r),n},DebugDomRenderer.prototype.projectNodes=function(e,t){var n=i.getDebugNode(e);if(r.isPresent(n)&&n instanceof i.DebugElement){var o=n;t.forEach(function(e){o.addChild(i.getDebugNode(e))})}this._delegate.projectNodes(e,t)},DebugDomRenderer.prototype.attachViewAfter=function(e,t){var n=i.getDebugNode(e);if(r.isPresent(n)){var o=n.parent;if(t.length>0&&r.isPresent(o)){var a=[];t.forEach(function(e){return a.push(i.getDebugNode(e))}),o.insertChildrenAfter(n,a)}}this._delegate.attachViewAfter(e,t)},DebugDomRenderer.prototype.detachView=function(e){e.forEach(function(e){var t=i.getDebugNode(e);r.isPresent(t)&&r.isPresent(t.parent)&&t.parent.removeChild(t)}),this._delegate.detachView(e)},DebugDomRenderer.prototype.destroyView=function(e,t){t.forEach(function(e){i.removeDebugNodeFromIndex(i.getDebugNode(e))}),this._delegate.destroyView(e,t)},DebugDomRenderer.prototype.listen=function(e,t,n){var o=i.getDebugNode(e);return r.isPresent(o)&&o.listeners.push(new i.EventListener(t,n)),this._delegate.listen(e,t,n)},DebugDomRenderer.prototype.listenGlobal=function(e,t,n){return this._delegate.listenGlobal(e,t,n)},DebugDomRenderer.prototype.setElementProperty=function(e,t,n){var o=i.getDebugNode(e);r.isPresent(o)&&o instanceof i.DebugElement&&o.properties.set(t,n),this._delegate.setElementProperty(e,t,n)},DebugDomRenderer.prototype.setElementAttribute=function(e,t,n){var o=i.getDebugNode(e);r.isPresent(o)&&o instanceof i.DebugElement&&o.attributes.set(t,n),this._delegate.setElementAttribute(e,t,n)},DebugDomRenderer.prototype.setBindingDebugInfo=function(e,t,n){this._delegate.setBindingDebugInfo(e,t,n)},DebugDomRenderer.prototype.setElementDebugInfo=function(e,t){var n=i.getDebugNode(e);n.setDebugInfo(t),this._delegate.setElementDebugInfo(e,t)},DebugDomRenderer.prototype.setElementClass=function(e,t,n){this._delegate.setElementClass(e,t,n)},DebugDomRenderer.prototype.setElementStyle=function(e,t,n){this._delegate.setElementStyle(e,t,n)},DebugDomRenderer.prototype.invokeElementMethod=function(e,t,n){this._delegate.invokeElementMethod(e,t,n)},DebugDomRenderer.prototype.setText=function(e,t){this._delegate.setText(e,t)},DebugDomRenderer}();t.DebugDomRenderer=a},function(e,t,n){"use strict";var r=n(172),i=function(){function Title(){}return Title.prototype.getTitle=function(){return r.DOM.getTitle()},Title.prototype.setTitle=function(e){r.DOM.setTitle(e)},Title}();t.Title=i},function(e,t,n){"use strict";function enableDebugTools(e){o.ng=new i.AngularTools(e)}function disableDebugTools(){delete o.ng}var r=n(8),i=n(200),o=r.global;t.enableDebugTools=enableDebugTools,t.disableDebugTools=disableDebugTools},function(e,t,n){"use strict";var r=n(90),i=n(8),o=n(201),a=n(172),s=function(){function AngularTools(e){this.profiler=new c(e)}return AngularTools}();t.AngularTools=s;var c=function(){function AngularProfiler(e){this.appRef=e.injector.get(r.ApplicationRef)}return AngularProfiler.prototype.timeChangeDetection=function(e){var t=i.isPresent(e)&&e.record,n="Change Detection",r=i.isPresent(o.window.console.profile);t&&r&&o.window.console.profile(n);for(var s=a.DOM.performanceNow(),c=0;5>c||a.DOM.performanceNow()-s<500;)this.appRef.tick(),c++;var u=a.DOM.performanceNow();t&&r&&o.window.console.profileEnd(n);var l=(u-s)/c;o.window.console.log("ran "+c+" change detection cycles"),o.window.console.log(i.NumberWrapper.toFixed(l,2)+" ms per check")},AngularProfiler}();t.AngularProfiler=c},function(e,t){"use strict";var n=window;t.window=n,t.document=window.document,t.location=window.location,t.gc=window.gc?function(){return window.gc()}:function(){return null},t.performance=window.performance?window.performance:null,t.Event=window.Event,t.MouseEvent=window.MouseEvent,t.KeyboardEvent=window.KeyboardEvent,t.EventTarget=window.EventTarget,t.History=window.History,t.Location=window.Location,t.EventListener=window.EventListener},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}__export(n(203)),__export(n(28)),__export(n(204))},function(e,t,n){"use strict";function createWithoutPackagePrefix(){return new l}function getUrlScheme(e){var t=_split(e);return t&&t[p.Scheme]||""}function _buildFromEncodedParts(e,t,n,r,i,o,a){var c=[];return s.isPresent(e)&&c.push(e+":"),s.isPresent(n)&&(c.push("//"),s.isPresent(t)&&c.push(t+"@"),c.push(n),s.isPresent(r)&&c.push(":"+r)),s.isPresent(i)&&c.push(i),s.isPresent(o)&&c.push("?"+o),s.isPresent(a)&&c.push("#"+a),c.join("")}function _split(e){return s.RegExpWrapper.firstMatch(h,e)}function _removeDotSegments(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[],o=0,a=0;a<r.length;a++){var s=r[a];switch(s){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(s)}}if(""==t){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}function _joinAndCanonicalizePath(e){var t=e[p.Path];return t=s.isBlank(t)?"":_removeDotSegments(t),e[p.Path]=t,_buildFromEncodedParts(e[p.Scheme],e[p.UserInfo],e[p.Domain],e[p.Port],t,e[p.QueryData],e[p.Fragment])}function _resolveUrl(e,t){var n=_split(encodeURI(t)),r=_split(e);if(s.isPresent(n[p.Scheme]))return _joinAndCanonicalizePath(n);n[p.Scheme]=r[p.Scheme];for(var i=p.Scheme;i<=p.Port;i++)s.isBlank(n[i])&&(n[i]=r[i]);if("/"==n[p.Path][0])return _joinAndCanonicalizePath(n);var o=r[p.Path];s.isBlank(o)&&(o="/");var a=o.lastIndexOf("/");return o=o.substring(0,a+1)+n[p.Path],n[p.Path]=o,_joinAndCanonicalizePath(n)}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(10),s=n(8),c=n(93),u=n(10);t.createWithoutPackagePrefix=createWithoutPackagePrefix,t.DEFAULT_PACKAGE_URL_PROVIDER=new u.Provider(c.PACKAGE_ROOT_URL,{useValue:"/"});var l=function(){function UrlResolver(e){void 0===e&&(e=null),s.isPresent(e)&&(this._packagePrefix=s.StringWrapper.stripRight(e,"/")+"/")}return UrlResolver.prototype.resolve=function(e,t){var n=t;return s.isPresent(e)&&e.length>0&&(n=_resolveUrl(e,n)),s.isPresent(this._packagePrefix)&&"package"==getUrlScheme(n)&&(n=n.replace("package:",this._packagePrefix)),n},UrlResolver=r([a.Injectable(),o(0,a.Inject(c.PACKAGE_ROOT_URL)),i("design:paramtypes",[String])],UrlResolver)}();t.UrlResolver=l,t.getUrlScheme=getUrlScheme;var p,h=s.RegExpWrapper.create("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(p||(p={}))},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function _createChangeDetectorGenConfig(){return new b.ChangeDetectorGenConfig(u.assertionsEnabled(),!1,!0)}var r=n(205),i=n(206);t.TemplateCompiler=i.TemplateCompiler;var o=n(207);t.CompileDirectiveMetadata=o.CompileDirectiveMetadata,t.CompileTypeMetadata=o.CompileTypeMetadata,t.CompileTemplateMetadata=o.CompileTemplateMetadata;var a=n(212);t.SourceModule=a.SourceModule,t.SourceWithImports=a.SourceWithImports;var s=n(118);t.PLATFORM_DIRECTIVES=s.PLATFORM_DIRECTIVES,t.PLATFORM_PIPES=s.PLATFORM_PIPES,__export(n(211));var c=n(221);t.TEMPLATE_TRANSFORMS=c.TEMPLATE_TRANSFORMS;var u=n(8),l=n(10),p=n(221),h=n(222),f=n(229),d=n(230),y=n(213),m=n(216),g=n(219),v=n(220),_=n(206),b=n(34),w=n(96),C=n(205),P=n(227),R=n(233),S=n(203),E=n(34);t.COMPILER_PROVIDERS=u.CONST_EXPR([E.Lexer,E.Parser,h.HtmlParser,p.TemplateParser,f.TemplateNormalizer,d.RuntimeMetadataResolver,S.DEFAULT_PACKAGE_URL_PROVIDER,m.StyleCompiler,v.ProtoViewCompiler,g.ViewCompiler,y.ChangeDetectionCompiler,new l.Provider(b.ChangeDetectorGenConfig,{useFactory:_createChangeDetectorGenConfig,deps:[]}),_.TemplateCompiler,new l.Provider(C.RuntimeCompiler,{useClass:r.RuntimeCompiler_}),new l.Provider(w.Compiler,{useExisting:C.RuntimeCompiler}),R.DomElementSchemaRegistry,new l.Provider(P.ElementSchemaRegistry,{useExisting:R.DomElementSchemaRegistry}),S.UrlResolver])},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(96),s=n(106),c=n(206),u=n(10),l=function(e){function RuntimeCompiler(){e.apply(this,arguments)}return r(RuntimeCompiler,e),RuntimeCompiler}(a.Compiler);t.RuntimeCompiler=l;var p=function(e){function RuntimeCompiler_(t){e.call(this),this._templateCompiler=t}return r(RuntimeCompiler_,e),RuntimeCompiler_.prototype.compileInHost=function(e){return this._templateCompiler.compileHostComponentRuntime(e).then(function(e){return new s.HostViewFactoryRef_(e)})},RuntimeCompiler_.prototype.clearCache=function(){e.prototype.clearCache.call(this),this._templateCompiler.clearCache()},RuntimeCompiler_=i([u.Injectable(),o("design:paramtypes",[c.TemplateCompiler])],RuntimeCompiler_)}(a.Compiler_);t.RuntimeCompiler_=p},function(e,t,n){"use strict";function assertComponent(e){if(!e.isComponent)throw new a.BaseException("Could not compile '"+e.type.name+"' because it is not a component.")}function templateModuleUrl(e){var t=e.substring(0,e.length-P.MODULE_SUFFIX.length);return t+".template"+P.MODULE_SUFFIX}function codeGenHostViewFactoryName(e){return"hostViewFactory_"+e.name}function codeGenComponentViewFactoryName(e){return h.moduleRef(templateModuleUrl(e.type.moduleUrl))+"viewFactory_"+e.type.name+"0"}function mergeStringMaps(e){var t={};return e.forEach(function(e){s.StringMapWrapper.forEach(e,function(e,n){t[n]=e})}),t}function removeDuplicates(e){var t=[];return e.forEach(function(e){var n=t.filter(function(t){return t.type.name==e.type.name&&t.type.moduleUrl==e.type.moduleUrl&&t.type.runtime==e.type.runtime}).length>0;n||t.push(e)}),t}function filterPipes(e,t){var n=new A;return l.templateVisitAll(n,e),t.filter(function(e){return s.SetWrapper.has(n.collector.pipes,e.name)})}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(18),s=n(16),c=n(56),u=n(207),l=n(211),p=n(10),h=n(212),f=n(213),d=n(216),y=n(219),m=n(220),g=n(221),v=n(229),_=n(230),b=n(97),w=n(34),C=n(121),P=n(209);t.METADATA_CACHE_MODULE_REF=h.moduleRef("package:angular2/src/core/linker/resolved_metadata_cache"+P.MODULE_SUFFIX);var R=function(){function TemplateCompiler(e,t,n,r,i,o,a,s,c){this._runtimeMetadataResolver=e,this._templateNormalizer=t,this._templateParser=n,this._styleCompiler=r,this._cdCompiler=i,this._protoViewCompiler=o,this._viewCompiler=a,this._resolvedMetadataCache=s,this._genConfig=c,this._hostCacheKeys=new Map,this._compiledTemplateCache=new Map,this._compiledTemplateDone=new Map}return TemplateCompiler.prototype.normalizeDirectiveMetadata=function(e){return e.isComponent?this._templateNormalizer.normalizeTemplate(e.type,e.template).then(function(t){return new u.CompileDirectiveMetadata({type:e.type,isComponent:e.isComponent,dynamicLoadable:e.dynamicLoadable,selector:e.selector,exportAs:e.exportAs,changeDetection:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,lifecycleHooks:e.lifecycleHooks,providers:e.providers,viewProviders:e.viewProviders,queries:e.queries,viewQueries:e.viewQueries,template:t})}):c.PromiseWrapper.resolve(e)},TemplateCompiler.prototype.compileHostComponentRuntime=function(e){var t=this._runtimeMetadataResolver.getDirectiveMetadata(e),n=this._hostCacheKeys.get(e);if(o.isBlank(n)){n=new Object,this._hostCacheKeys.set(e,n),assertComponent(t);var r=u.createHostComponentMeta(t.type,t.selector);this._compileComponentRuntime(n,r,[t],[],[])}return this._compiledTemplateDone.get(n).then(function(e){return new b.HostViewFactory(t.selector,e.viewFactory)})},TemplateCompiler.prototype.clearCache=function(){this._styleCompiler.clearCache(),this._compiledTemplateCache.clear(),this._compiledTemplateDone.clear(),this._hostCacheKeys.clear()},TemplateCompiler.prototype.compileTemplatesCodeGen=function(e){var t=this;if(0===e.length)throw new a.BaseException("No components given");var n=[];e.forEach(function(e){var r=e.component;if(assertComponent(r),t._compileComponentCodeGen(r,e.directives,e.pipes,n),r.dynamicLoadable){var i=u.createHostComponentMeta(r.type,r.selector),a=t._compileComponentCodeGen(i,[r],[],n),s=o.IS_DART?"const":"new",c=s+" "+m.APP_VIEW_MODULE_REF+"HostViewFactory('"+r.selector+"',"+a+")",l=codeGenHostViewFactoryName(r.type);n.push(""+P.codeGenExportVariable(l)+c+";")}});var r=e[0].component.type.moduleUrl;return new h.SourceModule(""+templateModuleUrl(r),n.join("\n"))},TemplateCompiler.prototype.compileStylesheetCodeGen=function(e,t){return this._styleCompiler.compileStylesheetCodeGen(e,t)},TemplateCompiler.prototype._compileComponentRuntime=function(e,t,n,r,i){var a=this,s=removeDuplicates(n),u=removeDuplicates(r),l=this._compiledTemplateCache.get(e),p=this._compiledTemplateDone.get(e);return o.isBlank(l)&&(l=new E,this._compiledTemplateCache.set(e,l),p=c.PromiseWrapper.all([this._styleCompiler.compileComponentRuntime(t.template)].concat(s.map(function(e){return a.normalizeDirectiveMetadata(e)}))).then(function(e){var n=e.slice(1),r=e[0],o=a._templateParser.parse(t.template.template,n,u,t.type.name),s=[],p=D.findUsedDirectives(o);return p.components.forEach(function(e){return a._compileNestedComponentRuntime(e,i,s)}),c.PromiseWrapper.all(s).then(function(e){var n=filterPipes(o,u);return l.init(a._createViewFactoryRuntime(t,o,p.directives,r,n)),l})}),this._compiledTemplateDone.set(e,p)),l},TemplateCompiler.prototype._compileNestedComponentRuntime=function(e,t,n){var r=s.ListWrapper.clone(t),i=e.type.runtime,o=this._runtimeMetadataResolver.getViewDirectivesMetadata(e.type.runtime),a=this._runtimeMetadataResolver.getViewPipesMetadata(e.type.runtime),c=s.ListWrapper.contains(r,i);r.push(i),this._compileComponentRuntime(i,e,o,a,r),c||n.push(this._compiledTemplateDone.get(i))},TemplateCompiler.prototype._createViewFactoryRuntime=function(e,t,n,r,i){var a=this;if(o.IS_DART||!this._genConfig.useJit){var s=this._cdCompiler.compileComponentRuntime(e.type,e.changeDetection,t),c=this._protoViewCompiler.compileProtoViewRuntime(this._resolvedMetadataCache,e,t,i);return this._viewCompiler.compileComponentRuntime(e,t,r,c.protoViews,s,function(e){return a._getNestedComponentViewFactory(e)})}var u=[],l=this._createViewFactoryCodeGen("resolvedMetadataCache",e,new h.SourceExpression([],"styles"),t,i,u),p={exports:{},styles:r,resolvedMetadataCache:this._resolvedMetadataCache};n.forEach(function(t){p[t.type.name]=t.type.runtime,t.isComponent&&t.type.runtime!==e.type.runtime&&(p["viewFactory_"+t.type.name+"0"]=a._getNestedComponentViewFactory(t))}),i.forEach(function(e){return p[e.type.name]=e.type.runtime});var d=h.SourceModule.getSourceWithoutImports(u.join("\n"));return o.evalExpression("viewFactory_"+e.type.name,l,d,mergeStringMaps([p,f.CHANGE_DETECTION_JIT_IMPORTS,m.PROTO_VIEW_JIT_IMPORTS,y.VIEW_JIT_IMPORTS]))},TemplateCompiler.prototype._getNestedComponentViewFactory=function(e){return this._compiledTemplateCache.get(e.type.runtime).viewFactory},TemplateCompiler.prototype._compileComponentCodeGen=function(e,n,r,i){var o=removeDuplicates(n),a=removeDuplicates(r),s=this._styleCompiler.compileComponentCodeGen(e.template),c=this._templateParser.parse(e.template.template,o,a,e.type.name),u=filterPipes(c,a);return this._createViewFactoryCodeGen(t.METADATA_CACHE_MODULE_REF+"CODEGEN_RESOLVED_METADATA_CACHE",e,s,c,u,i)},TemplateCompiler.prototype._createViewFactoryCodeGen=function(e,t,n,r,i,o){var a=this._cdCompiler.compileComponentCodeGen(t.type,t.changeDetection,r),s=this._protoViewCompiler.compileProtoViewCodeGen(new P.Expression(e),t,r,i),c=this._viewCompiler.compileComponentCodeGen(t,r,n,s.protoViews,a,codeGenComponentViewFactoryName);return P.addAll(a.declarations,o),P.addAll(s.declarations,o),P.addAll(c.declarations,o),c.expression},TemplateCompiler=r([p.Injectable(),i("design:paramtypes",[_.RuntimeMetadataResolver,v.TemplateNormalizer,g.TemplateParser,d.StyleCompiler,f.ChangeDetectionCompiler,m.ProtoViewCompiler,y.ViewCompiler,C.ResolvedMetadataCache,w.ChangeDetectorGenConfig])],TemplateCompiler)}();t.TemplateCompiler=R;var S=function(){function NormalizedComponentWithViewDirectives(e,t,n){this.component=e,this.directives=t,this.pipes=n}return NormalizedComponentWithViewDirectives}();t.NormalizedComponentWithViewDirectives=S;
var E=function(){function CompiledTemplate(){this.viewFactory=null}return CompiledTemplate.prototype.init=function(e){this.viewFactory=e},CompiledTemplate}(),D=function(){function DirectiveCollector(){this.directives=[],this.components=[]}return DirectiveCollector.findUsedDirectives=function(e){var t=new DirectiveCollector;return l.templateVisitAll(t,e),t},DirectiveCollector.prototype.visitBoundText=function(e,t){return null},DirectiveCollector.prototype.visitText=function(e,t){return null},DirectiveCollector.prototype.visitNgContent=function(e,t){return null},DirectiveCollector.prototype.visitElement=function(e,t){return l.templateVisitAll(this,e.directives),l.templateVisitAll(this,e.children),null},DirectiveCollector.prototype.visitEmbeddedTemplate=function(e,t){return l.templateVisitAll(this,e.directives),l.templateVisitAll(this,e.children),null},DirectiveCollector.prototype.visitVariable=function(e,t){return null},DirectiveCollector.prototype.visitAttr=function(e,t){return null},DirectiveCollector.prototype.visitDirective=function(e,t){return e.directive.isComponent&&this.components.push(e.directive),this.directives.push(e.directive),null},DirectiveCollector.prototype.visitEvent=function(e,t){return null},DirectiveCollector.prototype.visitDirectiveProperty=function(e,t){return null},DirectiveCollector.prototype.visitElementProperty=function(e,t){return null},DirectiveCollector}(),A=function(){function PipeVisitor(){this.collector=new g.PipeCollector}return PipeVisitor.prototype.visitBoundText=function(e,t){return e.value.visit(this.collector),null},PipeVisitor.prototype.visitText=function(e,t){return null},PipeVisitor.prototype.visitNgContent=function(e,t){return null},PipeVisitor.prototype.visitElement=function(e,t){return l.templateVisitAll(this,e.inputs),l.templateVisitAll(this,e.outputs),l.templateVisitAll(this,e.directives),l.templateVisitAll(this,e.children),null},PipeVisitor.prototype.visitEmbeddedTemplate=function(e,t){return l.templateVisitAll(this,e.outputs),l.templateVisitAll(this,e.directives),l.templateVisitAll(this,e.children),null},PipeVisitor.prototype.visitVariable=function(e,t){return null},PipeVisitor.prototype.visitAttr=function(e,t){return null},PipeVisitor.prototype.visitDirective=function(e,t){return l.templateVisitAll(this,e.inputs),l.templateVisitAll(this,e.hostEvents),l.templateVisitAll(this,e.hostProperties),null},PipeVisitor.prototype.visitEvent=function(e,t){return e.handler.visit(this.collector),null},PipeVisitor.prototype.visitDirectiveProperty=function(e,t){return e.value.visit(this.collector),null},PipeVisitor.prototype.visitElementProperty=function(e,t){return e.value.visit(this.collector),null},PipeVisitor}()},function(e,t,n){"use strict";function metadataFromJson(e){return R[e["class"]](e)}function createHostComponentMeta(e,t){var n=u.CssSelector.parse(t)[0].getMatchingElementTemplate();return C.create({type:new _({runtime:Object,name:"Host"+e.name,moduleUrl:e.moduleUrl,isHost:!0}),template:new w({template:n,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[]}),changeDetection:s.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},lifecycleHooks:[],isComponent:!0,dynamicLoadable:!1,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[]})}function arrayFromJson(e,t){return i.isBlank(e)?null:e.map(function(e){return objFromJson(e,t)})}function arrayToJson(e){return i.isBlank(e)?null:e.map(objToJson)}function objFromJson(e,t){return i.isArray(e)?arrayFromJson(e,t):i.isString(e)||i.isBlank(e)||i.isBoolean(e)||i.isNumber(e)?e:t(e)}function objToJson(e){return i.isArray(e)?arrayToJson(e):i.isString(e)||i.isBlank(e)||i.isBoolean(e)||i.isNumber(e)?e:e.toJson()}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(18),a=n(16),s=n(34),c=n(86),u=n(208),l=n(209),p=n(210),h=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))$/g,f=function(){function CompileMetadataWithIdentifier(){}return Object.defineProperty(CompileMetadataWithIdentifier.prototype,"identifier",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithIdentifier}();t.CompileMetadataWithIdentifier=f;var d=function(e){function CompileMetadataWithType(){e.apply(this,arguments)}return r(CompileMetadataWithType,e),Object.defineProperty(CompileMetadataWithType.prototype,"type",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),Object.defineProperty(CompileMetadataWithType.prototype,"identifier",{get:function(){return o.unimplemented()},enumerable:!0,configurable:!0}),CompileMetadataWithType}(f);t.CompileMetadataWithType=d,t.metadataFromJson=metadataFromJson;var y=function(){function CompileIdentifierMetadata(e){var t=void 0===e?{}:e,n=t.runtime,r=t.name,i=t.moduleUrl,o=t.prefix,a=t.constConstructor,s=t.value;this.runtime=n,this.name=r,this.prefix=o,this.moduleUrl=i,this.constConstructor=a,this.value=s}return CompileIdentifierMetadata.fromJson=function(e){var t=i.isArray(e.value)?arrayFromJson(e.value,metadataFromJson):objFromJson(e.value,metadataFromJson);return new CompileIdentifierMetadata({name:e.name,prefix:e.prefix,moduleUrl:e.moduleUrl,constConstructor:e.constConstructor,value:t})},CompileIdentifierMetadata.prototype.toJson=function(){var e=i.isArray(this.value)?arrayToJson(this.value):objToJson(this.value);return{"class":"Identifier",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,constConstructor:this.constConstructor,value:e}},Object.defineProperty(CompileIdentifierMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileIdentifierMetadata}();t.CompileIdentifierMetadata=y;var m=function(){function CompileDiDependencyMetadata(e){var t=void 0===e?{}:e,n=t.isAttribute,r=t.isSelf,o=t.isHost,a=t.isSkipSelf,s=t.isOptional,c=t.query,u=t.viewQuery,l=t.token;this.isAttribute=i.normalizeBool(n),this.isSelf=i.normalizeBool(r),this.isHost=i.normalizeBool(o),this.isSkipSelf=i.normalizeBool(a),this.isOptional=i.normalizeBool(s),this.query=c,this.viewQuery=u,this.token=l}return CompileDiDependencyMetadata.fromJson=function(e){return new CompileDiDependencyMetadata({token:objFromJson(e.token,y.fromJson),query:objFromJson(e.query,b.fromJson),viewQuery:objFromJson(e.viewQuery,b.fromJson),isAttribute:e.isAttribute,isSelf:e.isSelf,isHost:e.isHost,isSkipSelf:e.isSkipSelf,isOptional:e.isOptional})},CompileDiDependencyMetadata.prototype.toJson=function(){return{token:objToJson(this.token),query:objToJson(this.query),viewQuery:objToJson(this.viewQuery),isAttribute:this.isAttribute,isSelf:this.isSelf,isHost:this.isHost,isSkipSelf:this.isSkipSelf,isOptional:this.isOptional}},CompileDiDependencyMetadata}();t.CompileDiDependencyMetadata=m;var g=function(){function CompileProviderMetadata(e){var t=e.token,n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,a=e.deps,s=e.multi;this.token=t,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.deps=a,this.multi=s}return CompileProviderMetadata.fromJson=function(e){return new CompileProviderMetadata({token:objFromJson(e.token,y.fromJson),useClass:objFromJson(e.useClass,_.fromJson),useExisting:objFromJson(e.useExisting,y.fromJson),useValue:objFromJson(e.useValue,y.fromJson),useFactory:objFromJson(e.useFactory,v.fromJson)})},CompileProviderMetadata.prototype.toJson=function(){return{"class":"Provider",token:objToJson(this.token),useClass:objToJson(this.useClass),useExisting:objToJson(this.useExisting),useValue:objToJson(this.useValue),useFactory:objToJson(this.useFactory)}},CompileProviderMetadata}();t.CompileProviderMetadata=g;var v=function(){function CompileFactoryMetadata(e){var t=e.runtime,n=e.name,r=e.moduleUrl,i=e.prefix,o=e.constConstructor,a=e.diDeps,s=e.value;this.runtime=t,this.name=n,this.prefix=i,this.moduleUrl=r,this.diDeps=a,this.constConstructor=o,this.value=s}return Object.defineProperty(CompileFactoryMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),CompileFactoryMetadata.fromJson=function(e){return new CompileFactoryMetadata({name:e.name,prefix:e.prefix,moduleUrl:e.moduleUrl,constConstructor:e.constConstructor,value:e.value,diDeps:arrayFromJson(e.diDeps,m.fromJson)})},CompileFactoryMetadata.prototype.toJson=function(){return{"class":"Factory",name:this.name,prefix:this.prefix,moduleUrl:this.moduleUrl,constConstructor:this.constConstructor,value:this.value,diDeps:arrayToJson(this.diDeps)}},CompileFactoryMetadata}();t.CompileFactoryMetadata=v;var _=function(){function CompileTypeMetadata(e){var t=void 0===e?{}:e,n=t.runtime,r=t.name,o=t.moduleUrl,a=t.prefix,s=t.isHost,c=t.constConstructor,u=t.value,l=t.diDeps;this.runtime=n,this.name=r,this.moduleUrl=o,this.prefix=a,this.isHost=i.normalizeBool(s),this.constConstructor=c,this.value=u,this.diDeps=i.normalizeBlank(l)}return CompileTypeMetadata.fromJson=function(e){return new CompileTypeMetadata({name:e.name,moduleUrl:e.moduleUrl,prefix:e.prefix,isHost:e.isHost,constConstructor:e.constConstructor,value:e.value,diDeps:arrayFromJson(e.diDeps,m.fromJson)})},Object.defineProperty(CompileTypeMetadata.prototype,"identifier",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(CompileTypeMetadata.prototype,"type",{get:function(){return this},enumerable:!0,configurable:!0}),CompileTypeMetadata.prototype.toJson=function(){return{"class":"Type",name:this.name,moduleUrl:this.moduleUrl,prefix:this.prefix,isHost:this.isHost,constConstructor:this.constConstructor,value:this.value,diDeps:arrayToJson(this.diDeps)}},CompileTypeMetadata}();t.CompileTypeMetadata=_;var b=function(){function CompileQueryMetadata(e){var t=void 0===e?{}:e,n=t.selectors,r=t.descendants,o=t.first,a=t.propertyName;this.selectors=n,this.descendants=r,this.first=i.normalizeBool(o),this.propertyName=a}return CompileQueryMetadata.fromJson=function(e){return new CompileQueryMetadata({selectors:arrayFromJson(e.selectors,y.fromJson),descendants:e.descendants,first:e.first,propertyName:e.propertyName})},CompileQueryMetadata.prototype.toJson=function(){return{selectors:arrayToJson(this.selectors),descendants:this.descendants,first:this.first,propertyName:this.propertyName}},CompileQueryMetadata}();t.CompileQueryMetadata=b;var w=function(){function CompileTemplateMetadata(e){var t=void 0===e?{}:e,n=t.encapsulation,r=t.template,o=t.templateUrl,a=t.styles,s=t.styleUrls,u=t.ngContentSelectors;this.encapsulation=i.isPresent(n)?n:c.ViewEncapsulation.Emulated,this.template=r,this.templateUrl=o,this.styles=i.isPresent(a)?a:[],this.styleUrls=i.isPresent(s)?s:[],this.ngContentSelectors=i.isPresent(u)?u:[]}return CompileTemplateMetadata.fromJson=function(e){return new CompileTemplateMetadata({encapsulation:i.isPresent(e.encapsulation)?c.VIEW_ENCAPSULATION_VALUES[e.encapsulation]:e.encapsulation,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,ngContentSelectors:e.ngContentSelectors})},CompileTemplateMetadata.prototype.toJson=function(){return{encapsulation:i.isPresent(this.encapsulation)?i.serializeEnum(this.encapsulation):this.encapsulation,template:this.template,templateUrl:this.templateUrl,styles:this.styles,styleUrls:this.styleUrls,ngContentSelectors:this.ngContentSelectors}},CompileTemplateMetadata}();t.CompileTemplateMetadata=w;var C=function(){function CompileDirectiveMetadata(e){var t=void 0===e?{}:e,n=t.type,r=t.isComponent,o=t.dynamicLoadable,a=t.selector,s=t.exportAs,c=t.changeDetection,u=t.inputs,l=t.outputs,p=t.hostListeners,h=t.hostProperties,f=t.hostAttributes,d=t.lifecycleHooks,y=t.providers,m=t.viewProviders,g=t.queries,v=t.viewQueries,_=t.template;this.type=n,this.isComponent=r,this.dynamicLoadable=o,this.selector=a,this.exportAs=s,this.changeDetection=c,this.inputs=u,this.outputs=l,this.hostListeners=p,this.hostProperties=h,this.hostAttributes=f,this.lifecycleHooks=d,this.providers=i.normalizeBlank(y),this.viewProviders=i.normalizeBlank(m),this.queries=i.normalizeBlank(g),this.viewQueries=i.normalizeBlank(v),this.template=_}return CompileDirectiveMetadata.create=function(e){var t=void 0===e?{}:e,n=t.type,r=t.isComponent,o=t.dynamicLoadable,s=t.selector,c=t.exportAs,u=t.changeDetection,p=t.inputs,f=t.outputs,d=t.host,y=t.lifecycleHooks,m=t.providers,g=t.viewProviders,v=t.queries,_=t.viewQueries,b=t.template,w={},C={},P={};i.isPresent(d)&&a.StringMapWrapper.forEach(d,function(e,t){var n=i.RegExpWrapper.firstMatch(h,t);i.isBlank(n)?P[t]=e:i.isPresent(n[1])?C[n[1]]=e:i.isPresent(n[2])&&(w[n[2]]=e)});var R={};i.isPresent(p)&&p.forEach(function(e){var t=l.splitAtColon(e,[e,e]);R[t[0]]=t[1]});var S={};return i.isPresent(f)&&f.forEach(function(e){var t=l.splitAtColon(e,[e,e]);S[t[0]]=t[1]}),new CompileDirectiveMetadata({type:n,isComponent:i.normalizeBool(r),dynamicLoadable:i.normalizeBool(o),selector:s,exportAs:c,changeDetection:u,inputs:R,outputs:S,hostListeners:w,hostProperties:C,hostAttributes:P,lifecycleHooks:i.isPresent(y)?y:[],providers:m,viewProviders:g,queries:v,viewQueries:_,template:b})},Object.defineProperty(CompileDirectiveMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompileDirectiveMetadata.fromJson=function(e){return new CompileDirectiveMetadata({isComponent:e.isComponent,dynamicLoadable:e.dynamicLoadable,selector:e.selector,exportAs:e.exportAs,type:i.isPresent(e.type)?_.fromJson(e.type):e.type,changeDetection:i.isPresent(e.changeDetection)?s.CHANGE_DETECTION_STRATEGY_VALUES[e.changeDetection]:e.changeDetection,inputs:e.inputs,outputs:e.outputs,hostListeners:e.hostListeners,hostProperties:e.hostProperties,hostAttributes:e.hostAttributes,lifecycleHooks:e.lifecycleHooks.map(function(e){return p.LIFECYCLE_HOOKS_VALUES[e]}),template:i.isPresent(e.template)?w.fromJson(e.template):e.template,providers:arrayFromJson(e.providers,metadataFromJson),viewProviders:arrayFromJson(e.viewProviders,metadataFromJson),queries:arrayFromJson(e.queries,b.fromJson),viewQueries:arrayFromJson(e.viewQueries,b.fromJson)})},CompileDirectiveMetadata.prototype.toJson=function(){return{"class":"Directive",isComponent:this.isComponent,dynamicLoadable:this.dynamicLoadable,selector:this.selector,exportAs:this.exportAs,type:i.isPresent(this.type)?this.type.toJson():this.type,changeDetection:i.isPresent(this.changeDetection)?i.serializeEnum(this.changeDetection):this.changeDetection,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,lifecycleHooks:this.lifecycleHooks.map(function(e){return i.serializeEnum(e)}),template:i.isPresent(this.template)?this.template.toJson():this.template,providers:arrayToJson(this.providers),viewProviders:arrayToJson(this.viewProviders),queries:arrayToJson(this.queries),viewQueries:arrayToJson(this.viewQueries)}},CompileDirectiveMetadata}();t.CompileDirectiveMetadata=C,t.createHostComponentMeta=createHostComponentMeta;var P=function(){function CompilePipeMetadata(e){var t=void 0===e?{}:e,n=t.type,r=t.name,o=t.pure;this.type=n,this.name=r,this.pure=i.normalizeBool(o)}return Object.defineProperty(CompilePipeMetadata.prototype,"identifier",{get:function(){return this.type},enumerable:!0,configurable:!0}),CompilePipeMetadata.fromJson=function(e){return new CompilePipeMetadata({type:i.isPresent(e.type)?_.fromJson(e.type):e.type,name:e.name,pure:e.pure})},CompilePipeMetadata.prototype.toJson=function(){return{"class":"Pipe",type:i.isPresent(this.type)?this.type.toJson():null,name:this.name,pure:this.pure}},CompilePipeMetadata}();t.CompilePipeMetadata=P;var R={Directive:C.fromJson,Pipe:P.fromJson,Type:_.fromJson,Provider:g.fromJson,Identifier:y.fromJson,Factory:v.fromJson}},function(e,t,n){"use strict";var r=n(16),i=n(8),o=n(18),a="",s=i.RegExpWrapper.create("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-\\w*]+)(?:=([^\\]]*))?\\])|(\\))|(\\s*,\\s*)"),c=function(){function CssSelector(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return CssSelector.parse=function(e){for(var t,n=[],a=function(e,t){t.notSelectors.length>0&&i.isBlank(t.element)&&r.ListWrapper.isEmpty(t.classNames)&&r.ListWrapper.isEmpty(t.attrs)&&(t.element="*"),e.push(t)},c=new CssSelector,u=i.RegExpWrapper.matcher(s,e),l=c,p=!1;i.isPresent(t=i.RegExpMatcherWrapper.next(u));){if(i.isPresent(t[1])){if(p)throw new o.BaseException("Nesting :not is not allowed in a selector");p=!0,l=new CssSelector,c.notSelectors.push(l)}if(i.isPresent(t[2])&&l.setElement(t[2]),i.isPresent(t[3])&&l.addClassName(t[3]),i.isPresent(t[4])&&l.addAttribute(t[4],t[5]),i.isPresent(t[6])&&(p=!1,l=c),i.isPresent(t[7])){if(p)throw new o.BaseException("Multiple selectors in :not are not supported");a(n,c),c=l=new CssSelector}}return a(n,c),n},CssSelector.prototype.isElementSelector=function(){return i.isPresent(this.element)&&r.ListWrapper.isEmpty(this.classNames)&&r.ListWrapper.isEmpty(this.attrs)&&0===this.notSelectors.length},CssSelector.prototype.setElement=function(e){void 0===e&&(e=null),this.element=e},CssSelector.prototype.getMatchingElementTemplate=function(){for(var e=i.isPresent(this.element)?this.element:"div",t=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",n="",r=0;r<this.attrs.length;r+=2){var o=this.attrs[r],a=""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"";n+=" "+o+a}return"<"+e+t+n+"></"+e+">"},CssSelector.prototype.addAttribute=function(e,t){void 0===t&&(t=a),this.attrs.push(e),t=i.isPresent(t)?t.toLowerCase():a,this.attrs.push(t)},CssSelector.prototype.addClassName=function(e){this.classNames.push(e.toLowerCase())},CssSelector.prototype.toString=function(){var e="";if(i.isPresent(this.element)&&(e+=this.element),i.isPresent(this.classNames))for(var t=0;t<this.classNames.length;t++)e+="."+this.classNames[t];if(i.isPresent(this.attrs))for(var t=0;t<this.attrs.length;){var n=this.attrs[t++],r=this.attrs[t++];e+="["+n,r.length>0&&(e+="="+r),e+="]"}return this.notSelectors.forEach(function(t){return e+=":not("+t+")"}),e},CssSelector}();t.CssSelector=c;var u=function(){function SelectorMatcher(){this._elementMap=new r.Map,this._elementPartialMap=new r.Map,this._classMap=new r.Map,this._classPartialMap=new r.Map,this._attrValueMap=new r.Map,this._attrValuePartialMap=new r.Map,this._listContexts=[]}return SelectorMatcher.createNotMatcher=function(e){var t=new SelectorMatcher;return t.addSelectables(e,null),t},SelectorMatcher.prototype.addSelectables=function(e,t){var n=null;e.length>1&&(n=new l(e),this._listContexts.push(n));for(var r=0;r<e.length;r++)this._addSelectable(e[r],t,n)},SelectorMatcher.prototype._addSelectable=function(e,t,n){var o=this,a=e.element,s=e.classNames,c=e.attrs,u=new p(e,t,n);if(i.isPresent(a)){var l=0===c.length&&0===s.length;l?this._addTerminal(o._elementMap,a,u):o=this._addPartial(o._elementPartialMap,a)}if(i.isPresent(s))for(var h=0;h<s.length;h++){var l=0===c.length&&h===s.length-1,f=s[h];l?this._addTerminal(o._classMap,f,u):o=this._addPartial(o._classPartialMap,f)}if(i.isPresent(c))for(var h=0;h<c.length;){var l=h===c.length-2,d=c[h++],y=c[h++];if(l){var m=o._attrValueMap,g=m.get(d);i.isBlank(g)&&(g=new r.Map,m.set(d,g)),this._addTerminal(g,y,u)}else{var v=o._attrValuePartialMap,_=v.get(d);i.isBlank(_)&&(_=new r.Map,v.set(d,_)),o=this._addPartial(_,y)}}},SelectorMatcher.prototype._addTerminal=function(e,t,n){var r=e.get(t);i.isBlank(r)&&(r=[],e.set(t,r)),r.push(n)},SelectorMatcher.prototype._addPartial=function(e,t){var n=e.get(t);return i.isBlank(n)&&(n=new SelectorMatcher,e.set(t,n)),n},SelectorMatcher.prototype.match=function(e,t){for(var n=!1,r=e.element,o=e.classNames,s=e.attrs,c=0;c<this._listContexts.length;c++)this._listContexts[c].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i.isPresent(o))for(var u=0;u<o.length;u++){var l=o[u];n=this._matchTerminal(this._classMap,l,e,t)||n,n=this._matchPartial(this._classPartialMap,l,e,t)||n}if(i.isPresent(s))for(var u=0;u<s.length;){var p=s[u++],h=s[u++],f=this._attrValueMap.get(p);i.StringWrapper.equals(h,a)||(n=this._matchTerminal(f,a,e,t)||n),n=this._matchTerminal(f,h,e,t)||n;var d=this._attrValuePartialMap.get(p);i.StringWrapper.equals(h,a)||(n=this._matchPartial(d,a,e,t)||n),n=this._matchPartial(d,h,e,t)||n}return n},SelectorMatcher.prototype._matchTerminal=function(e,t,n,r){if(i.isBlank(e)||i.isBlank(t))return!1;var o=e.get(t),a=e.get("*");if(i.isPresent(a)&&(o=o.concat(a)),i.isBlank(o))return!1;for(var s,c=!1,u=0;u<o.length;u++)s=o[u],c=s.finalize(n,r)||c;return c},SelectorMatcher.prototype._matchPartial=function(e,t,n,r){if(i.isBlank(e)||i.isBlank(t))return!1;var o=e.get(t);return i.isBlank(o)?!1:o.match(n,r)},SelectorMatcher}();t.SelectorMatcher=u;var l=function(){function SelectorListContext(e){this.selectors=e,this.alreadyMatched=!1}return SelectorListContext}();t.SelectorListContext=l;var p=function(){function SelectorContext(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}return SelectorContext.prototype.finalize=function(e,t){var n=!0;if(this.notSelectors.length>0&&(i.isBlank(this.listContext)||!this.listContext.alreadyMatched)){var r=u.createNotMatcher(this.notSelectors);n=!r.match(e,null)}return n&&i.isPresent(t)&&(i.isBlank(this.listContext)||!this.listContext.alreadyMatched)&&(i.isPresent(this.listContext)&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n},SelectorContext}();t.SelectorContext=p},function(e,t,n){"use strict";function camelCaseToDashCase(e){return r.StringWrapper.replaceAllMapped(e,i,function(e){return"-"+e[1].toLowerCase()})}function dashCaseToCamelCase(e){return r.StringWrapper.replaceAllMapped(e,o,function(e){return e[1].toUpperCase()})}function escapeSingleQuoteString(e){return r.isBlank(e)?null:"'"+escapeString(e,a)+"'"}function escapeDoubleQuoteString(e){return r.isBlank(e)?null:'"'+escapeString(e,s)+'"'}function escapeString(e,t){return r.StringWrapper.replaceAllMapped(e,t,function(e){return"$"==e[0]?r.IS_DART?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]})}function codeGenExportVariable(e){return r.IS_DART?"const "+e+" = ":"var "+e+" = exports['"+e+"'] = "}function codeGenConstConstructorCall(e){return r.IS_DART?"const "+e:"new "+e}function codeGenValueFn(e,t,n){return void 0===n&&(n=""),r.IS_DART?codeGenFnHeader(e,n)+" => "+t:codeGenFnHeader(e,n)+" { return "+t+"; }"}function codeGenFnHeader(e,t){return void 0===t&&(t=""),r.IS_DART?t+"("+e.join(",")+")":"function "+t+"("+e.join(",")+")"}function codeGenToString(e){return r.IS_DART?"'${"+e+"}'":e}function splitAtColon(e,t){var n=r.StringWrapper.split(e.trim(),/\s*:\s*/g);return n.length>1?n:t}function escapeValue(e){return e instanceof u?e.expression:r.isString(e)?escapeSingleQuoteString(e):r.isBlank(e)?"null":""+e}function codeGenArray(e){return"["+e.map(escapeValue).join(",")+"]"}function codeGenFlatArray(e){for(var t="([",n=!0,i=r.IS_DART?".addAll":"concat",o=0;o<e.length;o++){var a=e[o];a instanceof u&&a.isArray?(t+="])."+i+"("+a.expression+")."+i+"([",n=!0):(n||(t+=","),n=!1,t+=escapeValue(a))}return t+="])"}function codeGenStringMap(e){return"{"+e.map(codeGenKeyValue).join(",")+"}"}function codeGenKeyValue(e){return escapeValue(e[0])+":"+escapeValue(e[1])}function addAll(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function flattenArray(e,t){if(r.isPresent(e))for(var n=0;n<e.length;n++){var i=e[n];r.isArray(i)?flattenArray(i,t):t.push(i)}return t}var r=n(8),i=/([A-Z])/g,o=/-([a-z])/g,a=/'|\\|\n|\r|\$/g,s=/"|\\|\n|\r|\$/g;t.MODULE_SUFFIX=r.IS_DART?".dart":".js",t.CONST_VAR=r.IS_DART?"const":"var",t.camelCaseToDashCase=camelCaseToDashCase,t.dashCaseToCamelCase=dashCaseToCamelCase,t.escapeSingleQuoteString=escapeSingleQuoteString,t.escapeDoubleQuoteString=escapeDoubleQuoteString,t.codeGenExportVariable=codeGenExportVariable,t.codeGenConstConstructorCall=codeGenConstConstructorCall,t.codeGenValueFn=codeGenValueFn,t.codeGenFnHeader=codeGenFnHeader,t.codeGenToString=codeGenToString,t.splitAtColon=splitAtColon;var c=function(){function Statement(e){this.statement=e}return Statement}();t.Statement=c;var u=function(){function Expression(e,t){void 0===t&&(t=!1),this.expression=e,this.isArray=t}return Expression}();t.Expression=u,t.escapeValue=escapeValue,t.codeGenArray=codeGenArray,t.codeGenFlatArray=codeGenFlatArray,t.codeGenStringMap=codeGenStringMap,t.addAll=addAll,t.flattenArray=flattenArray},function(e,t){"use strict";!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(t.LifecycleHooks||(t.LifecycleHooks={}));var n=t.LifecycleHooks;t.LIFECYCLE_HOOKS_VALUES=[n.OnInit,n.OnDestroy,n.DoCheck,n.OnChanges,n.AfterContentInit,n.AfterContentChecked,n.AfterViewInit,n.AfterViewChecked]},function(e,t,n){"use strict";function templateVisitAll(e,t,n){void 0===n&&(n=null);var i=[];return t.forEach(function(t){var o=t.visit(e,n);r.isPresent(o)&&i.push(o)}),i}var r=n(8),i=function(){function TextAst(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}return TextAst.prototype.visit=function(e,t){return e.visitText(this,t)},TextAst}();t.TextAst=i;var o=function(){function BoundTextAst(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}return BoundTextAst.prototype.visit=function(e,t){return e.visitBoundText(this,t)},BoundTextAst}();t.BoundTextAst=o;var a=function(){function AttrAst(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}return AttrAst.prototype.visit=function(e,t){return e.visitAttr(this,t)},AttrAst}();t.AttrAst=a;var s=function(){function BoundElementPropertyAst(e,t,n,r,i){this.name=e,this.type=t,this.value=n,this.unit=r,this.sourceSpan=i}return BoundElementPropertyAst.prototype.visit=function(e,t){return e.visitElementProperty(this,t)},BoundElementPropertyAst}();t.BoundElementPropertyAst=s;var c=function(){function BoundEventAst(e,t,n,r){this.name=e,this.target=t,this.handler=n,this.sourceSpan=r}return BoundEventAst.prototype.visit=function(e,t){return e.visitEvent(this,t)},Object.defineProperty(BoundEventAst.prototype,"fullName",{get:function(){return r.isPresent(this.target)?this.target+":"+this.name:this.name},enumerable:!0,configurable:!0}),BoundEventAst}();t.BoundEventAst=c;var u=function(){function VariableAst(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}return VariableAst.prototype.visit=function(e,t){return e.visitVariable(this,t)},VariableAst}();t.VariableAst=u;var l=function(){function ElementAst(e,t,n,r,i,o,a,s,c){this.name=e,this.attrs=t,this.inputs=n,this.outputs=r,this.exportAsVars=i,this.directives=o,this.children=a,this.ngContentIndex=s,this.sourceSpan=c}return ElementAst.prototype.visit=function(e,t){return e.visitElement(this,t)},ElementAst.prototype.isBound=function(){return this.inputs.length>0||this.outputs.length>0||this.exportAsVars.length>0||this.directives.length>0},ElementAst.prototype.getComponent=function(){return this.directives.length>0&&this.directives[0].directive.isComponent?this.directives[0].directive:null},ElementAst}();t.ElementAst=l;var p=function(){function EmbeddedTemplateAst(e,t,n,r,i,o,a){this.attrs=e,this.outputs=t,this.vars=n,this.directives=r,this.children=i,this.ngContentIndex=o,this.sourceSpan=a}return EmbeddedTemplateAst.prototype.visit=function(e,t){return e.visitEmbeddedTemplate(this,t)},EmbeddedTemplateAst}();t.EmbeddedTemplateAst=p;var h=function(){function BoundDirectivePropertyAst(e,t,n,r){this.directiveName=e,this.templateName=t,this.value=n,this.sourceSpan=r}return BoundDirectivePropertyAst.prototype.visit=function(e,t){return e.visitDirectiveProperty(this,t)},BoundDirectivePropertyAst}();t.BoundDirectivePropertyAst=h;var f=function(){function DirectiveAst(e,t,n,r,i,o){this.directive=e,this.inputs=t,this.hostProperties=n,this.hostEvents=r,this.exportAsVars=i,this.sourceSpan=o}return DirectiveAst.prototype.visit=function(e,t){return e.visitDirective(this,t)},DirectiveAst}();t.DirectiveAst=f;var d=function(){function NgContentAst(e,t,n){this.index=e,this.ngContentIndex=t,this.sourceSpan=n}return NgContentAst.prototype.visit=function(e,t){return e.visitNgContent(this,t)},NgContentAst}();t.NgContentAst=d,function(e){e[e.Property=0]="Property",e[e.Attribute=1]="Attribute",e[e.Class=2]="Class",e[e.Style=3]="Style"}(t.PropertyBindingType||(t.PropertyBindingType={}));t.PropertyBindingType;t.templateVisitAll=templateVisitAll},function(e,t,n){"use strict";function moduleRef(e){return"#MODULE["+e+"]"}var r=n(8),i=/#MODULE\[([^\]]*)\]/g;t.moduleRef=moduleRef;var o=function(){function SourceModule(e,t){this.moduleUrl=e,this.sourceWithModuleRefs=t}return SourceModule.getSourceWithoutImports=function(e){return r.StringWrapper.replaceAllMapped(e,i,function(e){return""})},SourceModule.prototype.getSourceWithImports=function(){var e=this,t={},n=[],o=r.StringWrapper.replaceAllMapped(this.sourceWithModuleRefs,i,function(i){var o=i[1],a=t[o];return r.isBlank(a)&&(o==e.moduleUrl?a="":(a="import"+n.length,n.push([o,a])),t[o]=a),a.length>0?a+".":""});return new c(o,n)},SourceModule}();t.SourceModule=o;var a=function(){function SourceExpression(e,t){this.declarations=e,this.expression=t}return SourceExpression}();t.SourceExpression=a;var s=function(){function SourceExpressions(e,t){this.declarations=e,this.expressions=t}return SourceExpressions}();t.SourceExpressions=s;var c=function(){function SourceWithImports(e,t){this.source=e,this.imports=t}return SourceWithImports}();t.SourceWithImports=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(212),a=n(82),s=n(52),c=n(47),u=n(45),l=n(214),p=n(8),h=n(34),f=n(215),d=n(209),y=n(10),m="AbstractChangeDetector",g="ChangeDetectionUtil",v="ChangeDetectorState";t.CHANGE_DETECTION_JIT_IMPORTS=p.CONST_EXPR({AbstractChangeDetector:s.AbstractChangeDetector,ChangeDetectionUtil:c.ChangeDetectionUtil,ChangeDetectorState:u.ChangeDetectorState});var _=o.moduleRef("package:angular2/src/core/change_detection/abstract_change_detector"+d.MODULE_SUFFIX),b=o.moduleRef("package:angular2/src/core/change_detection/change_detection_util"+d.MODULE_SUFFIX),w=o.moduleRef("package:angular2/src/core/change_detection/pregen_proto_change_detector"+d.MODULE_SUFFIX),C=o.moduleRef("package:angular2/src/core/change_detection/constants"+d.MODULE_SUFFIX),P=function(){function ChangeDetectionCompiler(e){this._genConfig=e}return ChangeDetectionCompiler.prototype.compileComponentRuntime=function(e,t,n){var r=this,i=l.createChangeDetectorDefinitions(e,t,this._genConfig,n);return i.map(function(e){return r._createChangeDetectorFactory(e)})},ChangeDetectionCompiler.prototype._createChangeDetectorFactory=function(e){var t=new h.DynamicProtoChangeDetector(e);return function(){return t.instantiate()}},ChangeDetectionCompiler.prototype.compileComponentCodeGen=function(e,t,n){var r=l.createChangeDetectorDefinitions(e,t,this._genConfig,n),i=[],s=0,c=r.map(function(t){var n,r;if(p.IS_DART){n=new f.Codegen(w);var c="_"+t.id,u=0===s&&e.isHost?"dynamic":""+o.moduleRef(e.moduleUrl)+e.name;n.generate(u,c,t),i.push(c+".newChangeDetector"),r=n.toString()}else n=new a.ChangeDetectorJITGenerator(t,""+b+g,""+_+m,""+C+v),i.push("function() { return new "+n.typeName+"(); }"),r=n.generateSource();return s++,r});return new o.SourceExpressions(c,i)},ChangeDetectionCompiler=r([y.Injectable(),i("design:paramtypes",[h.ChangeDetectorGenConfig])],ChangeDetectionCompiler);
}();t.ChangeDetectionCompiler=P},function(e,t,n){"use strict";function createChangeDetectorDefinitions(e,t,n,r){var i=[],o=new u(null,i,t);return s.templateVisitAll(o,r),createChangeDefinitions(i,e,n)}function createChangeDefinitions(e,t,n){var r=_collectNestedProtoViewsVariableNames(e);return e.map(function(e){var i=t.name+"_"+e.viewIndex;return new a.ChangeDetectorDefinition(i,e.strategy,r[e.viewIndex],e.bindingRecords,e.eventRecords,e.directiveRecords,n)})}function _collectNestedProtoViewsVariableNames(e){var t=r.ListWrapper.createFixedSize(e.length);return e.forEach(function(e){var n=i.isPresent(e.parent)?t[e.parent.viewIndex]:[];t[e.viewIndex]=n.concat(e.variableNames)}),t}var r=n(16),i=n(8),o=n(21),a=n(34),s=n(211),c=n(210);t.createChangeDetectorDefinitions=createChangeDetectorDefinitions;var u=function(){function ProtoViewVisitor(e,t,n){this.parent=e,this.allVisitors=t,this.strategy=n,this.nodeCount=0,this.boundElementCount=0,this.variableNames=[],this.bindingRecords=[],this.eventRecords=[],this.directiveRecords=[],this.viewIndex=t.length,t.push(this)}return ProtoViewVisitor.prototype.visitEmbeddedTemplate=function(e,t){this.nodeCount++,this.boundElementCount++,s.templateVisitAll(this,e.outputs);for(var n=0;n<e.directives.length;n++)e.directives[n].visit(this,n);var r=new ProtoViewVisitor(this,this.allVisitors,a.ChangeDetectionStrategy.Default);return s.templateVisitAll(r,e.vars),s.templateVisitAll(r,e.children),null},ProtoViewVisitor.prototype.visitElement=function(e,t){this.nodeCount++,e.isBound()&&this.boundElementCount++,s.templateVisitAll(this,e.inputs,null),s.templateVisitAll(this,e.outputs),s.templateVisitAll(this,e.exportAsVars);for(var n=0;n<e.directives.length;n++)e.directives[n].visit(this,n);return s.templateVisitAll(this,e.children),null},ProtoViewVisitor.prototype.visitNgContent=function(e,t){return null},ProtoViewVisitor.prototype.visitVariable=function(e,t){return this.variableNames.push(e.name),null},ProtoViewVisitor.prototype.visitEvent=function(e,t){var n=i.isPresent(t)?a.BindingRecord.createForHostEvent(e.handler,e.fullName,t):a.BindingRecord.createForEvent(e.handler,e.fullName,this.boundElementCount-1);return this.eventRecords.push(n),null},ProtoViewVisitor.prototype.visitElementProperty=function(e,t){var n,r=this.boundElementCount-1,o=i.isPresent(t)?t.directiveIndex:null;return e.type===s.PropertyBindingType.Property?n=i.isPresent(o)?a.BindingRecord.createForHostProperty(o,e.value,e.name):a.BindingRecord.createForElementProperty(e.value,r,e.name):e.type===s.PropertyBindingType.Attribute?n=i.isPresent(o)?a.BindingRecord.createForHostAttribute(o,e.value,e.name):a.BindingRecord.createForElementAttribute(e.value,r,e.name):e.type===s.PropertyBindingType.Class?n=i.isPresent(o)?a.BindingRecord.createForHostClass(o,e.value,e.name):a.BindingRecord.createForElementClass(e.value,r,e.name):e.type===s.PropertyBindingType.Style&&(n=i.isPresent(o)?a.BindingRecord.createForHostStyle(o,e.value,e.name,e.unit):a.BindingRecord.createForElementStyle(e.value,r,e.name,e.unit)),this.bindingRecords.push(n),null},ProtoViewVisitor.prototype.visitAttr=function(e,t){return null},ProtoViewVisitor.prototype.visitBoundText=function(e,t){var n=this.nodeCount++;return this.bindingRecords.push(a.BindingRecord.createForTextNode(e.value,n)),null},ProtoViewVisitor.prototype.visitText=function(e,t){return this.nodeCount++,null},ProtoViewVisitor.prototype.visitDirective=function(e,t){var n=new a.DirectiveIndex(this.boundElementCount-1,t),i=e.directive,o=[];r.StringMapWrapper.forEach(e.directive.outputs,function(e,t){return o.push([t,e])});var u=new a.DirectiveRecord({directiveIndex:n,callAfterContentInit:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.AfterContentInit),callAfterContentChecked:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.AfterContentChecked),callAfterViewInit:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.AfterViewInit),callAfterViewChecked:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.AfterViewChecked),callOnChanges:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.OnChanges),callDoCheck:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.DoCheck),callOnInit:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.OnInit),callOnDestroy:-1!==i.lifecycleHooks.indexOf(c.LifecycleHooks.OnDestroy),changeDetection:i.changeDetection,outputs:o});this.directiveRecords.push(u),s.templateVisitAll(this,e.inputs,u);var l=this.bindingRecords;return u.callOnChanges&&l.push(a.BindingRecord.createDirectiveOnChanges(u)),u.callOnInit&&l.push(a.BindingRecord.createDirectiveOnInit(u)),u.callDoCheck&&l.push(a.BindingRecord.createDirectiveDoCheck(u)),s.templateVisitAll(this,e.hostProperties,u),s.templateVisitAll(this,e.hostEvents,u),s.templateVisitAll(this,e.exportAsVars),null},ProtoViewVisitor.prototype.visitDirectiveProperty=function(e,t){var n=o.reflector.setter(e.directiveName);return this.bindingRecords.push(a.BindingRecord.createForDirective(e.value,e.directiveName,n,t)),null},ProtoViewVisitor}()},function(e,t){"use strict";var n=function(){function Codegen(e){}return Codegen.prototype.generate=function(e,t,n){throw"Not implemented in JS"},Codegen.prototype.toString=function(){throw"Not implemented in JS"},Codegen}();t.Codegen=n},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(212),a=n(86),s=n(28),c=n(8),u=n(56),l=n(217),p=n(203),h=n(218),f=n(209),d=n(10),y="%COMP%",m="_nghost-"+y,g="_ngcontent-"+y,v=function(){function StyleCompiler(e,t){this._xhr=e,this._urlResolver=t,this._styleCache=new Map,this._shadowCss=new l.ShadowCss}return StyleCompiler.prototype.compileComponentRuntime=function(e){var t=e.styles,n=e.styleUrls;return this._loadStyles(t,n,e.encapsulation===a.ViewEncapsulation.Emulated)},StyleCompiler.prototype.compileComponentCodeGen=function(e){var t=e.encapsulation===a.ViewEncapsulation.Emulated;return this._styleCodeGen(e.styles,e.styleUrls,t)},StyleCompiler.prototype.compileStylesheetCodeGen=function(e,t){var n=h.extractStyleUrls(this._urlResolver,e,t);return[this._styleModule(e,!1,this._styleCodeGen([n.style],n.styleUrls,!1)),this._styleModule(e,!0,this._styleCodeGen([n.style],n.styleUrls,!0))]},StyleCompiler.prototype.clearCache=function(){this._styleCache.clear()},StyleCompiler.prototype._loadStyles=function(e,t,n){var r=this,i=t.map(function(e){var t=""+e+(n?".shim":""),i=r._styleCache.get(t);return c.isBlank(i)&&(i=r._xhr.get(e).then(function(t){var i=h.extractStyleUrls(r._urlResolver,e,t);return r._loadStyles([i.style],i.styleUrls,n)}),r._styleCache.set(t,i)),i});return u.PromiseWrapper.all(i).then(function(t){var i=e.map(function(e){return r._shimIfNeeded(e,n)});return t.forEach(function(e){return i.push(e)}),i})},StyleCompiler.prototype._styleCodeGen=function(e,t,n){for(var r=this,i=c.IS_DART?"const":"",a=e.map(function(e){return f.escapeSingleQuoteString(r._shimIfNeeded(e,n))}),s=0;s<t.length;s++){var u=this._createModuleUrl(t[s],n);a.push(o.moduleRef(u)+"STYLES")}var l=i+" ["+a.join(",")+"]";return new o.SourceExpression([],l)},StyleCompiler.prototype._styleModule=function(e,t,n){var r="\n      "+n.declarations.join("\n")+"\n      "+f.codeGenExportVariable("STYLES")+n.expression+";\n    ";return new o.SourceModule(this._createModuleUrl(e,t),r)},StyleCompiler.prototype._shimIfNeeded=function(e,t){return t?this._shadowCss.shimCssText(e,g,m):e},StyleCompiler.prototype._createModuleUrl=function(e,t){return t?e+".shim"+f.MODULE_SUFFIX:""+e+f.MODULE_SUFFIX},StyleCompiler=r([d.Injectable(),i("design:paramtypes",[s.XHR,p.UrlResolver])],StyleCompiler)}();t.StyleCompiler=v},function(e,t,n){"use strict";function stripComments(e){return i.StringWrapper.replaceAllMapped(e,w,function(e){return""})}function processRules(e,t){var n=escapeBlocks(e),r=0;return i.StringWrapper.replaceAllMapped(n.escapedString,C,function(e){var o=e[2],a="",s=e[4],c="";i.isPresent(e[4])&&e[4].startsWith("{"+E)&&(a=n.blocks[r++],s=e[4].substring(E.length+1),c="{");var u=t(new D(o,a));return""+e[1]+u.selector+e[3]+c+u.content+s})}function escapeBlocks(e){for(var t=i.StringWrapper.split(e,P),n=[],r=[],o=0,a=[],s=0;s<t.length;s++){var c=t[s];c==S&&o--,o>0?a.push(c):(a.length>0&&(r.push(a.join("")),n.push(E),a=[]),n.push(c)),c==R&&o++}return a.length>0&&(r.push(a.join("")),n.push(E)),new A(n.join(""),r)}var r=n(16),i=n(8),o=function(){function ShadowCss(){this.strictStyling=!0}return ShadowCss.prototype.shimCssText=function(e,t,n){return void 0===n&&(n=""),e=stripComments(e),e=this._insertDirectives(e),this._scopeCssText(e,t,n)},ShadowCss.prototype._insertDirectives=function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)},ShadowCss.prototype._insertPolyfillDirectivesInCssText=function(e){return i.StringWrapper.replaceAllMapped(e,a,function(e){return e[1]+"{"})},ShadowCss.prototype._insertPolyfillRulesInCssText=function(e){return i.StringWrapper.replaceAllMapped(e,s,function(e){var t=e[0];return t=i.StringWrapper.replace(t,e[1],""),t=i.StringWrapper.replace(t,e[2],""),e[3]+t})},ShadowCss.prototype._scopeCssText=function(e,t,n){var r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),i.isPresent(t)&&(e=this._scopeSelectors(e,t,n)),e=e+"\n"+r,e.trim()},ShadowCss.prototype._extractUnscopedRulesFromCssText=function(e){for(var t,n="",r=i.RegExpWrapper.matcher(c,e);i.isPresent(t=i.RegExpMatcherWrapper.next(r));){var o=t[0];o=i.StringWrapper.replace(o,t[2],""),o=i.StringWrapper.replace(o,t[1],t[3]),n+=o+"\n\n"}return n},ShadowCss.prototype._convertColonHost=function(e){return this._convertColonRule(e,h,this._colonHostPartReplacer)},ShadowCss.prototype._convertColonHostContext=function(e){return this._convertColonRule(e,f,this._colonHostContextPartReplacer)},ShadowCss.prototype._convertColonRule=function(e,t,n){return i.StringWrapper.replaceAllMapped(e,t,function(e){if(i.isPresent(e[2])){for(var t=e[2].split(","),r=[],o=0;o<t.length;o++){var a=t[o];if(i.isBlank(a))break;a=a.trim(),r.push(n(d,a,e[3]))}return r.join(",")}return d+e[3]})},ShadowCss.prototype._colonHostContextPartReplacer=function(e,t,n){return i.StringWrapper.contains(t,u)?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n},ShadowCss.prototype._colonHostPartReplacer=function(e,t,n){return e+i.StringWrapper.replace(t,u,"")+n},ShadowCss.prototype._convertShadowDOMSelectors=function(e){for(var t=0;t<y.length;t++)e=i.StringWrapper.replaceAll(e,y[t]," ");return e},ShadowCss.prototype._scopeSelectors=function(e,t,n){var r=this;return processRules(e,function(e){var i=e.selector,o=e.content;return"@"!=e.selector[0]||e.selector.startsWith("@page")?i=r._scopeSelector(e.selector,t,n,r.strictStyling):e.selector.startsWith("@media")&&(o=r._scopeSelectors(e.content,t,n)),new D(i,o)})},ShadowCss.prototype._scopeSelector=function(e,t,n,r){for(var o=[],a=e.split(","),s=0;s<a.length;s++){var c=a[s].trim(),u=i.StringWrapper.split(c,m),l=u[0];this._selectorNeedsScoping(l,t)&&(u[0]=r&&!i.StringWrapper.contains(l,d)?this._applyStrictSelectorScope(l,t):this._applySelectorScope(l,t,n)),o.push(u.join(" "))}return o.join(", ")},ShadowCss.prototype._selectorNeedsScoping=function(e,t){var n=this._makeScopeMatcher(t);return!i.isPresent(i.RegExpWrapper.firstMatch(n,e))},ShadowCss.prototype._makeScopeMatcher=function(e){var t=/\[/g,n=/\]/g;return e=i.StringWrapper.replaceAll(e,t,"\\["),e=i.StringWrapper.replaceAll(e,n,"\\]"),i.RegExpWrapper.create("^("+e+")"+g,"m")},ShadowCss.prototype._applySelectorScope=function(e,t,n){return this._applySimpleSelectorScope(e,t,n)},ShadowCss.prototype._applySimpleSelectorScope=function(e,t,n){if(i.isPresent(i.RegExpWrapper.firstMatch(v,e))){var r=this.strictStyling?"["+n+"]":t;return e=i.StringWrapper.replace(e,d,r),i.StringWrapper.replaceAll(e,v,r+" ")}return t+" "+e},ShadowCss.prototype._applyStrictSelectorScope=function(e,t){var n=/\[is=([^\]]*)\]/g;t=i.StringWrapper.replaceAllMapped(t,n,function(e){return e[1]});for(var o=[" ",">","+","~"],a=e,s="["+t+"]",c=0;c<o.length;c++){var u=o[c],l=a.split(u);a=l.map(function(e){var t=i.StringWrapper.replaceAll(e.trim(),v,"");if(t.length>0&&!r.ListWrapper.contains(o,t)&&!i.StringWrapper.contains(t,s)){var n=/([^:]*)(:*)(.*)/g,a=i.RegExpWrapper.firstMatch(n,t);i.isPresent(a)&&(e=a[1]+s+a[2]+a[3])}return e}).join(u)}return a},ShadowCss.prototype._insertPolyfillHostInCssText=function(e){return e=i.StringWrapper.replaceAll(e,b,l),e=i.StringWrapper.replaceAll(e,_,u)},ShadowCss}();t.ShadowCss=o;var a=/polyfill-next-selector[^}]*content:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,s=/(polyfill-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,c=/(polyfill-unscoped-rule)[^}]*(content:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,u="-shadowcsshost",l="-shadowcsscontext",p=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",h=i.RegExpWrapper.create("("+u+p,"im"),f=i.RegExpWrapper.create("("+l+p,"im"),d=u+"-no-combinator",y=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],m=/(?:>>>)|(?:\/deep\/)/g,g="([>\\s~+[.,{:][\\s\\S]*)?$",v=i.RegExpWrapper.create(u,"im"),_=/:host/gim,b=/:host-context/gim,w=/\/\*[\s\S]*?\*\//g,C=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,P=/([{}])/g,R="{",S="}",E="%BLOCK%",D=function(){function CssRule(e,t){this.selector=e,this.content=t}return CssRule}();t.CssRule=D,t.processRules=processRules;var A=function(){function StringWithEscapedBlocks(e,t){this.escapedString=e,this.blocks=t}return StringWithEscapedBlocks}()},function(e,t,n){"use strict";function isStyleUrlResolvable(e){if(r.isBlank(e)||0===e.length||"/"==e[0])return!1;var t=r.RegExpWrapper.firstMatch(a,e);return r.isBlank(t)||"package"==t[1]||"asset"==t[1]}function extractStyleUrls(e,t,n){var a=[],s=r.StringWrapper.replaceAllMapped(n,o,function(n){var i=r.isPresent(n[1])?n[1]:n[2];return isStyleUrlResolvable(i)?(a.push(e.resolve(t,i)),""):n[0]});return new i(s,a)}var r=n(8),i=function(){function StyleWithImports(e,t){this.style=e,this.styleUrls=t}return StyleWithImports}();t.StyleWithImports=i,t.isStyleUrlResolvable=isStyleUrlResolvable,t.extractStyleUrls=extractStyleUrls;var o=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,a=/^([a-zA-Z\-\+\.]+):/g},function(e,t,n){"use strict";function codeGenEventHandler(e,t,n){return f.codeGenValueFn(["event"],e.expression+".triggerEventHandlers("+f.escapeValue(n)+", event, "+t+")")}function codeGenViewFactoryName(e,t){return"viewFactory_"+e.type.name+t}function codeGenViewEncapsulation(e){return o.IS_DART?""+y.METADATA_MODULE_REF+e:""+e}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=n(16),s=n(211),c=n(212),u=n(97),l=n(99),p=n(98),h=n(86),f=n(209),d=n(10),y=n(220);t.VIEW_JIT_IMPORTS=o.CONST_EXPR({AppView:u.AppView,AppElement:p.AppElement,flattenNestedViewRenderNodes:u.flattenNestedViewRenderNodes,checkSlotCount:u.checkSlotCount});var m=function(){function ViewCompiler(){}return ViewCompiler.prototype.compileComponentRuntime=function(e,t,n,r,i,o){var a=new v(e,n,r,i,o);return a.createViewFactory(t,0,[])},ViewCompiler.prototype.compileComponentCodeGen=function(e,t,n,r,i,o){var a=new g(e,n,r,i,o),s=[],u=a.createViewFactory(t,0,s);return new c.SourceExpression(s.map(function(e){return e.statement}),u.expression)},ViewCompiler=r([d.Injectable(),i("design:paramtypes",[])],ViewCompiler)}();t.ViewCompiler=m;var g=function(){function CodeGenViewFactory(e,t,n,r,i){this.component=e,this.styles=t,this.protoViews=n,this.changeDetectorExpressions=r,this.componentViewFactory=i,this._nextVarId=0}return CodeGenViewFactory.prototype._nextVar=function(e){return""+e+this._nextVarId++ +"_"+this.component.type.name},CodeGenViewFactory.prototype._nextRenderVar=function(){return this._nextVar("render")},CodeGenViewFactory.prototype._nextAppVar=function(){return this._nextVar("app")},CodeGenViewFactory.prototype._nextDisposableVar=function(){return"disposable"+this._nextVarId++ +"_"+this.component.type.name},CodeGenViewFactory.prototype.createText=function(e,t,n,r){var i=this._nextRenderVar(),a="var "+i+" = "+e.expression+".createText("+(o.isPresent(t)?t.expression:null)+", "+f.escapeSingleQuoteString(n)+");";return r.push(new f.Statement(a)),new f.Expression(i)},CodeGenViewFactory.prototype.createElement=function(e,t,n,r,i){var a,s=this._nextRenderVar();a=o.isPresent(r)?r.expression+" == null ?\n        "+e.expression+".createElement("+(o.isPresent(t)?t.expression:null)+", "+f.escapeSingleQuoteString(n)+") :\n        "+e.expression+".selectRootElement("+r.expression+");":e.expression+".createElement("+(o.isPresent(t)?t.expression:null)+", "+f.escapeSingleQuoteString(n)+")";var c="var "+s+" = "+a+";";return i.push(new f.Statement(c)),new f.Expression(s)},CodeGenViewFactory.prototype.createTemplateAnchor=function(e,t,n){var r=this._nextRenderVar(),i=e.expression+".createTemplateAnchor("+(o.isPresent(t)?t.expression:null)+");";return n.push(new f.Statement("var "+r+" = "+i)),new f.Expression(r)},CodeGenViewFactory.prototype.createGlobalEventListener=function(e,t,n,r,i){var o=this._nextDisposableVar(),a=codeGenEventHandler(t,n,r.fullName);return i.push(new f.Statement("var "+o+" = "+e.expression+".listenGlobal("+f.escapeValue(r.target)+", "+f.escapeValue(r.name)+", "+a+");")),new f.Expression(o)},CodeGenViewFactory.prototype.createElementEventListener=function(e,t,n,r,i,o){var a=this._nextDisposableVar(),s=codeGenEventHandler(t,n,i.fullName);return o.push(new f.Statement("var "+a+" = "+e.expression+".listen("+r.expression+", "+f.escapeValue(i.name)+", "+s+");")),new f.Expression(a)},CodeGenViewFactory.prototype.setElementAttribute=function(e,t,n,r,i){i.push(new f.Statement(e.expression+".setElementAttribute("+t.expression+", "+f.escapeSingleQuoteString(n)+", "+f.escapeSingleQuoteString(r)+");"))},CodeGenViewFactory.prototype.createAppElement=function(e,t,n,r,i,a){var s=this._nextAppVar(),c="new "+y.APP_EL_MODULE_REF+"AppElement("+e.expression+", "+t.expression+",\n      "+(o.isPresent(r)?r.expression:null)+", "+n.expression+", "+(o.isPresent(i)?i.expression:null)+")";return a.push(new f.Statement("var "+s+" = "+c+";")),new f.Expression(s)},CodeGenViewFactory.prototype.createAndSetComponentView=function(e,t,n,r,i,o,a){var s;s=this.component.type.isHost?n.expression+".projectableNodes":"["+o.map(function(e){return f.codeGenFlatArray(e)}).join(",")+"]",a.push(new f.Statement(this.componentViewFactory(i)+"("+e.expression+", "+t.expression+", "+r.expression+", "+s+", null, null, null);"))},CodeGenViewFactory.prototype.getProjectedNodes=function(e,t){return new f.Expression(e.expression+"["+t+"]",!0)},CodeGenViewFactory.prototype.appendProjectedNodes=function(e,t,n,r){r.push(new f.Statement(e.expression+".projectNodes("+t.expression+", "+y.APP_VIEW_MODULE_REF+"flattenNestedViewRenderNodes("+n.expression+"));"))},CodeGenViewFactory.prototype.createViewFactory=function(e,t,n){var r=this.protoViews[t],i=this.component.type.isHost,o=0===t&&!i,a=new b(new f.Expression("renderer"),new f.Expression("viewManager"),new f.Expression("projectableNodes"),i?new f.Expression("rootSelector"):null,new f.Expression("view"),r,n,this);s.templateVisitAll(a,e,new _(o?new f.Expression("parentRenderNode"):null,null,null));var c=r.protoView.expression,u=codeGenViewFactoryName(this.component,t),l=this.changeDetectorExpressions.expressions[t],p=["parentRenderer","viewManager","containerEl","projectableNodes","rootSelector","dynamicallyCreatedProviders","rootInjector"],h=[],d="parentRenderer";if(0===t){var m=this._nextVar("renderType");n.push(new f.Statement("var "+m+" = null;"));var g=this._nextVar("styles");n.push(new f.Statement(f.CONST_VAR+" "+g+" = "+this.styles.expression+";"));var v=this.component.template.encapsulation;h.push("if ("+m+" == null) {\n        "+m+" = viewManager.createRenderComponentType("+codeGenViewEncapsulation(v)+", "+g+");\n      }"),d="parentRenderer.renderComponent("+m+")"}var w="\n"+f.codeGenFnHeader(p,u)+"{\n  "+h.join("\n")+"\n  var renderer = "+d+";\n  var view = new "+y.APP_VIEW_MODULE_REF+"AppView(\n    "+c+", renderer, viewManager,\n    projectableNodes,\n    containerEl,\n    dynamicallyCreatedProviders, rootInjector,\n    "+l+"()\n  );\n  "+y.APP_VIEW_MODULE_REF+"checkSlotCount("+f.escapeValue(this.component.type.name)+", "+this.component.template.ngContentSelectors.length+", projectableNodes);\n  "+(o?"var parentRenderNode = renderer.createViewRoot(view.containerAppElement.nativeElement);":"")+"\n  "+a.renderStmts.map(function(e){return e.statement}).join("\n")+"\n  "+a.appStmts.map(function(e){return e.statement}).join("\n")+"\n\n  view.init("+f.codeGenFlatArray(a.rootNodesOrAppElements)+", "+f.codeGenArray(a.renderNodes)+", "+f.codeGenArray(a.appDisposables)+",\n            "+f.codeGenArray(a.appElements)+");\n  return view;\n}";return n.push(new f.Statement(w)),new f.Expression(u)},CodeGenViewFactory}(),v=function(){function RuntimeViewFactory(e,t,n,r,i){this.component=e,this.styles=t,this.protoViews=n,this.changeDetectorFactories=r,this.componentViewFactory=i}return RuntimeViewFactory.prototype.createText=function(e,t,n,r){return e.createText(t,n)},RuntimeViewFactory.prototype.createElement=function(e,t,n,r,i){var a;return a=o.isPresent(r)?e.selectRootElement(r):e.createElement(t,n)},RuntimeViewFactory.prototype.createTemplateAnchor=function(e,t,n){return e.createTemplateAnchor(t)},RuntimeViewFactory.prototype.createGlobalEventListener=function(e,t,n,r,i){return e.listenGlobal(r.target,r.name,function(e){return t.triggerEventHandlers(r.fullName,e,n)})},RuntimeViewFactory.prototype.createElementEventListener=function(e,t,n,r,i,o){return e.listen(r,i.name,function(e){return t.triggerEventHandlers(i.fullName,e,n)})},RuntimeViewFactory.prototype.setElementAttribute=function(e,t,n,r,i){e.setElementAttribute(t,n,r)},RuntimeViewFactory.prototype.createAppElement=function(e,t,n,r,i,o){return new p.AppElement(e,t,r,n,i)},RuntimeViewFactory.prototype.createAndSetComponentView=function(e,t,n,r,i,o,s){var c;if(this.component.type.isHost)c=n.projectableNodes;else{c=a.ListWrapper.createFixedSize(o.length);for(var u=0;u<o.length;u++)c[u]=f.flattenArray(o[u],[])}this.componentViewFactory(i)(e,t,r,c)},RuntimeViewFactory.prototype.getProjectedNodes=function(e,t){return e[t]},RuntimeViewFactory.prototype.appendProjectedNodes=function(e,t,n,r){e.projectNodes(t,u.flattenNestedViewRenderNodes(n))},RuntimeViewFactory.prototype.createViewFactory=function(e,t,n){var r=this,i=this.protoViews[t],a=i.protoView.type===l.ViewType.COMPONENT,c=null;return function(n,l,p,h,d,y,m){void 0===d&&(d=null),void 0===y&&(y=null),void 0===m&&(m=null),u.checkSlotCount(r.component.type.name,r.component.template.ngContentSelectors.length,h);var g;0===t?(o.isBlank(c)&&(c=l.createRenderComponentType(r.component.template.encapsulation,r.styles)),g=n.renderComponent(c)):g=n;var v=r.changeDetectorFactories[t](),w=new u.AppView(i.protoView,g,l,h,p,y,m,v),C=new b(g,l,h,d,w,i,[],r),P=a?g.createViewRoot(p.nativeElement):null;return s.templateVisitAll(C,e,new _(P,null,null)),w.init(f.flattenArray(C.rootNodesOrAppElements,[]),C.renderNodes,C.appDisposables,C.appElements),w}},RuntimeViewFactory}(),_=function(){function ParentElement(e,t,n){if(this.renderNode=e,this.appEl=t,this.component=n,o.isPresent(n)){this.contentNodesByNgContentIndex=a.ListWrapper.createFixedSize(n.template.ngContentSelectors.length);for(var r=0;r<this.contentNodesByNgContentIndex.length;r++)this.contentNodesByNgContentIndex[r]=[]}else this.contentNodesByNgContentIndex=null}return ParentElement.prototype.addContentNode=function(e,t){this.contentNodesByNgContentIndex[e].push(t)},ParentElement}(),b=function(){function ViewBuilderVisitor(e,t,n,r,i,o,a,s){this.renderer=e,this.viewManager=t,this.projectableNodes=n,this.rootSelector=r,this.view=i,this.protoView=o,this.targetStatements=a,this.factory=s,this.renderStmts=[],this.renderNodes=[],this.appStmts=[],this.appElements=[],this.appDisposables=[],this.rootNodesOrAppElements=[],this.elementCount=0}return ViewBuilderVisitor.prototype._addRenderNode=function(e,t,n,r){this.renderNodes.push(e),o.isPresent(r.component)?o.isPresent(n)&&r.addContentNode(n,o.isPresent(t)?t:e):o.isBlank(r.renderNode)&&this.rootNodesOrAppElements.push(o.isPresent(t)?t:e)},ViewBuilderVisitor.prototype._getParentRenderNode=function(e,t){return o.isPresent(t.component)&&t.component.template.encapsulation!==h.ViewEncapsulation.Native?null:t.renderNode},ViewBuilderVisitor.prototype.visitBoundText=function(e,t){return this._visitText("",e.ngContentIndex,t)},ViewBuilderVisitor.prototype.visitText=function(e,t){return this._visitText(e.value,e.ngContentIndex,t)},ViewBuilderVisitor.prototype._visitText=function(e,t,n){var r=this.factory.createText(this.renderer,this._getParentRenderNode(t,n),e,this.renderStmts);return this._addRenderNode(r,null,t,n),null},ViewBuilderVisitor.prototype.visitNgContent=function(e,t){var n=this.factory.getProjectedNodes(this.projectableNodes,e.index);return o.isPresent(t.component)?o.isPresent(e.ngContentIndex)&&t.addContentNode(e.ngContentIndex,n):o.isPresent(t.renderNode)?this.factory.appendProjectedNodes(this.renderer,t.renderNode,n,this.renderStmts):this.rootNodesOrAppElements.push(n),null},ViewBuilderVisitor.prototype.visitElement=function(e,t){var n=this,r=this.factory.createElement(this.renderer,this._getParentRenderNode(e.ngContentIndex,t),e.name,this.rootSelector,this.renderStmts),i=e.getComponent(),a=this.elementCount++,c=this.protoView.protoElements[a];c.renderEvents.forEach(function(e){var t;t=o.isPresent(e.target)?n.factory.createGlobalEventListener(n.renderer,n.view,c.boundElementIndex,e,n.renderStmts):n.factory.createElementEventListener(n.renderer,n.view,c.boundElementIndex,r,e,n.renderStmts),n.appDisposables.push(t)});for(var u=0;u<c.attrNameAndValues.length;u++){var l=c.attrNameAndValues[u][0],p=c.attrNameAndValues[u][1];this.factory.setElementAttribute(this.renderer,r,l,p,this.renderStmts)}var h=null;o.isPresent(c.appProtoEl)&&(h=this.factory.createAppElement(c.appProtoEl,this.view,r,t.appEl,null,this.appStmts),this.appElements.push(h)),this._addRenderNode(r,h,e.ngContentIndex,t);var f=new _(r,o.isPresent(h)?h:t.appEl,i);return s.templateVisitAll(this,e.children,f),o.isPresent(h)&&o.isPresent(i)&&this.factory.createAndSetComponentView(this.renderer,this.viewManager,this.view,h,i,f.contentNodesByNgContentIndex,this.appStmts),null},ViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(e,t){var n=this.factory.createTemplateAnchor(this.renderer,this._getParentRenderNode(e.ngContentIndex,t),this.renderStmts),r=this.elementCount++,i=this.protoView.protoElements[r],o=this.factory.createViewFactory(e.children,i.embeddedTemplateIndex,this.targetStatements),a=this.factory.createAppElement(i.appProtoEl,this.view,n,t.appEl,o,this.appStmts);return this._addRenderNode(n,a,e.ngContentIndex,t),this.appElements.push(a),null},ViewBuilderVisitor.prototype.visitVariable=function(e,t){return null},ViewBuilderVisitor.prototype.visitAttr=function(e,t){return null},ViewBuilderVisitor.prototype.visitDirective=function(e,t){return null},ViewBuilderVisitor.prototype.visitEvent=function(e,t){return null},ViewBuilderVisitor.prototype.visitDirectiveProperty=function(e,t){return null},ViewBuilderVisitor.prototype.visitElementProperty=function(e,t){return null},ViewBuilderVisitor}()},function(e,t,n){"use strict";function visitAndReturnContext(e,t,n){return c.templateVisitAll(e,t,n),n}function mapToKeyValueArray(e){var t=[];s.StringMapWrapper.forEach(e,function(e,n){t.push([n,e])}),s.ListWrapper.sort(t,function(e,t){return a.StringWrapper.compare(e[0],t[0])});var n=[];return t.forEach(function(e){n.push([e[0],e[1]])}),n}function mergeAttributeValue(e,t,n){return e==m||e==g?t+" "+n:n}function keyValueArrayToStringMap(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r[0]]=r[1]}return t}function codeGenDirectivesArray(e){var t=e.map(function(e){return typeRef(e.type)});return"["+t.join(",")+"]"}function codeGenTypesArray(e){var t=e.map(typeRef);return"["+t.join(",")+"]"}function codeGenViewType(e){return a.IS_DART?""+t.VIEW_TYPE_MODULE_REF+e:""+e}function typeRef(e){return""+u.moduleRef(e.moduleUrl)+e.name}function getViewType(e,t){return t>0?p.ViewType.EMBEDDED:e.type.isHost?p.ViewType.HOST:p.ViewType.COMPONENT}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=n(16),c=n(211),u=n(212),l=n(97),p=n(99),h=n(98),f=n(209),d=n(10);t.PROTO_VIEW_JIT_IMPORTS=a.CONST_EXPR({AppProtoView:l.AppProtoView,AppProtoElement:h.AppProtoElement,ViewType:p.ViewType}),t.APP_VIEW_MODULE_REF=u.moduleRef("package:angular2/src/core/linker/view"+f.MODULE_SUFFIX),t.VIEW_TYPE_MODULE_REF=u.moduleRef("package:angular2/src/core/linker/view_type"+f.MODULE_SUFFIX),t.APP_EL_MODULE_REF=u.moduleRef("package:angular2/src/core/linker/element"+f.MODULE_SUFFIX),t.METADATA_MODULE_REF=u.moduleRef("package:angular2/src/core/metadata/view"+f.MODULE_SUFFIX);var y="$implicit",m="class",g="style",v=function(){function ProtoViewCompiler(){}return ProtoViewCompiler.prototype.compileProtoViewRuntime=function(e,t,n,r){var i=new R(e,t,r),o=[];return i.createCompileProtoView(n,[],[],o),new _([],o)},ProtoViewCompiler.prototype.compileProtoViewCodeGen=function(e,t,n,r){var i=new P(e,t,r),o=[],a=[];return i.createCompileProtoView(n,[],a,o),new _(a.map(function(e){return e.statement}),o)},ProtoViewCompiler=i([d.Injectable(),o("design:paramtypes",[])],ProtoViewCompiler)}();t.ProtoViewCompiler=v;var _=function(){function CompileProtoViews(e,t){this.declarations=e,this.protoViews=t}return CompileProtoViews}();t.CompileProtoViews=_;var b=function(){function CompileProtoView(e,t,n){this.embeddedTemplateIndex=e,this.protoElements=t,this.protoView=n}return CompileProtoView}();t.CompileProtoView=b;var w=function(){function CompileProtoElement(e,t,n,r,i,o,a){this.boundElementIndex=e,this.attrNameAndValues=t,this.variableNameAndValues=n,this.renderEvents=r,this.directives=i,this.embeddedTemplateIndex=o,this.appProtoEl=a}return CompileProtoElement}();t.CompileProtoElement=w;var C=function(){function ProtoViewFactory(e){this.component=e}return ProtoViewFactory.prototype.createCompileProtoView=function(e,t,n,r){var i=r.length;r.push(null);var o=new S(this,n,r);c.templateVisitAll(o,e);var a=getViewType(this.component,i),s=this.createAppProtoView(i,a,t,n),u=new b(i,o.protoElements,s);return r[i]=u,u},ProtoViewFactory}(),P=function(e){function CodeGenProtoViewFactory(t,n,r){e.call(this,n),this.resolvedMetadataCacheExpr=t,this.pipes=r,this._nextVarId=0}return r(CodeGenProtoViewFactory,e),CodeGenProtoViewFactory.prototype._nextProtoViewVar=function(e){
return"appProtoView"+this._nextVarId++ +"_"+this.component.type.name+e},CodeGenProtoViewFactory.prototype.createAppProtoView=function(e,n,r,i){var o=this._nextProtoViewVar(e),a=codeGenViewType(n),s=0===e?codeGenTypesArray(this.pipes.map(function(e){return e.type})):null,c="var "+o+" = "+t.APP_VIEW_MODULE_REF+"AppProtoView.create("+this.resolvedMetadataCacheExpr.expression+", "+a+", "+s+", "+f.codeGenStringMap(r)+");";return i.push(new f.Statement(c)),new f.Expression(o)},CodeGenProtoViewFactory.prototype.createAppProtoElement=function(e,n,r,i,o){var a="appProtoEl"+this._nextVarId++ +"_"+this.component.type.name,s=t.APP_EL_MODULE_REF+"AppProtoElement.create(\n        "+this.resolvedMetadataCacheExpr.expression+",\n        "+e+",\n        "+f.codeGenStringMap(n)+",\n        "+codeGenDirectivesArray(i)+",\n        "+f.codeGenStringMap(r)+"\n      )",c="var "+a+" = "+s+";";return o.push(new f.Statement(c)),new f.Expression(a)},CodeGenProtoViewFactory}(C),R=function(e){function RuntimeProtoViewFactory(t,n,r){e.call(this,n),this.metadataCache=t,this.pipes=r}return r(RuntimeProtoViewFactory,e),RuntimeProtoViewFactory.prototype.createAppProtoView=function(e,t,n,r){var i=0===e?this.pipes.map(function(e){return e.type.runtime}):[],o=keyValueArrayToStringMap(n);return l.AppProtoView.create(this.metadataCache,t,i,o)},RuntimeProtoViewFactory.prototype.createAppProtoElement=function(e,t,n,r,i){var o=keyValueArrayToStringMap(t);return h.AppProtoElement.create(this.metadataCache,e,o,r.map(function(e){return e.type.runtime}),keyValueArrayToStringMap(n))},RuntimeProtoViewFactory}(C),S=function(){function ProtoViewBuilderVisitor(e,t,n){this.factory=e,this.allStatements=t,this.allProtoViews=n,this.protoElements=[],this.boundElementCount=0}return ProtoViewBuilderVisitor.prototype._readAttrNameAndValues=function(e,t){var n=visitAndReturnContext(this,t,{});return e.forEach(function(e){s.StringMapWrapper.forEach(e.hostAttributes,function(e,t){var r=n[t];n[t]=a.isPresent(r)?mergeAttributeValue(t,r,e):e})}),mapToKeyValueArray(n)},ProtoViewBuilderVisitor.prototype.visitBoundText=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitText=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitNgContent=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitElement=function(e,t){var n=this,r=null;e.isBound()&&(r=this.boundElementCount++);var i=e.getComponent(),o=[];a.isBlank(i)&&e.exportAsVars.forEach(function(e){o.push([e.name,null])});var u=[],l=visitAndReturnContext(this,e.outputs,new Map);s.ListWrapper.forEachWithIndex(e.directives,function(e,t){e.visit(n,new E(t,r,l,o,u))});var p=[];l.forEach(function(e,t){return p.push(e)});var h=this._readAttrNameAndValues(u,e.attrs);return this._addProtoElement(e.isBound(),r,h,o,p,u,null),c.templateVisitAll(this,e.children),null},ProtoViewBuilderVisitor.prototype.visitEmbeddedTemplate=function(e,t){var n=this,r=this.boundElementCount++,i=[];s.ListWrapper.forEachWithIndex(e.directives,function(e,t){e.visit(n,new E(t,r,new Map,[],i))});var o=this._readAttrNameAndValues(i,e.attrs),a=e.vars.map(function(e){return[e.value.length>0?e.value:y,e.name]}),c=this.factory.createCompileProtoView(e.children,a,this.allStatements,this.allProtoViews);return this._addProtoElement(!0,r,o,[],[],i,c.embeddedTemplateIndex),null},ProtoViewBuilderVisitor.prototype._addProtoElement=function(e,t,n,r,i,o,a){var s=null;e&&(s=this.factory.createAppProtoElement(t,n,r,o,this.allStatements));var c=new w(t,n,r,i,o,a,s);this.protoElements.push(c)},ProtoViewBuilderVisitor.prototype.visitVariable=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitAttr=function(e,t){return t[e.name]=e.value,null},ProtoViewBuilderVisitor.prototype.visitDirective=function(e,t){return t.targetDirectives.push(e.directive),c.templateVisitAll(this,e.hostEvents,t.hostEventTargetAndNames),e.exportAsVars.forEach(function(e){t.targetVariableNameAndValues.push([e.name,t.index])}),null},ProtoViewBuilderVisitor.prototype.visitEvent=function(e,t){return t.set(e.fullName,e),null},ProtoViewBuilderVisitor.prototype.visitDirectiveProperty=function(e,t){return null},ProtoViewBuilderVisitor.prototype.visitElementProperty=function(e,t){return null},ProtoViewBuilderVisitor}(),E=function(){function DirectiveContext(e,t,n,r,i){this.index=e,this.boundElementIndex=t,this.hostEventTargetAndNames=n,this.targetVariableNameAndValues=r,this.targetDirectives=i}return DirectiveContext}()},function(e,t,n){"use strict";function splitClasses(e){return c.StringWrapper.split(e.trim(),/\s+/g)}function createElementCssSelector(e,t){var n=new v.CssSelector,r=d.splitNsName(e)[1];n.setElement(r);for(var i=0;i<t.length;i++){var o=t[i][0],a=d.splitNsName(o)[1],s=t[i][1];if(n.addAttribute(a,s),o.toLowerCase()==A){var c=splitClasses(s);c.forEach(function(e){return n.addClassName(e)})}}return n}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(16),c=n(8),u=n(29),l=n(8),p=n(18),h=n(34),f=n(222),d=n(226),y=n(225),m=n(39),g=n(211),v=n(208),_=n(227),b=n(228),w=n(218),C=n(223),P=n(209),R=/^(?:(?:(?:(bind-)|(var-|#)|(on-)|(bindon-))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/g,S="template",E="template",D="*",A="class",O=".",T="attr",I="class",N="style",x=v.CssSelector.parse("*")[0];t.TEMPLATE_TRANSFORMS=l.CONST_EXPR(new u.OpaqueToken("TemplateTransforms"));var k=function(e){function TemplateParseError(t,n){e.call(this,n,t)}return r(TemplateParseError,e),TemplateParseError}(y.ParseError);t.TemplateParseError=k;var M=function(){function TemplateParseResult(e,t){this.templateAst=e,this.errors=t}return TemplateParseResult}();t.TemplateParseResult=M;var V=function(){function TemplateParser(e,t,n,r){this._exprParser=e,this._schemaRegistry=t,this._htmlParser=n,this.transforms=r}return TemplateParser.prototype.parse=function(e,t,n,r){var i=this.tryParse(e,t,n,r);if(c.isPresent(i.errors)){var o=i.errors.join("\n");throw new p.BaseException("Template parse errors:\n"+o)}return i.templateAst},TemplateParser.prototype.tryParse=function(e,t,n,r){var i=new j(t,n,this._exprParser,this._schemaRegistry),o=this._htmlParser.parse(e,r),a=C.htmlVisitAll(i,o.rootNodes,W),s=o.errors.concat(i.errors);return s.length>0?new M(a,s):(c.isPresent(this.transforms)&&this.transforms.forEach(function(e){a=g.templateVisitAll(e,a)}),new M(a))},TemplateParser=i([u.Injectable(),a(3,u.Optional()),a(3,u.Inject(t.TEMPLATE_TRANSFORMS)),o("design:paramtypes",[h.Parser,_.ElementSchemaRegistry,f.HtmlParser,Array])],TemplateParser)}();t.TemplateParser=V;var j=function(){function TemplateParseVisitor(e,t,n,r){var i=this;this._exprParser=n,this._schemaRegistry=r,this.errors=[],this.directivesIndex=new Map,this.ngContentCount=0,this.selectorMatcher=new v.SelectorMatcher,s.ListWrapper.forEachWithIndex(e,function(e,t){var n=v.CssSelector.parse(e.selector);i.selectorMatcher.addSelectables(n,e),i.directivesIndex.set(e,t)}),this.pipesByName=new Map,t.forEach(function(e){return i.pipesByName.set(e.name,e)})}return TemplateParseVisitor.prototype._reportError=function(e,t){this.errors.push(new k(e,t))},TemplateParseVisitor.prototype._parseInterpolation=function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseInterpolation(e,n);return this._checkPipes(r,t),r}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},TemplateParseVisitor.prototype._parseAction=function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseAction(e,n);return this._checkPipes(r,t),r}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},TemplateParseVisitor.prototype._parseBinding=function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseBinding(e,n);return this._checkPipes(r,t),r}catch(i){return this._reportError(""+i,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},TemplateParseVisitor.prototype._parseTemplateBindings=function(e,t){var n=this,r=t.start.toString();try{var i=this._exprParser.parseTemplateBindings(e,r);return i.forEach(function(e){c.isPresent(e.expression)&&n._checkPipes(e.expression,t)}),i}catch(o){return this._reportError(""+o,t),[]}},TemplateParseVisitor.prototype._checkPipes=function(e,t){var n=this;if(c.isPresent(e)){var r=new H;e.visit(r),r.pipes.forEach(function(e){n.pipesByName.has(e)||n._reportError("The pipe '"+e+"' could not be found",t)})}},TemplateParseVisitor.prototype.visitText=function(e,t){var n=t.findNgContentIndex(x),r=this._parseInterpolation(e.value,e.sourceSpan);return c.isPresent(r)?new g.BoundTextAst(r,n,e.sourceSpan):new g.TextAst(e.value,n,e.sourceSpan)},TemplateParseVisitor.prototype.visitAttr=function(e,t){return new g.AttrAst(e.name,e.value,e.sourceSpan)},TemplateParseVisitor.prototype.visitComment=function(e,t){return null},TemplateParseVisitor.prototype.visitElement=function(e,t){var n=this,r=e.name,i=b.preparseElement(e);if(i.type===b.PreparsedElementType.SCRIPT||i.type===b.PreparsedElementType.STYLE)return null;if(i.type===b.PreparsedElementType.STYLESHEET&&w.isStyleUrlResolvable(i.hrefAttr))return null;var o=[],a=[],s=[],u=[],l=[],p=[],h=[],f=!1,y=[];e.attrs.forEach(function(e){var t=n._parseAttr(e,o,a,u,s),r=n._parseInlineTemplateBinding(e,h,l,p);t||r||(y.push(n.visitAttr(e,null)),o.push([e.name,e.value])),r&&(f=!0)});var m,_=d.splitNsName(r.toLowerCase())[1],P=_==S,R=createElementCssSelector(r,o),E=this._createDirectiveAsts(e.name,this._parseDirectives(this.selectorMatcher,R),a,P?[]:s,e.sourceSpan),D=this._createElementPropertyAsts(e.name,a,E),A=C.htmlVisitAll(i.nonBindable?U:this,e.children,L.create(E)),O=c.isPresent(i.projectAs)?v.CssSelector.parse(i.projectAs)[0]:R,T=t.findNgContentIndex(O);if(i.type===b.PreparsedElementType.NG_CONTENT)c.isPresent(e.children)&&e.children.length>0&&this._reportError("<ng-content> element cannot have content. <ng-content> must be immediately followed by </ng-content>",e.sourceSpan),m=new g.NgContentAst(this.ngContentCount++,f?null:T,e.sourceSpan);else if(P)this._assertAllEventsPublishedByDirectives(E,u),this._assertNoComponentsNorElementBindingsOnTemplate(E,D,e.sourceSpan),m=new g.EmbeddedTemplateAst(y,u,s,E,A,f?null:T,e.sourceSpan);else{this._assertOnlyOneComponent(E,e.sourceSpan);var I=s.filter(function(e){return 0===e.value.length}),N=f?null:t.findNgContentIndex(O);m=new g.ElementAst(r,y,D,u,I,E,A,f?null:N,e.sourceSpan)}if(f){var x=createElementCssSelector(S,h),k=this._createDirectiveAsts(e.name,this._parseDirectives(this.selectorMatcher,x),l,[],e.sourceSpan),M=this._createElementPropertyAsts(e.name,l,k);this._assertNoComponentsNorElementBindingsOnTemplate(k,M,e.sourceSpan),m=new g.EmbeddedTemplateAst([],[],p,k,[m],T,e.sourceSpan)}return m},TemplateParseVisitor.prototype._parseInlineTemplateBinding=function(e,t,n,r){var i=null;if(e.name==E)i=e.value;else if(e.name.startsWith(D)){var o=e.name.substring(D.length);i=0==e.value.length?o:o+" "+e.value}if(c.isPresent(i)){for(var a=this._parseTemplateBindings(i,e.sourceSpan),s=0;s<a.length;s++){var u=a[s];u.keyIsVar?(r.push(new g.VariableAst(u.key,u.name,e.sourceSpan)),t.push([u.key,u.name])):c.isPresent(u.expression)?this._parsePropertyAst(u.key,u.expression,e.sourceSpan,t,n):(t.push([u.key,""]),this._parseLiteralAttr(u.key,null,e.sourceSpan,n))}return!0}return!1},TemplateParseVisitor.prototype._parseAttr=function(e,t,n,r,i){var o=this._normalizeAttributeName(e.name),a=e.value,s=c.RegExpWrapper.firstMatch(R,o),u=!1;if(c.isPresent(s))if(u=!0,c.isPresent(s[1]))this._parseProperty(s[5],a,e.sourceSpan,t,n);else if(c.isPresent(s[2])){var l=s[5];this._parseVariable(l,a,e.sourceSpan,i)}else c.isPresent(s[3])?this._parseEvent(s[5],a,e.sourceSpan,t,r):c.isPresent(s[4])?(this._parseProperty(s[5],a,e.sourceSpan,t,n),this._parseAssignmentEvent(s[5],a,e.sourceSpan,t,r)):c.isPresent(s[6])?(this._parseProperty(s[6],a,e.sourceSpan,t,n),this._parseAssignmentEvent(s[6],a,e.sourceSpan,t,r)):c.isPresent(s[7])?this._parseProperty(s[7],a,e.sourceSpan,t,n):c.isPresent(s[8])&&this._parseEvent(s[8],a,e.sourceSpan,t,r);else u=this._parsePropertyInterpolation(o,a,e.sourceSpan,t,n);return u||this._parseLiteralAttr(o,a,e.sourceSpan,n),u},TemplateParseVisitor.prototype._normalizeAttributeName=function(e){return e.toLowerCase().startsWith("data-")?e.substring(5):e},TemplateParseVisitor.prototype._parseVariable=function(e,t,n,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new g.VariableAst(e,t,n))},TemplateParseVisitor.prototype._parseProperty=function(e,t,n,r,i){this._parsePropertyAst(e,this._parseBinding(t,n),n,r,i)},TemplateParseVisitor.prototype._parsePropertyInterpolation=function(e,t,n,r,i){var o=this._parseInterpolation(t,n);return c.isPresent(o)?(this._parsePropertyAst(e,o,n,r,i),!0):!1},TemplateParseVisitor.prototype._parsePropertyAst=function(e,t,n,r,i){r.push([e,t.source]),i.push(new F(e,t,!1,n))},TemplateParseVisitor.prototype._parseAssignmentEvent=function(e,t,n,r,i){this._parseEvent(e+"Change",t+"=$event",n,r,i)},TemplateParseVisitor.prototype._parseEvent=function(e,t,n,r,i){var o=P.splitAtColon(e,[null,e]),a=o[0],s=o[1],c=this._parseAction(t,n);r.push([e,c.source]),i.push(new g.BoundEventAst(s,a,c,n))},TemplateParseVisitor.prototype._parseLiteralAttr=function(e,t,n,r){r.push(new F(e,this._exprParser.wrapLiteralPrimitive(t,""),!0,n))},TemplateParseVisitor.prototype._parseDirectives=function(e,t){var n=this,r=[];return e.match(t,function(e,t){r.push(t)}),s.ListWrapper.sort(r,function(e,t){var r=e.isComponent,i=t.isComponent;return r&&!i?-1:!r&&i?1:n.directivesIndex.get(e)-n.directivesIndex.get(t)}),r},TemplateParseVisitor.prototype._createDirectiveAsts=function(e,t,n,r,i){var o=this,a=new Set,c=t.map(function(t){var s=[],c=[],u=[];o._createDirectiveHostPropertyAsts(e,t.hostProperties,i,s),o._createDirectiveHostEventAsts(t.hostListeners,i,c),o._createDirectivePropertyAsts(t.inputs,n,u);var l=[];return r.forEach(function(e){(0===e.value.length&&t.isComponent||t.exportAs==e.value)&&(l.push(e),a.add(e.name))}),new g.DirectiveAst(t,u,s,c,l,i)});return r.forEach(function(e){e.value.length>0&&!s.SetWrapper.has(a,e.name)&&o._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan)}),c},TemplateParseVisitor.prototype._createDirectiveHostPropertyAsts=function(e,t,n,r){var i=this;c.isPresent(t)&&s.StringMapWrapper.forEach(t,function(t,o){var a=i._parseBinding(t,n);r.push(i._createElementPropertyAst(e,o,a,n))})},TemplateParseVisitor.prototype._createDirectiveHostEventAsts=function(e,t,n){var r=this;c.isPresent(e)&&s.StringMapWrapper.forEach(e,function(e,i){r._parseEvent(i,e,t,[],n)})},TemplateParseVisitor.prototype._createDirectivePropertyAsts=function(e,t,n){if(c.isPresent(e)){var r=new Map;t.forEach(function(e){var t=r.get(e.name);(c.isBlank(t)||t.isLiteral)&&r.set(e.name,e)}),s.StringMapWrapper.forEach(e,function(e,t){var i=r.get(e);c.isPresent(i)&&n.push(new g.BoundDirectivePropertyAst(t,i.name,i.expression,i.sourceSpan))})}},TemplateParseVisitor.prototype._createElementPropertyAsts=function(e,t,n){var r=this,i=[],o=new Map;return n.forEach(function(e){e.inputs.forEach(function(e){o.set(e.templateName,e)})}),t.forEach(function(t){!t.isLiteral&&c.isBlank(o.get(t.name))&&i.push(r._createElementPropertyAst(e,t.name,t.expression,t.sourceSpan))}),i},TemplateParseVisitor.prototype._createElementPropertyAst=function(e,t,n,r){var i,o,a=null,s=t.split(O);if(1===s.length)o=this._schemaRegistry.getMappedPropName(s[0]),i=g.PropertyBindingType.Property,this._schemaRegistry.hasProperty(e,o)||this._reportError("Can't bind to '"+o+"' since it isn't a known native property",r);else if(s[0]==T){o=s[1];var c=o.indexOf(":");if(c>-1){var u=o.substring(0,c),l=o.substring(c+1);o=d.mergeNsAndName(u,l)}i=g.PropertyBindingType.Attribute}else s[0]==I?(o=s[1],i=g.PropertyBindingType.Class):s[0]==N?(a=s.length>2?s[2]:null,o=s[1],i=g.PropertyBindingType.Style):(this._reportError("Invalid property name '"+t+"'",r),i=null);return new g.BoundElementPropertyAst(o,i,n,a,r)},TemplateParseVisitor.prototype._findComponentDirectiveNames=function(e){var t=[];return e.forEach(function(e){var n=e.directive.type.name;e.directive.isComponent&&t.push(n)}),t},TemplateParseVisitor.prototype._assertOnlyOneComponent=function(e,t){var n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError("More than one component: "+n.join(","),t)},TemplateParseVisitor.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(e,t,n){var r=this,i=this._findComponentDirectiveNames(e);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),n),t.forEach(function(e){r._reportError("Property binding "+e.name+" not used by any directive on an embedded template",n)})},TemplateParseVisitor.prototype._assertAllEventsPublishedByDirectives=function(e,t){var n=this,r=new Set;e.forEach(function(e){s.StringMapWrapper.forEach(e.directive.outputs,function(e,t){r.add(e)})}),t.forEach(function(e){!c.isPresent(e.target)&&s.SetWrapper.has(r,e.name)||n._reportError("Event binding "+e.fullName+" not emitted by any directive on an embedded template",e.sourceSpan)})},TemplateParseVisitor}(),B=function(){function NonBindableVisitor(){}return NonBindableVisitor.prototype.visitElement=function(e,t){var n=b.preparseElement(e);if(n.type===b.PreparsedElementType.SCRIPT||n.type===b.PreparsedElementType.STYLE||n.type===b.PreparsedElementType.STYLESHEET)return null;var r=e.attrs.map(function(e){return[e.name,e.value]}),i=createElementCssSelector(e.name,r),o=t.findNgContentIndex(i),a=C.htmlVisitAll(this,e.children,W);return new g.ElementAst(e.name,C.htmlVisitAll(this,e.attrs),[],[],[],[],a,o,e.sourceSpan)},NonBindableVisitor.prototype.visitComment=function(e,t){return null},NonBindableVisitor.prototype.visitAttr=function(e,t){return new g.AttrAst(e.name,e.value,e.sourceSpan)},NonBindableVisitor.prototype.visitText=function(e,t){var n=t.findNgContentIndex(x);return new g.TextAst(e.value,n,e.sourceSpan)},NonBindableVisitor}(),F=function(){function BoundElementOrDirectiveProperty(e,t,n,r){this.name=e,this.expression=t,this.isLiteral=n,this.sourceSpan=r}return BoundElementOrDirectiveProperty}();t.splitClasses=splitClasses;var L=function(){function Component(e,t){this.ngContentIndexMatcher=e,this.wildcardNgContentIndex=t}return Component.create=function(e){if(0===e.length||!e[0].directive.isComponent)return W;for(var t=new v.SelectorMatcher,n=e[0].directive.template.ngContentSelectors,r=null,i=0;i<n.length;i++){var o=n[i];c.StringWrapper.equals(o,"*")?r=i:t.addSelectables(v.CssSelector.parse(n[i]),i)}return new Component(t,r)},Component.prototype.findNgContentIndex=function(e){var t=[];return this.ngContentIndexMatcher.match(e,function(e,n){t.push(n)}),s.ListWrapper.sort(t),c.isPresent(this.wildcardNgContentIndex)&&t.push(this.wildcardNgContentIndex),t.length>0?t[0]:null},Component}(),W=new L(new v.SelectorMatcher,null),U=new B,H=function(e){function PipeCollector(){e.apply(this,arguments),this.pipes=new Set}return r(PipeCollector,e),PipeCollector.prototype.visitPipe=function(e){return this.pipes.add(e.name),e.exp.visit(this),this.visitAll(e.args),null},PipeCollector}(m.RecursiveAstVisitor);t.PipeCollector=H},function(e,t,n){"use strict";function getElementFullName(e,t,n){return a.isBlank(e)&&(e=h.getHtmlTagDefinition(t).implicitNamespacePrefix,a.isBlank(e)&&a.isPresent(n)&&(e=h.getNsPrefix(n.name))),h.mergeNsAndName(e,t)}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=n(16),c=n(223),u=n(10),l=n(224),p=n(225),h=n(226),f=function(e){function HtmlTreeError(t,n,r){e.call(this,n,r),this.elementName=t}return r(HtmlTreeError,e),HtmlTreeError.create=function(e,t,n){return new HtmlTreeError(e,t,n)},HtmlTreeError}(p.ParseError);t.HtmlTreeError=f;var d=function(){function HtmlParseTreeResult(e,t){this.rootNodes=e,this.errors=t}return HtmlParseTreeResult}();t.HtmlParseTreeResult=d;var y=function(){function HtmlParser(){}return HtmlParser.prototype.parse=function(e,t){var n=l.tokenizeHtml(e,t),r=new m(n.tokens).build();return new d(r.rootNodes,n.errors.concat(r.errors))},HtmlParser=i([u.Injectable(),o("design:paramtypes",[])],HtmlParser)}();t.HtmlParser=y;var m=function(){function TreeBuilder(e){this.tokens=e,this.index=-1,this.rootNodes=[],this.errors=[],this.elementStack=[],this._advance()}return TreeBuilder.prototype.build=function(){for(;this.peek.type!==l.HtmlTokenType.EOF;)this.peek.type===l.HtmlTokenType.TAG_OPEN_START?this._consumeStartTag(this._advance()):this.peek.type===l.HtmlTokenType.TAG_CLOSE?this._consumeEndTag(this._advance()):this.peek.type===l.HtmlTokenType.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this.peek.type===l.HtmlTokenType.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this.peek.type===l.HtmlTokenType.TEXT||this.peek.type===l.HtmlTokenType.RAW_TEXT||this.peek.type===l.HtmlTokenType.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._advance();return new d(this.rootNodes,this.errors)},TreeBuilder.prototype._advance=function(){var e=this.peek;return this.index<this.tokens.length-1&&this.index++,this.peek=this.tokens[this.index],e},TreeBuilder.prototype._advanceIf=function(e){return this.peek.type===e?this._advance():null},TreeBuilder.prototype._consumeCdata=function(e){this._consumeText(this._advance()),this._advanceIf(l.HtmlTokenType.CDATA_END)},TreeBuilder.prototype._consumeComment=function(e){var t=this._advanceIf(l.HtmlTokenType.RAW_TEXT);this._advanceIf(l.HtmlTokenType.COMMENT_END);var n=a.isPresent(t)?t.parts[0].trim():null;this._addToParent(new c.HtmlCommentAst(n,e.sourceSpan))},TreeBuilder.prototype._consumeText=function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var n=this._getParentElement();a.isPresent(n)&&0==n.children.length&&h.getHtmlTagDefinition(n.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new c.HtmlTextAst(t,e.sourceSpan))},TreeBuilder.prototype._closeVoidElement=function(){if(this.elementStack.length>0){var e=s.ListWrapper.last(this.elementStack);h.getHtmlTagDefinition(e.name).isVoid&&this.elementStack.pop()}},TreeBuilder.prototype._consumeStartTag=function(e){for(var t=e.parts[0],n=e.parts[1],r=[];this.peek.type===l.HtmlTokenType.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=getElementFullName(t,n,this._getParentElement()),o=!1;this.peek.type===l.HtmlTokenType.TAG_OPEN_END_VOID?(this._advance(),o=!0,null!=h.getNsPrefix(i)||h.getHtmlTagDefinition(i).isVoid||this.errors.push(f.create(i,e.sourceSpan,'Only void and foreign elements can be self closed "'+e.parts[1]+'"'))):this.peek.type===l.HtmlTokenType.TAG_OPEN_END&&(this._advance(),o=!1);var a=this.peek.sourceSpan.start,s=new p.ParseSourceSpan(e.sourceSpan.start,a),u=new c.HtmlElementAst(i,r,[],s,s,null);this._pushElement(u),o&&(this._popElement(i),u.endSourceSpan=s)},TreeBuilder.prototype._pushElement=function(e){if(this.elementStack.length>0){var t=s.ListWrapper.last(this.elementStack);h.getHtmlTagDefinition(t.name).isClosedByChild(e.name)&&this.elementStack.pop()}var n=h.getHtmlTagDefinition(e.name),t=this._getParentElement();if(n.requireExtraParent(a.isPresent(t)?t.name:null)){var r=new c.HtmlElementAst(n.parentToAdd,[],[e],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._addToParent(r),this.elementStack.push(r),this.elementStack.push(e)}else this._addToParent(e),this.elementStack.push(e)},TreeBuilder.prototype._consumeEndTag=function(e){var t=getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement().endSourceSpan=e.sourceSpan,h.getHtmlTagDefinition(t).isVoid?this.errors.push(f.create(t,e.sourceSpan,'Void elements do not have end tags "'+e.parts[1]+'"')):this._popElement(t)||this.errors.push(f.create(t,e.sourceSpan,'Unexpected closing tag "'+e.parts[1]+'"'))},TreeBuilder.prototype._popElement=function(e){for(var t=this.elementStack.length-1;t>=0;t--){var n=this.elementStack[t];if(n.name==e)return s.ListWrapper.splice(this.elementStack,t,this.elementStack.length-t),!0;if(!h.getHtmlTagDefinition(n.name).closedByParent)return!1}return!1},TreeBuilder.prototype._consumeAttr=function(e){var t=h.mergeNsAndName(e.parts[0],e.parts[1]),n=e.sourceSpan.end,r="";if(this.peek.type===l.HtmlTokenType.ATTR_VALUE){var i=this._advance();r=i.parts[0],n=i.sourceSpan.end}return new c.HtmlAttrAst(t,r,new p.ParseSourceSpan(e.sourceSpan.start,n))},TreeBuilder.prototype._getParentElement=function(){return this.elementStack.length>0?s.ListWrapper.last(this.elementStack):null},TreeBuilder.prototype._addToParent=function(e){var t=this._getParentElement();a.isPresent(t)?t.children.push(e):this.rootNodes.push(e)},TreeBuilder}()},function(e,t,n){"use strict";function htmlVisitAll(e,t,n){void 0===n&&(n=null);var i=[];return t.forEach(function(t){var o=t.visit(e,n);r.isPresent(o)&&i.push(o)}),i}var r=n(8),i=function(){function HtmlTextAst(e,t){this.value=e,this.sourceSpan=t}return HtmlTextAst.prototype.visit=function(e,t){return e.visitText(this,t)},HtmlTextAst}();t.HtmlTextAst=i;var o=function(){function HtmlAttrAst(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}return HtmlAttrAst.prototype.visit=function(e,t){return e.visitAttr(this,t)},HtmlAttrAst}();t.HtmlAttrAst=o;var a=function(){function HtmlElementAst(e,t,n,r,i,o){this.name=e,this.attrs=t,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}return HtmlElementAst.prototype.visit=function(e,t){return e.visitElement(this,t)},HtmlElementAst}();t.HtmlElementAst=a;var s=function(){function HtmlCommentAst(e,t){this.value=e,this.sourceSpan=t}return HtmlCommentAst.prototype.visit=function(e,t){return e.visitComment(this,t)},HtmlCommentAst}();t.HtmlCommentAst=s,t.htmlVisitAll=htmlVisitAll},function(e,t,n){"use strict";function tokenizeHtml(e,t){return new G(new a.ParseSourceFile(e,t)).tokenize()}function unexpectedCharacterErrorMsg(e){var t=e===h?"EOF":i.StringWrapper.fromCharCode(e);return'Unexpected character "'+t+'"'}function unknownEntityErrorMsg(e){return'Unknown entity "'+e+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}function isNotWhitespace(e){return!isWhitespace(e)||e===h}function isWhitespace(e){return e>=f&&m>=e||e===W}function isNameEnd(e){return isWhitespace(e)||e===T||e===P||e===w||e===v||e===O}function isPrefixEnd(e){return(j>e||e>F)&&(x>e||e>V)&&(R>e||e>E)}function isDigitEntityEnd(e){return e==S||e==h||!isAsciiHexDigit(e)}function isNamedEntityEnd(e){return e==S||e==h||!isAsciiLetter(e)}function isTextEnd(e){return e===A||e===h}function isAsciiLetter(e){return e>=j&&F>=e||e>=x&&V>=e}function isAsciiHexDigit(e){return e>=j&&B>=e||e>=x&&k>=e||e>=R&&E>=e}function compareCharCodeCaseInsensitive(e,t){return toUpperCaseCharCode(e)==toUpperCaseCharCode(t)}function toUpperCaseCharCode(e){return e>=j&&F>=e?e-j+x:e}function mergeTextTokens(e){for(var t,n=[],r=0;r<e.length;r++){var o=e[r];i.isPresent(t)&&t.type==c.TEXT&&o.type==c.TEXT?(t.parts[0]+=o.parts[0],t.sourceSpan.end=o.sourceSpan.end):(t=o,n.push(t))}return n}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(16),a=n(225),s=n(226);!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_VALUE=12]="ATTR_VALUE",e[e.DOC_TYPE=13]="DOC_TYPE",e[e.EOF=14]="EOF"}(t.HtmlTokenType||(t.HtmlTokenType={}));var c=t.HtmlTokenType,u=function(){function HtmlToken(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}return HtmlToken}();t.HtmlToken=u;var l=function(e){function HtmlTokenError(t,n,r){e.call(this,r,t),this.tokenType=n}return r(HtmlTokenError,e),HtmlTokenError}(a.ParseError);t.HtmlTokenError=l;var p=function(){function HtmlTokenizeResult(e,t){this.tokens=e,this.errors=t}return HtmlTokenizeResult}();t.HtmlTokenizeResult=p,t.tokenizeHtml=tokenizeHtml;var h=0,f=9,d=10,y=13,m=32,g=33,v=34,_=35,b=38,w=39,C=45,P=47,R=48,S=59,E=57,D=58,A=60,O=61,T=62,I=91,N=93,x=65,k=70,M=88,V=90,j=97,B=102,F=122,L=120,W=160,U=/\r\n?/g,H=function(){function ControlFlowError(e){this.error=e}return ControlFlowError}(),G=function(){function _HtmlTokenizer(e){this.file=e,this.peek=-1,this.index=-1,this.line=0,this.column=-1,this.tokens=[],this.errors=[],this.input=e.content,this.length=e.content.length,this._advance()}return _HtmlTokenizer.prototype._processCarriageReturns=function(e){return i.StringWrapper.replaceAll(e,U,"\n")},_HtmlTokenizer.prototype.tokenize=function(){for(;this.peek!==h;){var e=this._getLocation();try{this._attemptCharCode(A)?this._attemptCharCode(g)?this._attemptCharCode(I)?this._consumeCdata(e):this._attemptCharCode(C)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(P)?this._consumeTagClose(e):this._consumeTagOpen(e):this._consumeText()}catch(t){if(!(t instanceof H))throw t;this.errors.push(t.error)}}return this._beginToken(c.EOF),this._endToken([]),new p(mergeTextTokens(this.tokens),this.errors)},_HtmlTokenizer.prototype._getLocation=function(){return new a.ParseLocation(this.file,this.index,this.line,this.column)},_HtmlTokenizer.prototype._getSpan=function(e,t){return i.isBlank(e)&&(e=this._getLocation()),i.isBlank(t)&&(t=this._getLocation()),new a.ParseSourceSpan(e,t)},_HtmlTokenizer.prototype._beginToken=function(e,t){void 0===t&&(t=null),i.isBlank(t)&&(t=this._getLocation()),this.currentTokenStart=t,this.currentTokenType=e},_HtmlTokenizer.prototype._endToken=function(e,t){void 0===t&&(t=null),i.isBlank(t)&&(t=this._getLocation());var n=new u(this.currentTokenType,e,new a.ParseSourceSpan(this.currentTokenStart,t));return this.tokens.push(n),this.currentTokenStart=null,this.currentTokenType=null,n},_HtmlTokenizer.prototype._createError=function(e,t){var n=new l(e,this.currentTokenType,t);return this.currentTokenStart=null,this.currentTokenType=null,new H(n)},_HtmlTokenizer.prototype._advance=function(){if(this.index>=this.length)throw this._createError(unexpectedCharacterErrorMsg(h),this._getSpan());this.peek===d?(this.line++,this.column=0):this.peek!==d&&this.peek!==y&&this.column++,this.index++,this.peek=this.index>=this.length?h:i.StringWrapper.charCodeAt(this.input,this.index)},_HtmlTokenizer.prototype._attemptCharCode=function(e){return this.peek===e?(this._advance(),!0):!1},_HtmlTokenizer.prototype._attemptCharCodeCaseInsensitive=function(e){return compareCharCodeCaseInsensitive(this.peek,e)?(this._advance(),!0):!1},_HtmlTokenizer.prototype._requireCharCode=function(e){
var t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(t,t))},_HtmlTokenizer.prototype._attemptStr=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCode(i.StringWrapper.charCodeAt(e,t)))return!1;return!0},_HtmlTokenizer.prototype._attemptStrCaseInsensitive=function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(i.StringWrapper.charCodeAt(e,t)))return!1;return!0},_HtmlTokenizer.prototype._requireStr=function(e){var t=this._getLocation();if(!this._attemptStr(e))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(t))},_HtmlTokenizer.prototype._attemptCharCodeUntilFn=function(e){for(;!e(this.peek);)this._advance()},_HtmlTokenizer.prototype._requireCharCodeUntilFn=function(e,t){var n=this._getLocation();if(this._attemptCharCodeUntilFn(e),this.index-n.offset<t)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan(n,n))},_HtmlTokenizer.prototype._attemptUntilChar=function(e){for(;this.peek!==e;)this._advance()},_HtmlTokenizer.prototype._readChar=function(e){if(e&&this.peek===b)return this._decodeEntity();var t=this.index;return this._advance(),this.input[t]},_HtmlTokenizer.prototype._decodeEntity=function(){var e=this._getLocation();if(this._advance(),!this._attemptCharCode(_)){var t=this._savePosition();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this.peek!=S)return this._restorePosition(t),"&";this._advance();var n=this.input.substring(e.offset+1,this.index-1),r=s.NAMED_ENTITIES[n];if(i.isBlank(r))throw this._createError(unknownEntityErrorMsg(n),this._getSpan(e));return r}var o=this._attemptCharCode(L)||this._attemptCharCode(M),a=this._getLocation().offset;if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this.peek!=S)throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());this._advance();var c=this.input.substring(a,this.index-1);try{var u=i.NumberWrapper.parseInt(c,o?16:10);return i.StringWrapper.fromCharCode(u)}catch(l){var p=this.input.substring(e.offset+1,this.index-1);throw this._createError(unknownEntityErrorMsg(p),this._getSpan(e))}},_HtmlTokenizer.prototype._consumeRawText=function(e,t,n){var r,i=this._getLocation();this._beginToken(e?c.ESCAPABLE_RAW_TEXT:c.RAW_TEXT,i);for(var o=[];;){if(r=this._getLocation(),this._attemptCharCode(t)&&n())break;for(this.index>r.offset&&o.push(this.input.substring(r.offset,this.index));this.peek!==t;)o.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(o.join(""))],r)},_HtmlTokenizer.prototype._consumeComment=function(e){var t=this;this._beginToken(c.COMMENT_START,e),this._requireCharCode(C),this._endToken([]);var n=this._consumeRawText(!1,C,function(){return t._attemptStr("->")});this._beginToken(c.COMMENT_END,n.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeCdata=function(e){var t=this;this._beginToken(c.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);var n=this._consumeRawText(!1,N,function(){return t._attemptStr("]>")});this._beginToken(c.CDATA_END,n.sourceSpan.end),this._endToken([])},_HtmlTokenizer.prototype._consumeDocType=function(e){this._beginToken(c.DOC_TYPE,e),this._attemptUntilChar(T),this._advance(),this._endToken([this.input.substring(e.offset+2,this.index-1)])},_HtmlTokenizer.prototype._consumePrefixAndName=function(){for(var e=this.index,t=null;this.peek!==D&&!isPrefixEnd(this.peek);)this._advance();var n;this.peek===D?(this._advance(),t=this.input.substring(e,this.index-1),n=this.index):n=e,this._requireCharCodeUntilFn(isNameEnd,this.index===n?1:0);var r=this.input.substring(n,this.index);return[t,r]},_HtmlTokenizer.prototype._consumeTagOpen=function(e){var t,n=this._savePosition();try{if(!isAsciiLetter(this.peek))throw this._createError(unexpectedCharacterErrorMsg(this.peek),this._getSpan());var r=this.index;for(this._consumeTagOpenStart(e),t=this.input.substring(r,this.index).toLowerCase(),this._attemptCharCodeUntilFn(isNotWhitespace);this.peek!==P&&this.peek!==T;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode(O)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(i){if(i instanceof H)return this._restorePosition(n),this._beginToken(c.TEXT,e),void this._endToken(["<"]);throw i}var o=s.getHtmlTagDefinition(t).contentType;o===s.HtmlTagContentType.RAW_TEXT?this._consumeRawTextWithTagClose(t,!1):o===s.HtmlTagContentType.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(t,!0)},_HtmlTokenizer.prototype._consumeRawTextWithTagClose=function(e,t){var n=this,r=this._consumeRawText(t,A,function(){return n._attemptCharCode(P)?(n._attemptCharCodeUntilFn(isNotWhitespace),n._attemptStrCaseInsensitive(e)?(n._attemptCharCodeUntilFn(isNotWhitespace),!!n._attemptCharCode(T)):!1):!1});this._beginToken(c.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,e])},_HtmlTokenizer.prototype._consumeTagOpenStart=function(e){this._beginToken(c.TAG_OPEN_START,e);var t=this._consumePrefixAndName();this._endToken(t)},_HtmlTokenizer.prototype._consumeAttributeName=function(){this._beginToken(c.ATTR_NAME);var e=this._consumePrefixAndName();this._endToken(e)},_HtmlTokenizer.prototype._consumeAttributeValue=function(){this._beginToken(c.ATTR_VALUE);var e;if(this.peek===w||this.peek===v){var t=this.peek;this._advance();for(var n=[];this.peek!==t;)n.push(this._readChar(!0));e=n.join(""),this._advance()}else{var r=this.index;this._requireCharCodeUntilFn(isNameEnd,1),e=this.input.substring(r,this.index)}this._endToken([this._processCarriageReturns(e)])},_HtmlTokenizer.prototype._consumeTagOpenEnd=function(){var e=this._attemptCharCode(P)?c.TAG_OPEN_END_VOID:c.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(T),this._endToken([])},_HtmlTokenizer.prototype._consumeTagClose=function(e){this._beginToken(c.TAG_CLOSE,e),this._attemptCharCodeUntilFn(isNotWhitespace);var t;t=this._consumePrefixAndName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(T),this._endToken(t)},_HtmlTokenizer.prototype._consumeText=function(){var e=this._getLocation();this._beginToken(c.TEXT,e);for(var t=[this._readChar(!0)];!isTextEnd(this.peek);)t.push(this._readChar(!0));this._endToken([this._processCarriageReturns(t.join(""))])},_HtmlTokenizer.prototype._savePosition=function(){return[this.peek,this.index,this.column,this.line,this.tokens.length]},_HtmlTokenizer.prototype._restorePosition=function(e){this.peek=e[0],this.index=e[1],this.column=e[2],this.line=e[3];var t=e[4];t<this.tokens.length&&(this.tokens=o.ListWrapper.slice(this.tokens,0,t))},_HtmlTokenizer}()},function(e,t){"use strict";var n=function(){function ParseLocation(e,t,n,r){this.file=e,this.offset=t,this.line=n,this.col=r}return ParseLocation.prototype.toString=function(){return this.file.url+"@"+this.line+":"+this.col},ParseLocation}();t.ParseLocation=n;var r=function(){function ParseSourceFile(e,t){this.content=e,this.url=t}return ParseSourceFile}();t.ParseSourceFile=r;var i=function(){function ParseSourceSpan(e,t){this.start=e,this.end=t}return ParseSourceSpan.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},ParseSourceSpan}();t.ParseSourceSpan=i;var o=function(){function ParseError(e,t){this.span=e,this.msg=t}return ParseError.prototype.toString=function(){var e=this.span.start.file.content,t=this.span.start.offset;t>e.length-1&&(t=e.length-1);for(var n=t,r=0,i=0;100>r&&t>0&&(t--,r++,"\n"!=e[t]||3!=++i););for(r=0,i=0;100>r&&n<e.length-1&&(n++,r++,"\n"!=e[n]||3!=++i););var o=e.substring(t,this.span.start.offset)+"[ERROR ->]"+e.substring(this.span.start.offset,n+1);return this.msg+' ("'+o+'"): '+this.span.start},ParseError}();t.ParseError=o},function(e,t,n){"use strict";function getHtmlTagDefinition(e){var t=a[e.toLowerCase()];return r.isPresent(t)?t:s}function splitNsName(e){if("@"!=e[0])return[null,e];var t=r.RegExpWrapper.firstMatch(c,e);return[t[1],t[2]]}function getNsPrefix(e){return splitNsName(e)[0]}function mergeNsAndName(e,t){return r.isPresent(e)?"@"+e+":"+t:t}var r=n(8);t.NAMED_ENTITIES=r.CONST_EXPR({Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞","int":"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌"}),function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(t.HtmlTagContentType||(t.HtmlTagContentType={}));var i=t.HtmlTagContentType,o=function(){function HtmlTagDefinition(e){var t=this,n=void 0===e?{}:e,o=n.closedByChildren,a=n.requiredParents,s=n.implicitNamespacePrefix,c=n.contentType,u=n.closedByParent,l=n.isVoid,p=n.ignoreFirstLf;this.closedByChildren={},this.closedByParent=!1,r.isPresent(o)&&o.length>0&&o.forEach(function(e){return t.closedByChildren[e]=!0}),this.isVoid=r.normalizeBool(l),this.closedByParent=r.normalizeBool(u)||this.isVoid,r.isPresent(a)&&a.length>0&&(this.requiredParents={},this.parentToAdd=a[0],a.forEach(function(e){return t.requiredParents[e]=!0})),this.implicitNamespacePrefix=s,this.contentType=r.isPresent(c)?c:i.PARSABLE_DATA,this.ignoreFirstLf=r.normalizeBool(p)}return HtmlTagDefinition.prototype.requireExtraParent=function(e){if(r.isBlank(this.requiredParents))return!1;if(r.isBlank(e))return!0;var t=e.toLowerCase();return 1!=this.requiredParents[t]&&"template"!=t},HtmlTagDefinition.prototype.isClosedByChild=function(e){return this.isVoid||r.normalizeBool(this.closedByChildren[e.toLowerCase()])},HtmlTagDefinition}();t.HtmlTagDefinition=o;var a={base:new o({isVoid:!0}),meta:new o({isVoid:!0}),area:new o({isVoid:!0}),embed:new o({isVoid:!0}),link:new o({isVoid:!0}),img:new o({isVoid:!0}),input:new o({isVoid:!0}),param:new o({isVoid:!0}),hr:new o({isVoid:!0}),br:new o({isVoid:!0}),source:new o({isVoid:!0}),track:new o({isVoid:!0}),wbr:new o({isVoid:!0}),p:new o({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new o({closedByChildren:["tbody","tfoot"]}),tbody:new o({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new o({closedByChildren:["tbody"],closedByParent:!0}),tr:new o({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new o({closedByChildren:["td","th"],closedByParent:!0}),th:new o({closedByChildren:["td","th"],closedByParent:!0}),col:new o({requiredParents:["colgroup"],isVoid:!0}),svg:new o({implicitNamespacePrefix:"svg"}),math:new o({implicitNamespacePrefix:"math"}),li:new o({closedByChildren:["li"],closedByParent:!0}),dt:new o({closedByChildren:["dt","dd"]}),dd:new o({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new o({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new o({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new o({closedByChildren:["optgroup"],closedByParent:!0}),option:new o({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new o({ignoreFirstLf:!0}),listing:new o({ignoreFirstLf:!0}),style:new o({contentType:i.RAW_TEXT}),script:new o({contentType:i.RAW_TEXT}),title:new o({contentType:i.ESCAPABLE_RAW_TEXT}),textarea:new o({contentType:i.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},s=new o;t.getHtmlTagDefinition=getHtmlTagDefinition;var c=/^@([^:]+):(.+)/g;t.splitNsName=splitNsName,t.getNsPrefix=getNsPrefix,t.mergeNsAndName=mergeNsAndName},function(e,t){"use strict";var n=function(){function ElementSchemaRegistry(){}return ElementSchemaRegistry.prototype.hasProperty=function(e,t){return!0},ElementSchemaRegistry.prototype.getMappedPropName=function(e){return e},ElementSchemaRegistry}();t.ElementSchemaRegistry=n},function(e,t,n){"use strict";function preparseElement(e){var t=null,n=null,r=null,g=!1,v=null;e.attrs.forEach(function(e){var i=e.name.toLowerCase();i==o?t=e.value:i==u?n=e.value:i==c?r=e.value:e.name==f?g=!0:e.name==d&&e.value.length>0&&(v=e.value)}),t=normalizeNgContentSelect(t);var _=e.name.toLowerCase(),b=y.OTHER;return i.splitNsName(_)[1]==a?b=y.NG_CONTENT:_==p?b=y.STYLE:_==h?b=y.SCRIPT:_==s&&r==l&&(b=y.STYLESHEET),new m(b,t,n,g,v)}function normalizeNgContentSelect(e){return r.isBlank(e)||0===e.length?"*":e}var r=n(8),i=n(226),o="select",a="ng-content",s="link",c="rel",u="href",l="stylesheet",p="style",h="script",f="ngNonBindable",d="ngProjectAs";t.preparseElement=preparseElement,function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(t.PreparsedElementType||(t.PreparsedElementType={}));var y=t.PreparsedElementType,m=function(){function PreparsedElement(e,t,n,r,i){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}return PreparsedElement}();t.PreparsedElement=m},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(207),a=n(8),s=n(18),c=n(56),u=n(28),l=n(203),p=n(218),h=n(10),f=n(86),d=n(223),y=n(222),m=n(228),g=function(){function TemplateNormalizer(e,t,n){this._xhr=e,this._urlResolver=t,this._htmlParser=n}return TemplateNormalizer.prototype.normalizeTemplate=function(e,t){var n=this;if(a.isPresent(t.template))return c.PromiseWrapper.resolve(this.normalizeLoadedTemplate(e,t,t.template,e.moduleUrl));if(a.isPresent(t.templateUrl)){var r=this._urlResolver.resolve(e.moduleUrl,t.templateUrl);return this._xhr.get(r).then(function(i){return n.normalizeLoadedTemplate(e,t,i,r)})}throw new s.BaseException("No template specified for component "+e.name)},TemplateNormalizer.prototype.normalizeLoadedTemplate=function(e,t,n,r){var i=this,a=this._htmlParser.parse(n,e.name);if(a.errors.length>0){var c=a.errors.join("\n");throw new s.BaseException("Template parse errors:\n"+c)}var u=new v;d.htmlVisitAll(u,a.rootNodes);var l=t.styles.concat(u.styles),h=u.styleUrls.filter(p.isStyleUrlResolvable).map(function(e){return i._urlResolver.resolve(r,e)}).concat(t.styleUrls.filter(p.isStyleUrlResolvable).map(function(t){return i._urlResolver.resolve(e.moduleUrl,t)})),y=l.map(function(e){var t=p.extractStyleUrls(i._urlResolver,r,e);return t.styleUrls.forEach(function(e){return h.push(e)}),t.style}),m=t.encapsulation;return m===f.ViewEncapsulation.Emulated&&0===y.length&&0===h.length&&(m=f.ViewEncapsulation.None),new o.CompileTemplateMetadata({encapsulation:m,template:n,templateUrl:r,styles:y,styleUrls:h,ngContentSelectors:u.ngContentSelectors})},TemplateNormalizer=r([h.Injectable(),i("design:paramtypes",[u.XHR,l.UrlResolver,y.HtmlParser])],TemplateNormalizer)}();t.TemplateNormalizer=g;var v=function(){function TemplatePreparseVisitor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return TemplatePreparseVisitor.prototype.visitElement=function(e,t){var n=m.preparseElement(e);switch(n.type){case m.PreparsedElementType.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case m.PreparsedElementType.STYLE:var r="";e.children.forEach(function(e){e instanceof d.HtmlTextAst&&(r+=e.value)}),this.styles.push(r);break;case m.PreparsedElementType.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,d.htmlVisitAll(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null},TemplatePreparseVisitor.prototype.visitComment=function(e,t){return null},TemplatePreparseVisitor.prototype.visitAttr=function(e,t){return null},TemplatePreparseVisitor.prototype.visitText=function(e,t){return null},TemplatePreparseVisitor}()},function(e,t,n){"use strict";function flattenDirectives(e,t){var n=[];return s.isPresent(t)&&flattenArray(t,n),s.isPresent(e.directives)&&flattenArray(e.directives,n),n}function flattenPipes(e,t){var n=[];return s.isPresent(t)&&flattenArray(t,n),s.isPresent(e.pipes)&&flattenArray(e.pipes,n),n}function flattenArray(e,t){for(var n=0;n<e.length;n++){var r=a.resolveForwardRef(e[n]);s.isArray(r)?flattenArray(r,t):t.push(r)}}function isValidType(e){return s.isPresent(e)&&e instanceof s.Type}function calcModuleUrl(e,t){var n=t.moduleId;if(s.isPresent(n)){var r=w.getUrlScheme(n);return s.isPresent(r)&&r.length>0?n:"package:"+n+_.MODULE_SUFFIX}return m.reflector.importUri(e)}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(10),s=n(8),c=n(18),u=n(207),l=n(32),p=n(115),h=n(122),f=n(116),d=n(231),y=n(210),m=n(21),g=n(10),v=n(118),_=n(209),b=n(232),w=n(203),C=function(){function RuntimeMetadataResolver(e,t,n,r,i){this._directiveResolver=e,this._pipeResolver=t,this._viewResolver=n,this._platformDirectives=r,this._platformPipes=i,this._directiveCache=new Map,this._pipeCache=new Map,this._anonymousTypes=new Map,this._anonymousTypeIndex=0}return RuntimeMetadataResolver.prototype.sanitizeName=function(e){var t=s.stringify(e);if(t.indexOf("(")<0)return t;var n=this._anonymousTypes.get(e);return n||(this._anonymousTypes.set(e,this._anonymousTypeIndex++),n=this._anonymousTypes.get(e)),"anonymous_type_"+n+"_"},RuntimeMetadataResolver.prototype.getDirectiveMetadata=function(e){var t=this._directiveCache.get(e);if(s.isBlank(t)){var n=this._directiveResolver.resolve(e),r=null,i=null,o=null;if(n instanceof l.ComponentMetadata){b.assertArrayOfStrings("styles",n.styles);var a=n;r=calcModuleUrl(e,a);var c=this._viewResolver.resolve(e);b.assertArrayOfStrings("styles",c.styles),i=new u.CompileTemplateMetadata({encapsulation:c.encapsulation,template:c.template,templateUrl:c.templateUrl,styles:c.styles,styleUrls:c.styleUrls}),o=a.changeDetection}t=u.CompileDirectiveMetadata.create({selector:n.selector,exportAs:n.exportAs,isComponent:s.isPresent(i),dynamicLoadable:!0,type:new u.CompileTypeMetadata({name:this.sanitizeName(e),moduleUrl:r,runtime:e}),template:i,changeDetection:o,inputs:n.inputs,outputs:n.outputs,host:n.host,lifecycleHooks:y.LIFECYCLE_HOOKS_VALUES.filter(function(t){return d.hasLifecycleHook(t,e)})}),this._directiveCache.set(e,t)}return t},RuntimeMetadataResolver.prototype.getPipeMetadata=function(e){var t=this._pipeCache.get(e);if(s.isBlank(t)){var n=this._pipeResolver.resolve(e),r=m.reflector.importUri(e);t=new u.CompilePipeMetadata({type:new u.CompileTypeMetadata({name:this.sanitizeName(e),moduleUrl:r,runtime:e}),name:n.name,pure:n.pure}),this._pipeCache.set(e,t)}return t},RuntimeMetadataResolver.prototype.getViewDirectivesMetadata=function(e){for(var t=this,n=this._viewResolver.resolve(e),r=flattenDirectives(n,this._platformDirectives),i=0;i<r.length;i++)if(!isValidType(r[i]))throw new c.BaseException("Unexpected directive value '"+s.stringify(r[i])+"' on the View of component '"+s.stringify(e)+"'");return r.map(function(e){return t.getDirectiveMetadata(e)})},RuntimeMetadataResolver.prototype.getViewPipesMetadata=function(e){for(var t=this,n=this._viewResolver.resolve(e),r=flattenPipes(n,this._platformPipes),i=0;i<r.length;i++)if(!isValidType(r[i]))throw new c.BaseException("Unexpected piped value '"+s.stringify(r[i])+"' on the View of component '"+s.stringify(e)+"'");return r.map(function(e){return t.getPipeMetadata(e)})},RuntimeMetadataResolver=r([g.Injectable(),o(3,g.Optional()),o(3,g.Inject(v.PLATFORM_DIRECTIVES)),o(4,g.Optional()),o(4,g.Inject(v.PLATFORM_PIPES)),i("design:paramtypes",[p.DirectiveResolver,h.PipeResolver,f.ViewResolver,Array,Array])],RuntimeMetadataResolver)}();t.RuntimeMetadataResolver=C},function(e,t,n){"use strict";function hasLifecycleHook(e,t){if(!(t instanceof r.Type))return!1;var n=t.prototype;switch(e){case i.LifecycleHooks.AfterContentInit:return!!n.ngAfterContentInit;case i.LifecycleHooks.AfterContentChecked:return!!n.ngAfterContentChecked;case i.LifecycleHooks.AfterViewInit:return!!n.ngAfterViewInit;case i.LifecycleHooks.AfterViewChecked:return!!n.ngAfterViewChecked;case i.LifecycleHooks.OnChanges:return!!n.ngOnChanges;case i.LifecycleHooks.DoCheck:return!!n.ngDoCheck;case i.LifecycleHooks.OnDestroy:return!!n.ngOnDestroy;case i.LifecycleHooks.OnInit:return!!n.ngOnInit;default:return!1}}var r=n(8),i=n(210);t.hasLifecycleHook=hasLifecycleHook},function(e,t,n){"use strict";function assertArrayOfStrings(e,t){if(r.assertionsEnabled()&&!r.isBlank(t)){if(!r.isArray(t))throw new i.BaseException("Expected '"+e+"' to be an array of strings.");for(var n=0;n<t.length;n+=1)if(!r.isString(t[n]))throw new i.BaseException("Expected '"+e+"' to be an array of strings.")}}var r=n(8),i=n(18);t.assertArrayOfStrings=assertArrayOfStrings},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(10),s=n(8),c=n(16),u=n(172),l=n(226),p=n(227),h=s.CONST_EXPR({xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"}),f=function(e){function DomElementSchemaRegistry(){e.apply(this,arguments),this._protoElements=new Map}return r(DomElementSchemaRegistry,e),DomElementSchemaRegistry.prototype._getProtoElement=function(e){var t=this._protoElements.get(e);if(s.isBlank(t)){var n=l.splitNsName(e);t=s.isPresent(n[0])?u.DOM.createElementNS(h[n[0]],n[1]):u.DOM.createElement(n[1]),this._protoElements.set(e,t)}return t},DomElementSchemaRegistry.prototype.hasProperty=function(e,t){if(-1!==e.indexOf("-"))return!0;var n=this._getProtoElement(e);return u.DOM.hasProperty(n,t)},DomElementSchemaRegistry.prototype.getMappedPropName=function(e){var t=c.StringMapWrapper.get(u.DOM.attrToPropMap,e);return s.isPresent(t)?t:e},DomElementSchemaRegistry=i([a.Injectable(),o("design:paramtypes",[])],DomElementSchemaRegistry)}(p.ElementSchemaRegistry);t.DomElementSchemaRegistry=f},,,function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(237);t.Router=r.Router;var i=n(256);t.RouterOutlet=i.RouterOutlet;var o=n(258);t.RouterLink=o.RouterLink;var a=n(242);t.RouteParams=a.RouteParams,t.RouteData=a.RouteData;var s=n(259);t.PlatformLocation=s.PlatformLocation;var c=n(238);t.RouteRegistry=c.RouteRegistry,t.ROUTER_PRIMARY_COMPONENT=c.ROUTER_PRIMARY_COMPONENT;var u=n(253);t.LocationStrategy=u.LocationStrategy,t.APP_BASE_HREF=u.APP_BASE_HREF;var l=n(260);t.HashLocationStrategy=l.HashLocationStrategy;var p=n(261);t.PathLocationStrategy=p.PathLocationStrategy;var h=n(252);t.Location=h.Location,__export(n(251));var f=n(257);t.CanActivate=f.CanActivate;var d=n(242);t.Instruction=d.Instruction,t.ComponentInstruction=d.ComponentInstruction;var y=n(29);t.OpaqueToken=y.OpaqueToken;var m=n(262);t.ROUTER_PROVIDERS_COMMON=m.ROUTER_PROVIDERS_COMMON;var g=n(263);t.ROUTER_PROVIDERS=g.ROUTER_PROVIDERS,t.ROUTER_BINDINGS=g.ROUTER_BINDINGS;var v=n(256),_=n(258),b=n(8);t.ROUTER_DIRECTIVES=b.CONST_EXPR([v.RouterOutlet,_.RouterLink])},function(e,t,n){"use strict";function canActivateOne(e,t){var n=y;return u.isBlank(e.component)?n:(u.isPresent(e.child)&&(n=canActivateOne(e.child,u.isPresent(t)?t.child:null)),n.then(function(n){if(0==n)return!1;if(e.component.reuse)return!0;var r=d.getCanActivateHook(e.component.componentType);return u.isPresent(r)?r(e.component,u.isPresent(t)?t.component:null):!0}))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(56),c=n(16),u=n(8),l=n(18),p=n(29),h=n(238),f=n(252),d=n(254),y=s.PromiseWrapper.resolve(!0),m=s.PromiseWrapper.resolve(!1),g=function(){function Router(e,t,n,r){this.registry=e,this.parent=t,this.hostComponent=n,this.root=r,this.navigating=!1,this.currentInstruction=null,this._currentNavigation=y,this._outlet=null,this._auxRouters=new c.Map,this._subject=new s.EventEmitter}return Router.prototype.childRouter=function(e){return this._childRouter=new _(this,e)},Router.prototype.auxRouter=function(e){return new _(this,e)},Router.prototype.registerPrimaryOutlet=function(e){if(u.isPresent(e.name))throw new l.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(u.isPresent(this._outlet))throw new l.BaseException("Primary outlet is already registered.");return this._outlet=e,u.isPresent(this.currentInstruction)?this.commit(this.currentInstruction,!1):y},Router.prototype.unregisterPrimaryOutlet=function(e){if(u.isPresent(e.name))throw new l.BaseException("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},Router.prototype.registerAuxOutlet=function(e){var t=e.name;if(u.isBlank(t))throw new l.BaseException("registerAuxOutlet expects to be called with an outlet with a name.");var n=this.auxRouter(this.hostComponent);this._auxRouters.set(t,n),n._outlet=e;var r;return u.isPresent(this.currentInstruction)&&u.isPresent(r=this.currentInstruction.auxInstruction[t])?n.commit(r):y},Router.prototype.isRouteActive=function(e){var t=this,n=this;if(u.isBlank(this.currentInstruction))return!1;for(;u.isPresent(n.parent)&&u.isPresent(e.child);)n=n.parent,e=e.child;if(u.isBlank(e.component)||u.isBlank(this.currentInstruction.component)||this.currentInstruction.component.routeName!=e.component.routeName)return!1;var r=!0;return u.isPresent(this.currentInstruction.component.params)&&c.StringMapWrapper.forEach(e.component.params,function(e,n){t.currentInstruction.component.params[n]!==e&&(r=!1)}),r},Router.prototype.config=function(e){var t=this;return e.forEach(function(e){t.registry.config(t.hostComponent,e)}),this.renavigate()},Router.prototype.navigate=function(e){var t=this.generate(e);return this.navigateByInstruction(t,!1)},Router.prototype.navigateByUrl=function(e,t){var n=this;return void 0===t&&(t=!1),this._currentNavigation=this._currentNavigation.then(function(r){return n.lastNavigationAttempt=e,n._startNavigating(),n._afterPromiseFinishNavigating(n.recognize(e).then(function(e){return u.isBlank(e)?!1:n._navigate(e,t)}))})},Router.prototype.navigateByInstruction=function(e,t){var n=this;return void 0===t&&(t=!1),u.isBlank(e)?m:this._currentNavigation=this._currentNavigation.then(function(r){return n._startNavigating(),n._afterPromiseFinishNavigating(n._navigate(e,t))})},Router.prototype._settleInstruction=function(e){var t=this;return e.resolveComponent().then(function(n){var r=[];return u.isPresent(e.component)&&(e.component.reuse=!1),u.isPresent(e.child)&&r.push(t._settleInstruction(e.child)),c.StringMapWrapper.forEach(e.auxInstruction,function(e,n){r.push(t._settleInstruction(e))}),s.PromiseWrapper.all(r)})},Router.prototype._navigate=function(e,t){var n=this;return this._settleInstruction(e).then(function(t){return n._routerCanReuse(e)}).then(function(t){return n._canActivate(e)}).then(function(r){return r?n._routerCanDeactivate(e).then(function(r){return r?n.commit(e,t).then(function(t){return n._emitNavigationFinish(e.toRootUrl()),!0}):void 0}):!1})},Router.prototype._emitNavigationFinish=function(e){s.ObservableWrapper.callEmit(this._subject,e)},Router.prototype._emitNavigationFail=function(e){s.ObservableWrapper.callError(this._subject,e)},Router.prototype._afterPromiseFinishNavigating=function(e){var t=this;return s.PromiseWrapper.catchError(e.then(function(e){return t._finishNavigating()}),function(e){throw t._finishNavigating(),e})},Router.prototype._routerCanReuse=function(e){var t=this;return u.isBlank(this._outlet)?m:u.isBlank(e.component)?y:this._outlet.routerCanReuse(e.component).then(function(n){return e.component.reuse=n,n&&u.isPresent(t._childRouter)&&u.isPresent(e.child)?t._childRouter._routerCanReuse(e.child):void 0})},Router.prototype._canActivate=function(e){return canActivateOne(e,this.currentInstruction);
},Router.prototype._routerCanDeactivate=function(e){var t=this;if(u.isBlank(this._outlet))return y;var n,r=null,i=!1,o=null;return u.isPresent(e)&&(r=e.child,o=e.component,i=u.isBlank(e.component)||e.component.reuse),n=i?y:this._outlet.routerCanDeactivate(o),n.then(function(e){return 0==e?!1:u.isPresent(t._childRouter)?t._childRouter._routerCanDeactivate(r):!0})},Router.prototype.commit=function(e,t){var n=this;void 0===t&&(t=!1),this.currentInstruction=e;var r=y;if(u.isPresent(this._outlet)&&u.isPresent(e.component)){var i=e.component;r=i.reuse?this._outlet.reuse(i):this.deactivate(e).then(function(e){return n._outlet.activate(i)}),u.isPresent(e.child)&&(r=r.then(function(t){return u.isPresent(n._childRouter)?n._childRouter.commit(e.child):void 0}))}var o=[];return this._auxRouters.forEach(function(t,n){u.isPresent(e.auxInstruction[n])&&o.push(t.commit(e.auxInstruction[n]))}),r.then(function(e){return s.PromiseWrapper.all(o)})},Router.prototype._startNavigating=function(){this.navigating=!0},Router.prototype._finishNavigating=function(){this.navigating=!1},Router.prototype.subscribe=function(e,t){return s.ObservableWrapper.subscribe(this._subject,e,t)},Router.prototype.deactivate=function(e){var t=this,n=null,r=null;u.isPresent(e)&&(n=e.child,r=e.component);var i=y;return u.isPresent(this._childRouter)&&(i=this._childRouter.deactivate(n)),u.isPresent(this._outlet)&&(i=i.then(function(e){return t._outlet.deactivate(r)})),i},Router.prototype.recognize=function(e){var t=this._getAncestorInstructions();return this.registry.recognize(e,t)},Router.prototype._getAncestorInstructions=function(){for(var e=[this.currentInstruction],t=this;u.isPresent(t=t.parent);)e.unshift(t.currentInstruction);return e},Router.prototype.renavigate=function(){return u.isBlank(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},Router.prototype.generate=function(e){var t=this._getAncestorInstructions();return this.registry.generate(e,t)},Router=i([p.Injectable(),o("design:paramtypes",[h.RouteRegistry,Router,Object,Router])],Router)}();t.Router=g;var v=function(e){function RootRouter(t,n,r){var i=this;e.call(this,t,null,r),this.root=this,this._location=n,this._locationSub=this._location.subscribe(function(e){i.recognize(e.url).then(function(t){u.isPresent(t)?i.navigateByInstruction(t,u.isPresent(e.pop)).then(function(n){if(!u.isPresent(e.pop)||"hashchange"==e.type){var r=t.toUrlPath(),o=t.toUrlQuery();r.length>0&&"/"!=r[0]&&(r="/"+r),"hashchange"==e.type?t.toRootUrl()!=i._location.path()&&i._location.replaceState(r,o):i._location.go(r,o)}}):i._emitNavigationFail(e.url)})}),this.registry.configFromComponent(r),this.navigateByUrl(n.path())}return r(RootRouter,e),RootRouter.prototype.commit=function(t,n){var r=this;void 0===n&&(n=!1);var i=t.toUrlPath(),o=t.toUrlQuery();i.length>0&&"/"!=i[0]&&(i="/"+i);var a=e.prototype.commit.call(this,t);return n||(a=a.then(function(e){r._location.go(i,o)})),a},RootRouter.prototype.dispose=function(){u.isPresent(this._locationSub)&&(s.ObservableWrapper.dispose(this._locationSub),this._locationSub=null)},RootRouter=i([p.Injectable(),a(2,p.Inject(h.ROUTER_PRIMARY_COMPONENT)),o("design:paramtypes",[h.RouteRegistry,f.Location,u.Type])],RootRouter)}(g);t.RootRouter=v;var _=function(e){function ChildRouter(t,n){e.call(this,t.registry,t,n,t.root),this.parent=t}return r(ChildRouter,e),ChildRouter.prototype.navigateByUrl=function(e,t){return void 0===t&&(t=!1),this.parent.navigateByUrl(e,t)},ChildRouter.prototype.navigateByInstruction=function(e,t){return void 0===t&&(t=!1),this.parent.navigateByInstruction(e,t)},ChildRouter}(g)},function(e,t,n){"use strict";function splitAndFlattenLinkParams(e){var t=[];return e.forEach(function(e){if(c.isString(e)){var n=e;t=t.concat(n.split("/"))}else t.push(e)}),t}function mostSpecific(e){if(e=e.filter(function(e){return c.isPresent(e)}),0==e.length)return null;if(1==e.length)return e[0];var t=e[0],n=e.slice(1);return n.reduce(function(e,t){return-1==compareSpecificityStrings(t.specificity,e.specificity)?t:e},t)}function compareSpecificityStrings(e,t){for(var n=c.Math.min(e.length,t.length),r=0;n>r;r+=1){var i=c.StringWrapper.charCodeAt(e,r),o=c.StringWrapper.charCodeAt(t,r),a=o-i;if(0!=a)return a}return e.length-t.length}function assertTerminalComponent(e,t){if(c.isType(e)){var n=l.reflector.annotations(e);if(c.isPresent(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof h.RouteConfig)throw new u.BaseException('Child routes are not allowed for "'+t+'". Use "..." on the parent\'s route path.')}}}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(16),s=n(56),c=n(8),u=n(18),l=n(21),p=n(29),h=n(239),f=n(240),d=n(243),y=n(242),m=n(250),g=n(241),v=s.PromiseWrapper.resolve(null);t.ROUTER_PRIMARY_COMPONENT=c.CONST_EXPR(new p.OpaqueToken("RouterPrimaryComponent"));var _=function(){function RouteRegistry(e){this._rootComponent=e,this._rules=new a.Map}return RouteRegistry.prototype.config=function(e,t){t=m.normalizeRouteConfig(t,this),t instanceof h.Route?m.assertComponentExists(t.component,t.path):t instanceof h.AuxRoute&&m.assertComponentExists(t.component,t.path);var n=this._rules.get(e);c.isBlank(n)&&(n=new d.RuleSet,this._rules.set(e,n));var r=n.config(t);t instanceof h.Route&&(r?assertTerminalComponent(t.component,t.path):this.configFromComponent(t.component))},RouteRegistry.prototype.configFromComponent=function(e){var t=this;if(c.isType(e)&&!this._rules.has(e)){var n=l.reflector.annotations(e);if(c.isPresent(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof h.RouteConfig){var o=i.configs;o.forEach(function(n){return t.config(e,n)})}}}},RouteRegistry.prototype.recognize=function(e,t){var n=g.parser.parse(e);return this._recognize(n,[])},RouteRegistry.prototype._recognize=function(e,t,n){var r=this;void 0===n&&(n=!1);var i=a.ListWrapper.last(t),o=c.isPresent(i)?i.component.componentType:this._rootComponent,u=this._rules.get(o);if(c.isBlank(u))return v;var l=n?u.recognizeAuxiliary(e):u.recognize(e),p=l.map(function(e){return e.then(function(e){if(e instanceof f.PathMatch){var n=t.length>0?[a.ListWrapper.last(t)]:[],i=r._auxRoutesToUnresolved(e.remainingAux,n),o=new y.ResolvedInstruction(e.instruction,null,i);if(c.isBlank(e.instruction)||e.instruction.terminal)return o;var s=t.concat([o]);return r._recognize(e.remaining,s).then(function(e){return c.isBlank(e)?null:e instanceof y.RedirectInstruction?e:(o.child=e,o)})}if(e instanceof f.RedirectMatch){var o=r.generate(e.redirectTo,t.concat([null]));return new y.RedirectInstruction(o.component,o.child,o.auxInstruction,e.specificity)}})});return!c.isBlank(e)&&""!=e.path||0!=l.length?s.PromiseWrapper.all(p).then(mostSpecific):s.PromiseWrapper.resolve(this.generateDefault(o))},RouteRegistry.prototype._auxRoutesToUnresolved=function(e,t){var n=this,r={};return e.forEach(function(e){r[e.path]=new y.UnresolvedInstruction(function(){return n._recognize(e,t,!0)})}),r},RouteRegistry.prototype.generate=function(e,t,n){void 0===n&&(n=!1);var r,i=splitAndFlattenLinkParams(e);if(""==a.ListWrapper.first(i))i.shift(),r=a.ListWrapper.first(t),t=[];else if(r=t.length>0?t.pop():null,"."==a.ListWrapper.first(i))i.shift();else if(".."==a.ListWrapper.first(i))for(;".."==a.ListWrapper.first(i);){if(t.length<=0)throw new u.BaseException('Link "'+a.ListWrapper.toJSON(e)+'" has too many "../" segments.');r=t.pop(),i=a.ListWrapper.slice(i,1)}else{var o=a.ListWrapper.first(i),s=this._rootComponent,l=null;if(t.length>1){var p=t[t.length-1],h=t[t.length-2];s=p.component.componentType,l=h.component.componentType}else 1==t.length&&(s=t[0].component.componentType,l=this._rootComponent);var f=this.hasRoute(o,s),d=c.isPresent(l)&&this.hasRoute(o,l);if(d&&f){var y='Link "'+a.ListWrapper.toJSON(e)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new u.BaseException(y)}d&&(r=t.pop())}if(""==i[i.length-1]&&i.pop(),i.length>0&&""==i[0]&&i.shift(),i.length<1){var y='Link "'+a.ListWrapper.toJSON(e)+'" must include a route name.';throw new u.BaseException(y)}for(var m=this._generate(i,t,r,n,e),g=t.length-1;g>=0;g--){var v=t[g];if(c.isBlank(v))break;m=v.replaceChild(m)}return m},RouteRegistry.prototype._generate=function(e,t,n,r,i){var o=this;void 0===r&&(r=!1);var s=this._rootComponent,l=null,p={},h=a.ListWrapper.last(t);if(c.isPresent(h)&&c.isPresent(h.component)&&(s=h.component.componentType),0==e.length){var f=this.generateDefault(s);if(c.isBlank(f))throw new u.BaseException('Link "'+a.ListWrapper.toJSON(i)+'" does not resolve to a terminal instruction.');return f}c.isPresent(n)&&!r&&(p=a.StringMapWrapper.merge(n.auxInstruction,p),l=n.component);var d=this._rules.get(s);if(c.isBlank(d))throw new u.BaseException('Component "'+c.getTypeNameForDebugging(s)+'" has no route config.');var m=0,v={};if(m<e.length&&c.isString(e[m])){var _=e[m];if(""==_||"."==_||".."==_)throw new u.BaseException('"'+_+'/" is only allowed at the beginning of a link DSL.');if(m+=1,m<e.length){var b=e[m];c.isStringMap(b)&&!c.isArray(b)&&(v=b,m+=1)}var w=(r?d.auxRulesByName:d.rulesByName).get(_);if(c.isBlank(w))throw new u.BaseException('Component "'+c.getTypeNameForDebugging(s)+'" has no route named "'+_+'".');if(c.isBlank(w.handler.componentType)){var C=w.generateComponentPathValues(v);return new y.UnresolvedInstruction(function(){return w.handler.resolveComponentType().then(function(a){return o._generate(e,t,n,r,i)})},C.urlPath,g.convertUrlParamsToArray(C.urlParams))}l=r?d.generateAuxiliary(_,v):d.generate(_,v)}for(;m<e.length&&c.isArray(e[m]);){var P=[h],R=this._generate(e[m],P,null,!0,i);p[R.component.urlPath]=R,m+=1}var S=new y.ResolvedInstruction(l,null,p);if(c.isPresent(l)&&c.isPresent(l.componentType)){var E=null;if(l.terminal)m>=e.length;else{var D=t.concat([S]),A=e.slice(m);E=this._generate(A,D,null,!1,i)}S.child=E}return S},RouteRegistry.prototype.hasRoute=function(e,t){var n=this._rules.get(t);return c.isBlank(n)?!1:n.hasRoute(e)},RouteRegistry.prototype.generateDefault=function(e){var t=this;if(c.isBlank(e))return null;var n=this._rules.get(e);if(c.isBlank(n)||c.isBlank(n.defaultRule))return null;var r=null;if(c.isPresent(n.defaultRule.handler.componentType)){var i=n.defaultRule.generate({});return n.defaultRule.terminal||(r=this.generateDefault(n.defaultRule.handler.componentType)),new y.DefaultInstruction(i,r)}return new y.UnresolvedInstruction(function(){return n.defaultRule.handler.resolveComponentType().then(function(n){return t.generateDefault(e)})})},RouteRegistry=r([p.Injectable(),o(0,p.Inject(t.ROUTER_PRIMARY_COMPONENT)),i("design:paramtypes",[c.Type])],RouteRegistry)}();t.RouteRegistry=_},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=function(){function RouteConfig(e){this.configs=e}return RouteConfig=i([a.CONST(),o("design:paramtypes",[Array])],RouteConfig)}();t.RouteConfig=s;var c=function(){function AbstractRoute(e){var t=e.name,n=e.useAsDefault,r=e.path,i=e.regex,o=e.serializer,a=e.data;this.name=t,this.useAsDefault=n,this.path=r,this.regex=i,this.serializer=o,this.data=a}return AbstractRoute=i([a.CONST(),o("design:paramtypes",[Object])],AbstractRoute)}();t.AbstractRoute=c;var u=function(e){function Route(t){var n=t.name,r=t.useAsDefault,i=t.path,o=t.regex,a=t.serializer,s=t.data,c=t.component;e.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:s}),this.aux=null,this.component=c}return r(Route,e),Route=i([a.CONST(),o("design:paramtypes",[Object])],Route)}(c);t.Route=u;var l=function(e){function AuxRoute(t){var n=t.name,r=t.useAsDefault,i=t.path,o=t.regex,a=t.serializer,s=t.data,c=t.component;e.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:s}),this.component=c}return r(AuxRoute,e),AuxRoute=i([a.CONST(),o("design:paramtypes",[Object])],AuxRoute)}(c);t.AuxRoute=l;var p=function(e){function AsyncRoute(t){var n=t.name,r=t.useAsDefault,i=t.path,o=t.regex,a=t.serializer,s=t.data,c=t.loader;e.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:s}),this.aux=null,this.loader=c}return r(AsyncRoute,e),AsyncRoute=i([a.CONST(),o("design:paramtypes",[Object])],AsyncRoute)}(c);t.AsyncRoute=p;var h=function(e){function Redirect(t){var n=t.name,r=t.useAsDefault,i=t.path,o=t.regex,a=t.serializer,s=t.data,c=t.redirectTo;e.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:s}),this.redirectTo=c}return r(Redirect,e),Redirect=i([a.CONST(),o("design:paramtypes",[Object])],Redirect)}(c);t.Redirect=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(8),o=n(18),a=n(57),s=n(16),c=n(241),u=n(242),l=function(){function RouteMatch(){}return RouteMatch}();t.RouteMatch=l;var p=function(e){function PathMatch(t,n,r){e.call(this),this.instruction=t,this.remaining=n,this.remainingAux=r}return r(PathMatch,e),PathMatch}(l);t.PathMatch=p;var h=function(e){function RedirectMatch(t,n){e.call(this),this.redirectTo=t,this.specificity=n}return r(RedirectMatch,e),RedirectMatch}(l);t.RedirectMatch=h;var f=function(){function RedirectRule(e,t){this._pathRecognizer=e,this.redirectTo=t,this.hash=this._pathRecognizer.hash}return Object.defineProperty(RedirectRule.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(e){throw new o.BaseException("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),RedirectRule.prototype.recognize=function(e){var t=null;return i.isPresent(this._pathRecognizer.matchUrl(e))&&(t=new h(this.redirectTo,this._pathRecognizer.specificity)),a.PromiseWrapper.resolve(t)},RedirectRule.prototype.generate=function(e){throw new o.BaseException("Tried to generate a redirect.")},RedirectRule}();t.RedirectRule=f;var d=function(){function RouteRule(e,t,n){this._routePath=e,this.handler=t,this._routeName=n,this._cache=new s.Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(RouteRule.prototype,"path",{get:function(){return this._routePath.toString()},set:function(e){throw new o.BaseException("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),RouteRule.prototype.recognize=function(e){var t=this,n=this._routePath.matchUrl(e);return i.isBlank(n)?null:this.handler.resolveComponentType().then(function(e){var r=t._getInstruction(n.urlPath,n.urlParams,n.allParams);return new p(r,n.rest,n.auxiliary)})},RouteRule.prototype.generate=function(e){var t=this._routePath.generateUrl(e),n=t.urlPath,r=t.urlParams;return this._getInstruction(n,c.convertUrlParamsToArray(r),e)},RouteRule.prototype.generateComponentPathValues=function(e){return this._routePath.generateUrl(e)},RouteRule.prototype._getInstruction=function(e,t,n){if(i.isBlank(this.handler.componentType))throw new o.BaseException("Tried to get instruction before the type was loaded.");var r=e+"?"+t.join("&");if(this._cache.has(r))return this._cache.get(r);var a=new u.ComponentInstruction(e,t,this.handler.data,this.handler.componentType,this.terminal,this.specificity,n,this._routeName);return this._cache.set(r,a),a},RouteRule}();t.RouteRule=d},function(e,t,n){"use strict";function convertUrlParamsToArray(e){var t=[];return o.isBlank(e)?[]:(i.StringMapWrapper.forEach(e,function(e,n){t.push(e===!0?n:n+"="+e)}),t)}function serializeParams(e,t){return void 0===t&&(t="&"),convertUrlParamsToArray(e).join(t)}function pathSegmentsToUrl(e){for(var t=new s(e[e.length-1]),n=e.length-2;n>=0;n-=1)t=new s(e[n],t);return t}function matchUrlSegment(e){var t=o.RegExpWrapper.firstMatch(u,e);return o.isPresent(t)?t[0]:""}function matchUrlQueryParamValue(e){var t=o.RegExpWrapper.firstMatch(l,e);return o.isPresent(t)?t[0]:""}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(16),o=n(8),a=n(18);t.convertUrlParamsToArray=convertUrlParamsToArray,t.serializeParams=serializeParams;var s=function(){function Url(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=o.CONST_EXPR([])),void 0===r&&(r=o.CONST_EXPR({})),this.path=e,this.child=t,this.auxiliary=n,this.params=r}return Url.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},Url.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},Url.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(e){return e.toString()}).join("//")+")":""},Url.prototype._matrixParamsToString=function(){var e=serializeParams(this.params,";");return e.length>0?";"+e:""},Url.prototype._childString=function(){return o.isPresent(this.child)?"/"+this.child.toString():""},Url}();t.Url=s;var c=function(e){function RootUrl(t,n,r,i){void 0===n&&(n=null),void 0===r&&(r=o.CONST_EXPR([])),void 0===i&&(i=null),e.call(this,t,n,r,i)}return r(RootUrl,e),RootUrl.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},RootUrl.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},RootUrl.prototype._queryParamsToString=function(){return o.isBlank(this.params)?"":"?"+serializeParams(this.params)},RootUrl}(s);t.RootUrl=c,t.pathSegmentsToUrl=pathSegmentsToUrl;var u=o.RegExpWrapper.create("^[^\\/\\(\\)\\?;=&#]+"),l=o.RegExpWrapper.create("^[^\\(\\)\\?;&#]+"),p=function(){function UrlParser(){}return UrlParser.prototype.peekStartsWith=function(e){return this._remaining.startsWith(e)},UrlParser.prototype.capture=function(e){if(!this._remaining.startsWith(e))throw new a.BaseException('Expected "'+e+'".');this._remaining=this._remaining.substring(e.length)},UrlParser.prototype.parse=function(e){return this._remaining=e,""==e||"/"==e?new s(""):this.parseRoot()},UrlParser.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var e=matchUrlSegment(this._remaining);this.capture(e);var t=[];this.peekStartsWith("(")&&(t=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var n=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),n=this.parseSegment());var r=null;return this.peekStartsWith("?")&&(r=this.parseQueryParams()),new c(e,n,t,r)},UrlParser.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var e=matchUrlSegment(this._remaining);this.capture(e);var t=null;this.peekStartsWith(";")&&(t=this.parseMatrixParams());var n=[];this.peekStartsWith("(")&&(n=this.parseAuxiliaryRoutes());var r=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),r=this.parseSegment()),new s(e,r,n,t)},UrlParser.prototype.parseQueryParams=function(){var e={};for(this.capture("?"),this.parseQueryParam(e);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(e);return e},UrlParser.prototype.parseMatrixParams=function(){for(var e={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(e);return e},UrlParser.prototype.parseParam=function(e){var t=matchUrlSegment(this._remaining);if(!o.isBlank(t)){this.capture(t);var n=!0;if(this.peekStartsWith("=")){this.capture("=");var r=matchUrlSegment(this._remaining);o.isPresent(r)&&(n=r,this.capture(n))}e[t]=n}},UrlParser.prototype.parseQueryParam=function(e){var t=matchUrlSegment(this._remaining);if(!o.isBlank(t)){this.capture(t);var n=!0;if(this.peekStartsWith("=")){this.capture("=");var r=matchUrlQueryParamValue(this._remaining);o.isPresent(r)&&(n=r,this.capture(n))}e[t]=n}},UrlParser.prototype.parseAuxiliaryRoutes=function(){var e=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)e.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),e},UrlParser}();t.UrlParser=p,t.parser=new p},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(16),o=n(8),a=n(56),s=function(){function RouteParams(e){this.params=e}return RouteParams.prototype.get=function(e){return o.normalizeBlank(i.StringMapWrapper.get(this.params,e))},RouteParams}();t.RouteParams=s;var c=function(){function RouteData(e){void 0===e&&(e=o.CONST_EXPR({})),this.data=e}return RouteData.prototype.get=function(e){return o.normalizeBlank(i.StringMapWrapper.get(this.data,e))},RouteData}();t.RouteData=c,t.BLANK_ROUTE_DATA=new c;var u=function(){function Instruction(e,t,n){this.component=e,this.child=t,this.auxInstruction=n}return Object.defineProperty(Instruction.prototype,"urlPath",{get:function(){return o.isPresent(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(Instruction.prototype,"urlParams",{get:function(){return o.isPresent(this.component)?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(Instruction.prototype,"specificity",{get:function(){var e="";return o.isPresent(this.component)&&(e+=this.component.specificity),o.isPresent(this.child)&&(e+=this.child.specificity),e},enumerable:!0,configurable:!0}),Instruction.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},Instruction.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(o.isPresent(this.child)?this.child._toNonRootUrl():"")},Instruction.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},Instruction.prototype.replaceChild=function(e){return new l(this.component,e,this.auxInstruction)},Instruction.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(o.isPresent(this.child)?this.child._toNonRootUrl():"")},Instruction.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(o.isPresent(this.child)?this.child._toLinkUrl():"")+this.toUrlQuery()},Instruction.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(o.isPresent(this.child)?this.child._toLinkUrl():"")},Instruction.prototype._stringifyPathMatrixAuxPrefixed=function(){var e=this._stringifyPathMatrixAux();return e.length>0&&(e="/"+e),e},Instruction.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},Instruction.prototype._stringifyPathMatrixAux=function(){return o.isBlank(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},Instruction.prototype._stringifyAux=function(){var e=[];return i.StringMapWrapper.forEach(this.auxInstruction,function(t,n){e.push(t._stringifyPathMatrixAux())}),e.length>0?"("+e.join("//")+")":""},Instruction}();t.Instruction=u;var l=function(e){function ResolvedInstruction(t,n,r){e.call(this,t,n,r)}return r(ResolvedInstruction,e),ResolvedInstruction.prototype.resolveComponent=function(){return a.PromiseWrapper.resolve(this.component)},ResolvedInstruction}(u);t.ResolvedInstruction=l;var p=function(e){function DefaultInstruction(t,n){e.call(this,t,n,{})}return r(DefaultInstruction,e),DefaultInstruction.prototype.toLinkUrl=function(){return""},DefaultInstruction.prototype._toLinkUrl=function(){return""},DefaultInstruction}(l);t.DefaultInstruction=p;var h=function(e){function UnresolvedInstruction(t,n,r){void 0===n&&(n=""),void 0===r&&(r=o.CONST_EXPR([])),e.call(this,null,null,{}),this._resolver=t,this._urlPath=n,this._urlParams=r}return r(UnresolvedInstruction,e),Object.defineProperty(UnresolvedInstruction.prototype,"urlPath",{get:function(){return o.isPresent(this.component)?this.component.urlPath:o.isPresent(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(UnresolvedInstruction.prototype,"urlParams",{get:function(){return o.isPresent(this.component)?this.component.urlParams:o.isPresent(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),UnresolvedInstruction.prototype.resolveComponent=function(){var e=this;return o.isPresent(this.component)?a.PromiseWrapper.resolve(this.component):this._resolver().then(function(t){return e.child=o.isPresent(t)?t.child:null,e.component=o.isPresent(t)?t.component:null})},UnresolvedInstruction}(u);t.UnresolvedInstruction=h;var f=function(e){function RedirectInstruction(t,n,r,i){e.call(this,t,n,r),this._specificity=i}return r(RedirectInstruction,e),Object.defineProperty(RedirectInstruction.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),RedirectInstruction}(l);t.RedirectInstruction=f;var d=function(){function ComponentInstruction(e,n,r,i,a,s,c,u){void 0===c&&(c=null),this.urlPath=e,this.urlParams=n,this.componentType=i,this.terminal=a,this.specificity=s,this.params=c,this.routeName=u,this.reuse=!1,this.routeData=o.isPresent(r)?r:t.BLANK_ROUTE_DATA}return ComponentInstruction}();t.ComponentInstruction=d},function(e,t,n){"use strict";var r=n(8),i=n(18),o=n(16),a=n(56),s=n(240),c=n(239),u=n(244),l=n(245),p=n(246),h=n(249),f=function(){function RuleSet(){this.rulesByName=new o.Map,this.auxRulesByName=new o.Map,this.auxRulesByPath=new o.Map,this.rules=[],this.defaultRule=null}return RuleSet.prototype.config=function(e){var t;if(r.isPresent(e.name)&&e.name[0].toUpperCase()!=e.name[0]){var n=e.name[0].toUpperCase()+e.name.substring(1);throw new i.BaseException('Route "'+e.path+'" with name "'+e.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+n+'".')}if(e instanceof c.AuxRoute){t=new l.SyncRouteHandler(e.component,e.data);var o=this._getRoutePath(e),a=new s.RouteRule(o,t,e.name);return this.auxRulesByPath.set(o.toString(),a),r.isPresent(e.name)&&this.auxRulesByName.set(e.name,a),a.terminal}var p=!1;if(e instanceof c.Redirect){var h=this._getRoutePath(e),f=new s.RedirectRule(h,e.redirectTo);return this._assertNoHashCollision(f.hash,e.path),this.rules.push(f),!0}e instanceof c.Route?(t=new l.SyncRouteHandler(e.component,e.data),p=r.isPresent(e.useAsDefault)&&e.useAsDefault):e instanceof c.AsyncRoute&&(t=new u.AsyncRouteHandler(e.loader,e.data),p=r.isPresent(e.useAsDefault)&&e.useAsDefault);var d=this._getRoutePath(e),y=new s.RouteRule(d,t,e.name);if(this._assertNoHashCollision(y.hash,e.path),p){if(r.isPresent(this.defaultRule))throw new i.BaseException("Only one route can be default");this.defaultRule=y}return this.rules.push(y),r.isPresent(e.name)&&this.rulesByName.set(e.name,y),y.terminal},RuleSet.prototype.recognize=function(e){var t=[];return this.rules.forEach(function(n){var i=n.recognize(e);r.isPresent(i)&&t.push(i)}),0==t.length&&r.isPresent(e)&&e.auxiliary.length>0?[a.PromiseWrapper.resolve(new s.PathMatch(null,null,e.auxiliary))]:t},RuleSet.prototype.recognizeAuxiliary=function(e){var t=this.auxRulesByPath.get(e.path);return r.isPresent(t)?[t.recognize(e)]:[a.PromiseWrapper.resolve(null)]},RuleSet.prototype.hasRoute=function(e){return this.rulesByName.has(e)},RuleSet.prototype.componentLoaded=function(e){return this.hasRoute(e)&&r.isPresent(this.rulesByName.get(e).handler.componentType)},RuleSet.prototype.loadComponent=function(e){return this.rulesByName.get(e).handler.resolveComponentType()},RuleSet.prototype.generate=function(e,t){var n=this.rulesByName.get(e);return r.isBlank(n)?null:n.generate(t)},RuleSet.prototype.generateAuxiliary=function(e,t){var n=this.auxRulesByName.get(e);return r.isBlank(n)?null:n.generate(t)},RuleSet.prototype._assertNoHashCollision=function(e,t){this.rules.forEach(function(n){if(e==n.hash)throw new i.BaseException("Configuration '"+t+"' conflicts with existing route '"+n.path+"'")})},RuleSet.prototype._getRoutePath=function(e){if(r.isPresent(e.regex)){if(r.isFunction(e.serializer))return new h.RegexRoutePath(e.regex,e.serializer);throw new i.BaseException("Route provides a regex property, '"+e.regex+"', but no serializer property")}if(r.isPresent(e.path)){var t=e instanceof c.AuxRoute&&e.path.startsWith("/")?e.path.substring(1):e.path;return new p.ParamRoutePath(t)}throw new i.BaseException("Route must provide either a path or regex property")},RuleSet}();t.RuleSet=f},function(e,t,n){"use strict";var r=n(8),i=n(242),o=function(){function AsyncRouteHandler(e,t){void 0===t&&(t=null),this._loader=e,this._resolvedComponent=null,this.data=r.isPresent(t)?new i.RouteData(t):i.BLANK_ROUTE_DATA}return AsyncRouteHandler.prototype.resolveComponentType=function(){var e=this;return r.isPresent(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(t){return e.componentType=t,t})},AsyncRouteHandler}();t.AsyncRouteHandler=o},function(e,t,n){"use strict";var r=n(56),i=n(8),o=n(242),a=function(){function SyncRouteHandler(e,t){this.componentType=e,this._resolvedComponent=null,this._resolvedComponent=r.PromiseWrapper.resolve(e),this.data=i.isPresent(t)?new o.RouteData(t):o.BLANK_ROUTE_DATA}return SyncRouteHandler.prototype.resolveComponentType=function(){return this._resolvedComponent},SyncRouteHandler}();t.SyncRouteHandler=a},function(e,t,n){"use strict";function encodeDynamicSegment(e){return r.isBlank(e)?null:(e=r.StringWrapper.replaceAll(e,d,"%25"),e=r.StringWrapper.replaceAll(e,y,"%2F"),e=r.StringWrapper.replaceAll(e,m,"%28"),e=r.StringWrapper.replaceAll(e,g,"%29"),e=r.StringWrapper.replaceAll(e,v,"%3B"))}function decodeDynamicSegment(e){return r.isBlank(e)?null:(e=r.StringWrapper.replaceAll(e,_,";"),e=r.StringWrapper.replaceAll(e,b,")"),e=r.StringWrapper.replaceAll(e,w,"("),e=r.StringWrapper.replaceAll(e,C,"/"),e=r.StringWrapper.replaceAll(e,P,"%"))}var r=n(8),i=n(18),o=n(16),a=n(247),s=n(241),c=n(248),u=function(){function ContinuationPathSegment(){this.name="",this.specificity="",this.hash="..."}return ContinuationPathSegment.prototype.generate=function(e){return""},ContinuationPathSegment.prototype.match=function(e){return!0},ContinuationPathSegment}(),l=function(){function StaticPathSegment(e){this.path=e,this.name="",this.specificity="2",this.hash=e}return StaticPathSegment.prototype.match=function(e){return e==this.path},StaticPathSegment.prototype.generate=function(e){return this.path},StaticPathSegment}(),p=function(){function DynamicPathSegment(e){this.name=e,this.specificity="1",this.hash=":"}return DynamicPathSegment.prototype.match=function(e){return e.length>0},DynamicPathSegment.prototype.generate=function(e){if(!o.StringMapWrapper.contains(e.map,this.name))throw new i.BaseException("Route generator for '"+this.name+"' was not included in parameters passed.");return encodeDynamicSegment(a.normalizeString(e.get(this.name)))},DynamicPathSegment.paramMatcher=/^:([^\/]+)$/g,DynamicPathSegment}(),h=function(){function StarPathSegment(e){this.name=e,this.specificity="0",this.hash="*"}return StarPathSegment.prototype.match=function(e){
return!0},StarPathSegment.prototype.generate=function(e){return a.normalizeString(e.get(this.name))},StarPathSegment.wildcardMatcher=/^\*([^\/]+)$/g,StarPathSegment}(),f=function(){function ParamRoutePath(e){this.routePath=e,this.terminal=!0,this._assertValidPath(e),this._parsePathString(e),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var t=this._segments[this._segments.length-1];this.terminal=!(t instanceof u)}return ParamRoutePath.prototype.matchUrl=function(e){for(var t,n=e,i={},a=[],l=0;l<this._segments.length;l+=1){var f=this._segments[l];if(t=n,f instanceof u)break;if(r.isPresent(t)){if(f instanceof h){i[f.name]=t.toString(),a.push(t.toString()),n=null;break}if(a.push(t.path),f instanceof p)i[f.name]=decodeDynamicSegment(t.path);else if(!f.match(t.path))return null;n=t.child}else if(!f.match(""))return null}if(this.terminal&&r.isPresent(n))return null;var d=a.join("/"),y=[],m=[],g=i;if(r.isPresent(t)){var v=e instanceof s.RootUrl?e:t;r.isPresent(v.params)?(g=o.StringMapWrapper.merge(v.params,i),m=s.convertUrlParamsToArray(v.params)):g=i,y=t.auxiliary}return new c.MatchedUrl(d,m,g,y,n)},ParamRoutePath.prototype.generateUrl=function(e){for(var t=new a.TouchMap(e),n=[],r=0;r<this._segments.length;r++){var i=this._segments[r];i instanceof u||n.push(i.generate(t))}var o=n.join("/"),s=t.getUnused(),l=s;return new c.GeneratedUrl(o,l)},ParamRoutePath.prototype.toString=function(){return this.routePath},ParamRoutePath.prototype._parsePathString=function(e){e.startsWith("/")&&(e=e.substring(1));var t=e.split("/");this._segments=[];for(var n=t.length-1,o=0;n>=o;o++){var a,s=t[o];if(r.isPresent(a=r.RegExpWrapper.firstMatch(p.paramMatcher,s)))this._segments.push(new p(a[1]));else if(r.isPresent(a=r.RegExpWrapper.firstMatch(h.wildcardMatcher,s)))this._segments.push(new h(a[1]));else if("..."==s){if(n>o)throw new i.BaseException('Unexpected "..." before the end of the path for "'+e+'".');this._segments.push(new u)}else this._segments.push(new l(s))}},ParamRoutePath.prototype._calculateSpecificity=function(){var e,t,n=this._segments.length;if(0==n)t+="2";else for(t="",e=0;n>e;e++)t+=this._segments[e].specificity;return t},ParamRoutePath.prototype._calculateHash=function(){var e,t=this._segments.length,n=[];for(e=0;t>e;e++)n.push(this._segments[e].hash);return n.join("/")},ParamRoutePath.prototype._assertValidPath=function(e){if(r.StringWrapper.contains(e,"#"))throw new i.BaseException('Path "'+e+'" should not include "#". Use "HashLocationStrategy" instead.');var t=r.RegExpWrapper.firstMatch(ParamRoutePath.RESERVED_CHARS,e);if(r.isPresent(t))throw new i.BaseException('Path "'+e+'" contains "'+t[0]+'" which is not allowed in a route config.')},ParamRoutePath.RESERVED_CHARS=r.RegExpWrapper.create("//|\\(|\\)|;|\\?|="),ParamRoutePath}();t.ParamRoutePath=f;var d=/%/g,y=/\//g,m=/\(/g,g=/\)/g,v=/;/g,_=/%3B/gi,b=/%29/gi,w=/%28/gi,C=/%2F/gi,P=/%25/gi},function(e,t,n){"use strict";function normalizeString(e){return r.isBlank(e)?null:e.toString()}var r=n(8),i=n(16),o=function(){function TouchMap(e){var t=this;this.map={},this.keys={},r.isPresent(e)&&i.StringMapWrapper.forEach(e,function(e,n){t.map[n]=r.isPresent(e)?e.toString():null,t.keys[n]=!0})}return TouchMap.prototype.get=function(e){return i.StringMapWrapper["delete"](this.keys,e),this.map[e]},TouchMap.prototype.getUnused=function(){var e=this,t={},n=i.StringMapWrapper.keys(this.keys);return n.forEach(function(n){return t[n]=i.StringMapWrapper.get(e.map,n)}),t},TouchMap}();t.TouchMap=o,t.normalizeString=normalizeString},function(e,t){"use strict";var n=function(){function MatchedUrl(e,t,n,r,i){this.urlPath=e,this.urlParams=t,this.allParams=n,this.auxiliary=r,this.rest=i}return MatchedUrl}();t.MatchedUrl=n;var r=function(){function GeneratedUrl(e,t){this.urlPath=e,this.urlParams=t}return GeneratedUrl}();t.GeneratedUrl=r},function(e,t,n){"use strict";var r=n(8),i=n(248),o=function(){function RegexRoutePath(e,t){this._reString=e,this._serializer=t,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=r.RegExpWrapper.create(this._reString)}return RegexRoutePath.prototype.matchUrl=function(e){var t=e.toString(),n={},o=r.RegExpWrapper.matcher(this._regex,t),a=r.RegExpMatcherWrapper.next(o);if(r.isBlank(a))return null;for(var s=0;s<a.length;s+=1)n[s.toString()]=a[s];return new i.MatchedUrl(t,[],n,[],null)},RegexRoutePath.prototype.generateUrl=function(e){return this._serializer(e)},RegexRoutePath.prototype.toString=function(){return this._reString},RegexRoutePath}();t.RegexRoutePath=o},function(e,t,n){"use strict";function normalizeRouteConfig(e,t){if(e instanceof r.AsyncRoute){var n=wrapLoaderToReconfigureRegistry(e.loader,t);return new r.AsyncRoute({path:e.path,loader:n,name:e.name,data:e.data,useAsDefault:e.useAsDefault})}if(e instanceof r.Route||e instanceof r.Redirect||e instanceof r.AuxRoute)return e;if(+!!e.component+ +!!e.redirectTo+ +!!e.loader!=1)throw new o.BaseException('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(e.as&&e.name)throw new o.BaseException('Route config should contain exactly one "as" or "name" property.');if(e.as&&(e.name=e.as),e.loader){var n=wrapLoaderToReconfigureRegistry(e.loader,t);return new r.AsyncRoute({path:e.path,loader:n,name:e.name,data:e.data,useAsDefault:e.useAsDefault})}if(e.aux)return new r.AuxRoute({path:e.aux,component:e.component,name:e.name});if(e.component){if("object"==typeof e.component){var i=e.component;if("constructor"==i.type)return new r.Route({path:e.path,component:i.constructor,name:e.name,data:e.data,useAsDefault:e.useAsDefault});if("loader"==i.type)return new r.AsyncRoute({path:e.path,loader:i.loader,name:e.name,data:e.data,useAsDefault:e.useAsDefault});throw new o.BaseException('Invalid component type "'+i.type+'". Valid types are "constructor" and "loader".')}return new r.Route(e)}return e.redirectTo?new r.Redirect({path:e.path,redirectTo:e.redirectTo}):e}function wrapLoaderToReconfigureRegistry(e,t){return function(){return e().then(function(e){return t.configFromComponent(e),e})}}function assertComponentExists(e,t){if(!i.isType(e))throw new o.BaseException('Component for route "'+t+'" is not defined, or is not a class.')}var r=n(251),i=n(8),o=n(18);t.normalizeRouteConfig=normalizeRouteConfig,t.assertComponentExists=assertComponentExists},function(e,t,n){"use strict";var r=n(239),i=n(13),o=n(239);t.Route=o.Route,t.Redirect=o.Redirect,t.AuxRoute=o.AuxRoute,t.AsyncRoute=o.AsyncRoute,t.RouteConfig=i.makeDecorator(r.RouteConfig)},function(e,t,n){"use strict";function _stripBaseHref(e,t){return e.length>0&&t.startsWith(e)?t.substring(e.length):t}function stripIndexHtml(e){return/\/index.html$/g.test(e)?e.substring(0,e.length-11):e}function stripTrailingSlash(e){return/\/$/g.test(e)&&(e=e.substring(0,e.length-1)),e}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(253),a=n(56),s=n(29),c=function(){function Location(e){var t=this;this.platformStrategy=e,this._subject=new a.EventEmitter;var n=this.platformStrategy.getBaseHref();this._baseHref=stripTrailingSlash(stripIndexHtml(n)),this.platformStrategy.onPopState(function(e){a.ObservableWrapper.callEmit(t._subject,{url:t.path(),pop:!0,type:e.type})})}return Location.prototype.path=function(){return this.normalize(this.platformStrategy.path())},Location.prototype.normalize=function(e){return stripTrailingSlash(_stripBaseHref(this._baseHref,stripIndexHtml(e)))},Location.prototype.prepareExternalUrl=function(e){return e.length>0&&!e.startsWith("/")&&(e="/"+e),this.platformStrategy.prepareExternalUrl(e)},Location.prototype.go=function(e,t){void 0===t&&(t=""),this.platformStrategy.pushState(null,"",e,t)},Location.prototype.replaceState=function(e,t){void 0===t&&(t=""),this.platformStrategy.replaceState(null,"",e,t)},Location.prototype.forward=function(){this.platformStrategy.forward()},Location.prototype.back=function(){this.platformStrategy.back()},Location.prototype.subscribe=function(e,t,n){return void 0===t&&(t=null),void 0===n&&(n=null),a.ObservableWrapper.subscribe(this._subject,e,t,n)},Location=r([s.Injectable(),i("design:paramtypes",[o.LocationStrategy])],Location)}();t.Location=c},function(e,t,n){"use strict";function normalizeQueryParams(e){return e.length>0&&"?"!=e.substring(0,1)?"?"+e:e}function joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}var r=n(8),i=n(29),o=function(){function LocationStrategy(){}return LocationStrategy}();t.LocationStrategy=o,t.APP_BASE_HREF=r.CONST_EXPR(new i.OpaqueToken("appBaseHref")),t.normalizeQueryParams=normalizeQueryParams,t.joinWithSlash=joinWithSlash},function(e,t,n){"use strict";function hasLifecycleHook(e,t){return t instanceof r.Type?e.name in t.prototype:!1}function getCanActivateHook(e){for(var t=o.reflector.annotations(e),n=0;n<t.length;n+=1){var r=t[n];if(r instanceof i.CanActivate)return r.fn}return null}var r=n(8),i=n(255),o=n(21);t.hasLifecycleHook=hasLifecycleHook,t.getCanActivateHook=getCanActivateHook},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(8),a=function(){function RouteLifecycleHook(e){this.name=e}return RouteLifecycleHook=r([o.CONST(),i("design:paramtypes",[String])],RouteLifecycleHook)}();t.RouteLifecycleHook=a;var s=function(){function CanActivate(e){this.fn=e}return CanActivate=r([o.CONST(),i("design:paramtypes",[Function])],CanActivate)}();t.CanActivate=s,t.routerCanReuse=o.CONST_EXPR(new a("routerCanReuse")),t.routerCanDeactivate=o.CONST_EXPR(new a("routerCanDeactivate")),t.routerOnActivate=o.CONST_EXPR(new a("routerOnActivate")),t.routerOnReuse=o.CONST_EXPR(new a("routerOnReuse")),t.routerOnDeactivate=o.CONST_EXPR(new a("routerOnDeactivate"))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(56),s=n(16),c=n(8),u=n(29),l=n(237),p=n(242),h=n(257),f=n(254),d=a.PromiseWrapper.resolve(!0),y=function(){function RouterOutlet(e,t,n,r){this._elementRef=e,this._loader=t,this._parentRouter=n,this.name=null,this._componentRef=null,this._currentInstruction=null,c.isPresent(r)?(this.name=r,this._parentRouter.registerAuxOutlet(this)):this._parentRouter.registerPrimaryOutlet(this)}return RouterOutlet.prototype.activate=function(e){var t=this,n=this._currentInstruction;this._currentInstruction=e;var r=e.componentType,i=this._parentRouter.childRouter(r),o=u.Injector.resolve([u.provide(p.RouteData,{useValue:e.routeData}),u.provide(p.RouteParams,{useValue:new p.RouteParams(e.params)}),u.provide(l.Router,{useValue:i})]);return this._componentRef=this._loader.loadNextToLocation(r,this._elementRef,o),this._componentRef.then(function(i){return f.hasLifecycleHook(h.routerOnActivate,r)?t._componentRef.then(function(t){return t.instance.routerOnActivate(e,n)}):i})},RouterOutlet.prototype.reuse=function(e){var t=this._currentInstruction;return this._currentInstruction=e,c.isBlank(this._componentRef)?this.activate(e):a.PromiseWrapper.resolve(f.hasLifecycleHook(h.routerOnReuse,this._currentInstruction.componentType)?this._componentRef.then(function(n){return n.instance.routerOnReuse(e,t)}):!0)},RouterOutlet.prototype.deactivate=function(e){var t=this,n=d;return c.isPresent(this._componentRef)&&c.isPresent(this._currentInstruction)&&f.hasLifecycleHook(h.routerOnDeactivate,this._currentInstruction.componentType)&&(n=this._componentRef.then(function(n){return n.instance.routerOnDeactivate(e,t._currentInstruction)})),n.then(function(e){if(c.isPresent(t._componentRef)){var n=t._componentRef.then(function(e){return e.dispose()});return t._componentRef=null,n}})},RouterOutlet.prototype.routerCanDeactivate=function(e){var t=this;return c.isBlank(this._currentInstruction)?d:f.hasLifecycleHook(h.routerCanDeactivate,this._currentInstruction.componentType)?this._componentRef.then(function(n){return n.instance.routerCanDeactivate(e,t._currentInstruction)}):d},RouterOutlet.prototype.routerCanReuse=function(e){var t,n=this;return t=c.isBlank(this._currentInstruction)||this._currentInstruction.componentType!=e.componentType?!1:f.hasLifecycleHook(h.routerCanReuse,this._currentInstruction.componentType)?this._componentRef.then(function(t){return t.instance.routerCanReuse(e,n._currentInstruction)}):e==this._currentInstruction||c.isPresent(e.params)&&c.isPresent(this._currentInstruction.params)&&s.StringMapWrapper.equals(e.params,this._currentInstruction.params),a.PromiseWrapper.resolve(t)},RouterOutlet.prototype.ngOnDestroy=function(){this._parentRouter.unregisterPrimaryOutlet(this)},RouterOutlet=r([u.Directive({selector:"router-outlet"}),o(3,u.Attribute("name")),i("design:paramtypes",[u.ElementRef,u.DynamicComponentLoader,l.Router,String])],RouterOutlet)}();t.RouterOutlet=y},function(e,t,n){"use strict";var r=n(13),i=n(255),o=n(255);t.routerCanReuse=o.routerCanReuse,t.routerCanDeactivate=o.routerCanDeactivate,t.routerOnActivate=o.routerOnActivate,t.routerOnReuse=o.routerOnReuse,t.routerOnDeactivate=o.routerOnDeactivate,t.CanActivate=r.makeDecorator(i.CanActivate)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(8),s=n(237),c=n(252),u=function(){function RouterLink(e,t){var n=this;this._router=e,this._location=t,this._router.subscribe(function(e){return n._updateLink()})}return RouterLink.prototype._updateLink=function(){this._navigationInstruction=this._router.generate(this._routeParams);var e=this._navigationInstruction.toLinkUrl();this.visibleHref=this._location.prepareExternalUrl(e)},Object.defineProperty(RouterLink.prototype,"isRouteActive",{get:function(){return this._router.isRouteActive(this._navigationInstruction)},enumerable:!0,configurable:!0}),Object.defineProperty(RouterLink.prototype,"routeParams",{set:function(e){this._routeParams=e,this._updateLink()},enumerable:!0,configurable:!0}),RouterLink.prototype.onClick=function(){return a.isString(this.target)&&"_self"!=this.target?!0:(this._router.navigateByInstruction(this._navigationInstruction),!1)},RouterLink=r([o.Directive({selector:"[routerLink]",inputs:["routeParams: routerLink","target: target"],host:{"(click)":"onClick()","[attr.href]":"visibleHref","[class.router-link-active]":"isRouteActive"}}),i("design:paramtypes",[s.Router,c.Location])],RouterLink)}();t.RouterLink=u},function(e,t){"use strict";var n=function(){function PlatformLocation(){}return Object.defineProperty(PlatformLocation.prototype,"pathname",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"search",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformLocation.prototype,"hash",{get:function(){return null},enumerable:!0,configurable:!0}),PlatformLocation}();t.PlatformLocation=n},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(29),c=n(253),u=n(8),l=n(259),p=function(e){function HashLocationStrategy(t,n){e.call(this),this._platformLocation=t,this._baseHref="",u.isPresent(n)&&(this._baseHref=n)}return r(HashLocationStrategy,e),HashLocationStrategy.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},HashLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},HashLocationStrategy.prototype.path=function(){var e=this._platformLocation.hash;return u.isPresent(e)||(e="#"),e.length>0?e.substring(1):e},HashLocationStrategy.prototype.prepareExternalUrl=function(e){var t=c.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},HashLocationStrategy.prototype.pushState=function(e,t,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)},HashLocationStrategy.prototype.replaceState=function(e,t,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)},HashLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},HashLocationStrategy.prototype.back=function(){this._platformLocation.back()},HashLocationStrategy=i([s.Injectable(),a(1,s.Optional()),a(1,s.Inject(c.APP_BASE_HREF)),o("design:paramtypes",[l.PlatformLocation,String])],HashLocationStrategy)}(c.LocationStrategy);t.HashLocationStrategy=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(29),c=n(8),u=n(18),l=n(253),p=n(259),h=function(e){function PathLocationStrategy(t,n){if(e.call(this),this._platformLocation=t,c.isBlank(n)&&(n=this._platformLocation.getBaseHrefFromDOM()),c.isBlank(n))throw new u.BaseException("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}return r(PathLocationStrategy,e),PathLocationStrategy.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},PathLocationStrategy.prototype.getBaseHref=function(){return this._baseHref},PathLocationStrategy.prototype.prepareExternalUrl=function(e){return l.joinWithSlash(this._baseHref,e)},PathLocationStrategy.prototype.path=function(){return this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search)},PathLocationStrategy.prototype.pushState=function(e,t,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)},PathLocationStrategy.prototype.replaceState=function(e,t,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)},PathLocationStrategy.prototype.forward=function(){this._platformLocation.forward()},PathLocationStrategy.prototype.back=function(){this._platformLocation.back()},PathLocationStrategy=i([s.Injectable(),a(1,s.Optional()),a(1,s.Inject(l.APP_BASE_HREF)),o("design:paramtypes",[p.PlatformLocation,String])],PathLocationStrategy)}(l.LocationStrategy);t.PathLocationStrategy=h},function(e,t,n){"use strict";function routerFactory(e,t,n,r){var i=new o.RootRouter(e,t,n);return r.registerDisposeListener(function(){return i.dispose()}),i}function routerPrimaryComponentFactory(e){if(0==e.componentTypes.length)throw new l.BaseException("Bootstrap at least one component before injecting Router.");return e.componentTypes[0]}var r=n(253),i=n(261),o=n(237),a=n(238),s=n(252),c=n(8),u=n(29),l=n(18);t.ROUTER_PROVIDERS_COMMON=c.CONST_EXPR([a.RouteRegistry,c.CONST_EXPR(new u.Provider(r.LocationStrategy,{useClass:i.PathLocationStrategy})),s.Location,c.CONST_EXPR(new u.Provider(o.Router,{useFactory:routerFactory,deps:c.CONST_EXPR([a.RouteRegistry,s.Location,a.ROUTER_PRIMARY_COMPONENT,u.ApplicationRef])})),c.CONST_EXPR(new u.Provider(a.ROUTER_PRIMARY_COMPONENT,{useFactory:routerPrimaryComponentFactory,deps:c.CONST_EXPR([u.ApplicationRef])}))])},function(e,t,n){"use strict";var r=n(262),i=n(29),o=n(8),a=n(264),s=n(259);t.ROUTER_PROVIDERS=o.CONST_EXPR([r.ROUTER_PROVIDERS_COMMON,o.CONST_EXPR(new i.Provider(s.PlatformLocation,{useClass:a.BrowserPlatformLocation}))]),t.ROUTER_BINDINGS=t.ROUTER_PROVIDERS},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(29),s=n(259),c=n(172),u=function(e){function BrowserPlatformLocation(){e.call(this),this._init()}return r(BrowserPlatformLocation,e),BrowserPlatformLocation.prototype._init=function(){this._location=c.DOM.getLocation(),this._history=c.DOM.getHistory()},Object.defineProperty(BrowserPlatformLocation.prototype,"location",{get:function(){return this._location},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.getBaseHrefFromDOM=function(){return c.DOM.getBaseHref()},BrowserPlatformLocation.prototype.onPopState=function(e){c.DOM.getGlobalEventTarget("window").addEventListener("popstate",e,!1)},BrowserPlatformLocation.prototype.onHashChange=function(e){c.DOM.getGlobalEventTarget("window").addEventListener("hashchange",e,!1)},Object.defineProperty(BrowserPlatformLocation.prototype,"pathname",{get:function(){return this._location.pathname},set:function(e){this._location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"search",{get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(BrowserPlatformLocation.prototype,"hash",{get:function(){return this._location.hash},enumerable:!0,configurable:!0}),BrowserPlatformLocation.prototype.pushState=function(e,t,n){this._history.pushState(e,t,n)},BrowserPlatformLocation.prototype.replaceState=function(e,t,n){this._history.replaceState(e,t,n)},BrowserPlatformLocation.prototype.forward=function(){this._history.forward()},BrowserPlatformLocation.prototype.back=function(){this._history.back()},BrowserPlatformLocation=i([a.Injectable(),o("design:paramtypes",[])],BrowserPlatformLocation)}(s.PlatformLocation);t.BrowserPlatformLocation=u},,,function(e,t,n){"use strict";var r=n(29),i=n(268),o=n(276),a=n(280),s=n(279),c=n(281),u=n(274),l=n(278),p=n(270);t.Request=p.Request;var h=n(277);t.Response=h.Response;var f=n(269);t.Connection=f.Connection,t.ConnectionBackend=f.ConnectionBackend;var d=n(279);t.BrowserXhr=d.BrowserXhr;var y=n(274);t.BaseRequestOptions=y.BaseRequestOptions,t.RequestOptions=y.RequestOptions;var m=n(278);t.BaseResponseOptions=m.BaseResponseOptions,t.ResponseOptions=m.ResponseOptions;var g=n(276);t.XHRBackend=g.XHRBackend,t.XHRConnection=g.XHRConnection;var v=n(280);t.JSONPBackend=v.JSONPBackend,t.JSONPConnection=v.JSONPConnection;var _=n(268);t.Http=_.Http,t.Jsonp=_.Jsonp;var b=n(271);t.Headers=b.Headers;var w=n(273);t.ResponseType=w.ResponseType,t.ReadyState=w.ReadyState,t.RequestMethod=w.RequestMethod;var C=n(275);t.URLSearchParams=C.URLSearchParams,t.HTTP_PROVIDERS=[r.provide(i.Http,{useFactory:function(e,t){return new i.Http(e,t)},deps:[o.XHRBackend,u.RequestOptions]}),s.BrowserXhr,r.provide(u.RequestOptions,{useClass:u.BaseRequestOptions}),r.provide(l.ResponseOptions,{useClass:l.BaseResponseOptions}),o.XHRBackend],t.HTTP_BINDINGS=t.HTTP_PROVIDERS,t.JSONP_PROVIDERS=[r.provide(i.Jsonp,{useFactory:function(e,t){return new i.Jsonp(e,t)},deps:[a.JSONPBackend,u.RequestOptions]}),c.BrowserJsonp,r.provide(u.RequestOptions,{useClass:u.BaseRequestOptions}),r.provide(l.ResponseOptions,{useClass:l.BaseResponseOptions}),r.provide(a.JSONPBackend,{useClass:a.JSONPBackend_})],t.JSON_BINDINGS=t.JSONP_PROVIDERS},function(e,t,n){"use strict";function httpRequest(e,t){return e.createConnection(t).response}function mergeOptions(e,t,n,r){var i=e;return a.isPresent(t)?i.merge(new p.RequestOptions({method:t.method||n,url:t.url||r,search:t.search,headers:t.headers,body:t.body})):a.isPresent(n)?i.merge(new p.RequestOptions({method:n,url:r})):i.merge(new p.RequestOptions({url:r}))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=n(18),c=n(29),u=n(269),l=n(270),p=n(274),h=n(273),f=function(){function Http(e,t){this._backend=e,this._defaultOptions=t}return Http.prototype.request=function(e,t){var n;if(a.isString(e))n=httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions,t,h.RequestMethod.Get,e)));else{if(!(e instanceof l.Request))throw s.makeTypeError("First argument must be a url string or Request instance.");n=httpRequest(this._backend,e)}return n},Http.prototype.get=function(e,t){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions,t,h.RequestMethod.Get,e)))},Http.prototype.post=function(e,t,n){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions.merge(new p.RequestOptions({body:t})),n,h.RequestMethod.Post,e)))},Http.prototype.put=function(e,t,n){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions.merge(new p.RequestOptions({body:t})),n,h.RequestMethod.Put,e)))},Http.prototype["delete"]=function(e,t){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions,t,h.RequestMethod.Delete,e)))},Http.prototype.patch=function(e,t,n){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions.merge(new p.RequestOptions({body:t})),n,h.RequestMethod.Patch,e)))},Http.prototype.head=function(e,t){return httpRequest(this._backend,new l.Request(mergeOptions(this._defaultOptions,t,h.RequestMethod.Head,e)))},Http=i([c.Injectable(),o("design:paramtypes",[u.ConnectionBackend,p.RequestOptions])],Http)}();t.Http=f;var d=function(e){function Jsonp(t,n){e.call(this,t,n)}return r(Jsonp,e),Jsonp.prototype.request=function(e,t){var n;if(a.isString(e)&&(e=new l.Request(mergeOptions(this._defaultOptions,t,h.RequestMethod.Get,e))),!(e instanceof l.Request))throw s.makeTypeError("First argument must be a url string or Request instance.");return e.method!==h.RequestMethod.Get&&s.makeTypeError("JSONP requests must use GET request method."),n=httpRequest(this._backend,e)},Jsonp=i([c.Injectable(),o("design:paramtypes",[u.ConnectionBackend,p.RequestOptions])],Jsonp)}(f);t.Jsonp=d},function(e,t){"use strict";var n=function(){function ConnectionBackend(){}return ConnectionBackend}();t.ConnectionBackend=n;var r=function(){function Connection(){}return Connection}();t.Connection=r},function(e,t,n){"use strict";var r=n(271),i=n(272),o=n(8),a=function(){function Request(e){var t=e.url;if(this.url=e.url,o.isPresent(e.search)){var n=e.search.toString();if(n.length>0){var a="?";o.StringWrapper.contains(this.url,"?")&&(a="&"==this.url[this.url.length-1]?"":"&"),this.url=t+a+n}}this._body=e.body,this.method=i.normalizeMethodName(e.method),this.headers=new r.Headers(e.headers)}return Request.prototype.text=function(){return o.isPresent(this._body)?this._body.toString():""},Request}();t.Request=a},function(e,t,n){"use strict";var r=n(8),i=n(18),o=n(16),a=function(){function Headers(e){var t=this;return e instanceof Headers?void(this._headersMap=e._headersMap):(this._headersMap=new o.Map,void(r.isBlank(e)||o.StringMapWrapper.forEach(e,function(e,n){t._headersMap.set(n,o.isListLikeIterable(e)?e:[e])})))}return Headers.fromResponseHeaderString=function(e){return e.trim().split("\n").map(function(e){return e.split(":")}).map(function(e){var t=e[0],n=e.slice(1);return[t.trim(),n.join(":").trim()]}).reduce(function(e,t){var n=t[0],r=t[1];return!e.set(n,r)&&e},new Headers)},Headers.prototype.append=function(e,t){var n=this._headersMap.get(e),r=o.isListLikeIterable(n)?n:[];r.push(t),this._headersMap.set(e,r)},Headers.prototype["delete"]=function(e){this._headersMap["delete"](e)},Headers.prototype.forEach=function(e){this._headersMap.forEach(e)},Headers.prototype.get=function(e){return o.ListWrapper.first(this._headersMap.get(e))},Headers.prototype.has=function(e){return this._headersMap.has(e)},Headers.prototype.keys=function(){return o.MapWrapper.keys(this._headersMap)},Headers.prototype.set=function(e,t){var n=[];if(o.isListLikeIterable(t)){var r=t.join(",");n.push(r)}else n.push(t);this._headersMap.set(e,n)},Headers.prototype.values=function(){return o.MapWrapper.values(this._headersMap)},Headers.prototype.toJSON=function(){var e={};return this._headersMap.forEach(function(t,n){var r=[];o.iterateListLike(t,function(e){return r=o.ListWrapper.concat(r,e.split(","))}),e[n]=r}),e},Headers.prototype.getAll=function(e){var t=this._headersMap.get(e);return o.isListLikeIterable(t)?t:[]},Headers.prototype.entries=function(){throw new i.BaseException('"entries" method is not implemented on Headers class')},Headers}();t.Headers=a},function(e,t,n){"use strict";function normalizeMethodName(e){if(r.isString(e)){var t=e;if(e=e.replace(/(\w)(\w*)/g,function(e,t,n){return t.toUpperCase()+n.toLowerCase();
}),e=i.RequestMethod[e],"number"!=typeof e)throw o.makeTypeError('Invalid request method. The method "'+t+'" is not supported.')}return e}function getResponseURL(e){return"responseURL"in e?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):void 0}var r=n(8),i=n(273),o=n(18);t.normalizeMethodName=normalizeMethodName,t.isSuccess=function(e){return e>=200&&300>e},t.getResponseURL=getResponseURL;var a=n(8);t.isJsObject=a.isJsObject},function(e,t){"use strict";!function(e){e[e.Get=0]="Get",e[e.Post=1]="Post",e[e.Put=2]="Put",e[e.Delete=3]="Delete",e[e.Options=4]="Options",e[e.Head=5]="Head",e[e.Patch=6]="Patch"}(t.RequestMethod||(t.RequestMethod={}));t.RequestMethod;!function(e){e[e.Unsent=0]="Unsent",e[e.Open=1]="Open",e[e.HeadersReceived=2]="HeadersReceived",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Cancelled=5]="Cancelled"}(t.ReadyState||(t.ReadyState={}));t.ReadyState;!function(e){e[e.Basic=0]="Basic",e[e.Cors=1]="Cors",e[e.Default=2]="Default",e[e.Error=3]="Error",e[e.Opaque=4]="Opaque"}(t.ResponseType||(t.ResponseType={}));t.ResponseType},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(8),s=n(271),c=n(273),u=n(29),l=n(275),p=n(272),h=function(){function RequestOptions(e){var t=void 0===e?{}:e,n=t.method,r=t.headers,i=t.body,o=t.url,s=t.search;this.method=a.isPresent(n)?p.normalizeMethodName(n):null,this.headers=a.isPresent(r)?r:null,this.body=a.isPresent(i)?i:null,this.url=a.isPresent(o)?o:null,this.search=a.isPresent(s)?a.isString(s)?new l.URLSearchParams(s):s:null}return RequestOptions.prototype.merge=function(e){return new RequestOptions({method:a.isPresent(e)&&a.isPresent(e.method)?e.method:this.method,headers:a.isPresent(e)&&a.isPresent(e.headers)?e.headers:this.headers,body:a.isPresent(e)&&a.isPresent(e.body)?e.body:this.body,url:a.isPresent(e)&&a.isPresent(e.url)?e.url:this.url,search:a.isPresent(e)&&a.isPresent(e.search)?a.isString(e.search)?new l.URLSearchParams(e.search):e.search.clone():this.search})},RequestOptions}();t.RequestOptions=h;var f=function(e){function BaseRequestOptions(){e.call(this,{method:c.RequestMethod.Get,headers:new s.Headers})}return r(BaseRequestOptions,e),BaseRequestOptions=i([u.Injectable(),o("design:paramtypes",[])],BaseRequestOptions)}(h);t.BaseRequestOptions=f},function(e,t,n){"use strict";function paramParser(e){void 0===e&&(e="");var t=new i.Map;if(e.length>0){var n=e.split("&");n.forEach(function(e){var n=e.split("="),i=n[0],o=n[1],a=r.isPresent(t.get(i))?t.get(i):[];a.push(o),t.set(i,a)})}return t}var r=n(8),i=n(16),o=function(){function URLSearchParams(e){void 0===e&&(e=""),this.rawParams=e,this.paramsMap=paramParser(e)}return URLSearchParams.prototype.clone=function(){var e=new URLSearchParams;return e.appendAll(this),e},URLSearchParams.prototype.has=function(e){return this.paramsMap.has(e)},URLSearchParams.prototype.get=function(e){var t=this.paramsMap.get(e);return i.isListLikeIterable(t)?i.ListWrapper.first(t):null},URLSearchParams.prototype.getAll=function(e){var t=this.paramsMap.get(e);return r.isPresent(t)?t:[]},URLSearchParams.prototype.set=function(e,t){var n=this.paramsMap.get(e),o=r.isPresent(n)?n:[];i.ListWrapper.clear(o),o.push(t),this.paramsMap.set(e,o)},URLSearchParams.prototype.setAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){var o=t.paramsMap.get(n),a=r.isPresent(o)?o:[];i.ListWrapper.clear(a),a.push(e[0]),t.paramsMap.set(n,a)})},URLSearchParams.prototype.append=function(e,t){var n=this.paramsMap.get(e),i=r.isPresent(n)?n:[];i.push(t),this.paramsMap.set(e,i)},URLSearchParams.prototype.appendAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){for(var i=t.paramsMap.get(n),o=r.isPresent(i)?i:[],a=0;a<e.length;++a)o.push(e[a]);t.paramsMap.set(n,o)})},URLSearchParams.prototype.replaceAll=function(e){var t=this;e.paramsMap.forEach(function(e,n){var o=t.paramsMap.get(n),a=r.isPresent(o)?o:[];i.ListWrapper.clear(a);for(var s=0;s<e.length;++s)a.push(e[s]);t.paramsMap.set(n,a)})},URLSearchParams.prototype.toString=function(){var e=[];return this.paramsMap.forEach(function(t,n){t.forEach(function(t){return e.push(n+"="+t)})}),e.join("&")},URLSearchParams.prototype["delete"]=function(e){this.paramsMap["delete"](e)},URLSearchParams}();t.URLSearchParams=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(273),a=n(277),s=n(271),c=n(278),u=n(29),l=n(279),p=n(8),h=n(59),f=n(272),d=function(){function XHRConnection(e,t,n){var r=this;this.request=e,this.response=new h.Observable(function(i){var u=t.build();u.open(o.RequestMethod[e.method].toUpperCase(),e.url);var l=function(){var e=p.isPresent(u.response)?u.response:u.responseText,t=s.Headers.fromResponseHeaderString(u.getAllResponseHeaders()),r=f.getResponseURL(u),o=1223===u.status?204:u.status;0===o&&(o=e?200:0);var l=new c.ResponseOptions({body:e,status:o,headers:t,url:r});p.isPresent(n)&&(l=n.merge(l));var h=new a.Response(l);return f.isSuccess(o)?(i.next(h),void i.complete()):void i.error(h)},h=function(e){var t=new c.ResponseOptions({body:e,type:o.ResponseType.Error});p.isPresent(n)&&(t=n.merge(t)),i.error(new a.Response(t))};return p.isPresent(e.headers)&&e.headers.forEach(function(e,t){return u.setRequestHeader(t,e.join(","))}),u.addEventListener("load",l),u.addEventListener("error",h),u.send(r.request.text()),function(){u.removeEventListener("load",l),u.removeEventListener("error",h),u.abort()}})}return XHRConnection}();t.XHRConnection=d;var y=function(){function XHRBackend(e,t){this._browserXHR=e,this._baseResponseOptions=t}return XHRBackend.prototype.createConnection=function(e){return new d(e,this._browserXHR,this._baseResponseOptions)},XHRBackend=r([u.Injectable(),i("design:paramtypes",[l.BrowserXhr,c.ResponseOptions])],XHRBackend)}();t.XHRBackend=y},function(e,t,n){"use strict";var r=n(8),i=n(18),o=n(272),a=function(){function Response(e){this._body=e.body,this.status=e.status,this.statusText=e.statusText,this.headers=e.headers,this.type=e.type,this.url=e.url}return Response.prototype.blob=function(){throw new i.BaseException('"blob()" method not implemented on Response superclass')},Response.prototype.json=function(){var e;return o.isJsObject(this._body)?e=this._body:r.isString(this._body)&&(e=r.Json.parse(this._body)),e},Response.prototype.text=function(){return this._body.toString()},Response.prototype.arrayBuffer=function(){throw new i.BaseException('"arrayBuffer()" method not implemented on Response superclass')},Response}();t.Response=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(29),s=n(8),c=n(271),u=n(273),l=function(){function ResponseOptions(e){var t=void 0===e?{}:e,n=t.body,r=t.status,i=t.headers,o=t.statusText,a=t.type,c=t.url;this.body=s.isPresent(n)?n:null,this.status=s.isPresent(r)?r:null,this.headers=s.isPresent(i)?i:null,this.statusText=s.isPresent(o)?o:null,this.type=s.isPresent(a)?a:null,this.url=s.isPresent(c)?c:null}return ResponseOptions.prototype.merge=function(e){return new ResponseOptions({body:s.isPresent(e)&&s.isPresent(e.body)?e.body:this.body,status:s.isPresent(e)&&s.isPresent(e.status)?e.status:this.status,headers:s.isPresent(e)&&s.isPresent(e.headers)?e.headers:this.headers,statusText:s.isPresent(e)&&s.isPresent(e.statusText)?e.statusText:this.statusText,type:s.isPresent(e)&&s.isPresent(e.type)?e.type:this.type,url:s.isPresent(e)&&s.isPresent(e.url)?e.url:this.url})},ResponseOptions}();t.ResponseOptions=l;var p=function(e){function BaseResponseOptions(){e.call(this,{status:200,statusText:"Ok",type:u.ResponseType.Default,headers:new c.Headers})}return r(BaseResponseOptions,e),BaseResponseOptions=i([a.Injectable(),o("design:paramtypes",[])],BaseResponseOptions)}(l);t.BaseResponseOptions=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=function(){function BrowserXhr(){}return BrowserXhr.prototype.build=function(){return new XMLHttpRequest},BrowserXhr=r([o.Injectable(),i("design:paramtypes",[])],BrowserXhr)}();t.BrowserXhr=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=n(269),s=n(273),c=n(277),u=n(278),l=n(29),p=n(281),h=n(18),f=n(8),d=n(59),y="JSONP injected script did not invoke callback.",m="JSONP requests must use GET request method.",g=function(){function JSONPConnection(){}return JSONPConnection}();t.JSONPConnection=g;var v=function(e){function JSONPConnection_(t,n,r){var i=this;if(e.call(this),this._dom=n,this.baseResponseOptions=r,this._finished=!1,t.method!==s.RequestMethod.Get)throw h.makeTypeError(m);this.request=t,this.response=new d.Observable(function(e){i.readyState=s.ReadyState.Loading;var o=i._id=n.nextRequestID();n.exposeConnection(o,i);var a=n.requestCallback(i._id),l=t.url;l.indexOf("=JSONP_CALLBACK&")>-1?l=f.StringWrapper.replace(l,"=JSONP_CALLBACK&","="+a+"&"):l.lastIndexOf("=JSONP_CALLBACK")===l.length-"=JSONP_CALLBACK".length&&(l=l.substring(0,l.length-"=JSONP_CALLBACK".length)+("="+a));var p=i._script=n.build(l),h=function(t){if(i.readyState!==s.ReadyState.Cancelled){if(i.readyState=s.ReadyState.Done,n.cleanup(p),!i._finished){var o=new u.ResponseOptions({body:y,type:s.ResponseType.Error,url:l});return f.isPresent(r)&&(o=r.merge(o)),void e.error(new c.Response(o))}var a=new u.ResponseOptions({body:i._responseData,url:l});f.isPresent(i.baseResponseOptions)&&(a=i.baseResponseOptions.merge(a)),e.next(new c.Response(a)),e.complete()}},d=function(t){if(i.readyState!==s.ReadyState.Cancelled){i.readyState=s.ReadyState.Done,n.cleanup(p);var o=new u.ResponseOptions({body:t.message,type:s.ResponseType.Error});f.isPresent(r)&&(o=r.merge(o)),e.error(new c.Response(o))}};return p.addEventListener("load",h),p.addEventListener("error",d),n.send(p),function(){i.readyState=s.ReadyState.Cancelled,p.removeEventListener("load",h),p.removeEventListener("error",d),f.isPresent(p)&&i._dom.cleanup(p)}})}return r(JSONPConnection_,e),JSONPConnection_.prototype.finished=function(e){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==s.ReadyState.Cancelled&&(this._responseData=e)},JSONPConnection_}(g);t.JSONPConnection_=v;var _=function(e){function JSONPBackend(){e.apply(this,arguments)}return r(JSONPBackend,e),JSONPBackend}(a.ConnectionBackend);t.JSONPBackend=_;var b=function(e){function JSONPBackend_(t,n){e.call(this),this._browserJSONP=t,this._baseResponseOptions=n}return r(JSONPBackend_,e),JSONPBackend_.prototype.createConnection=function(e){return new v(e,this._browserJSONP,this._baseResponseOptions)},JSONPBackend_=i([l.Injectable(),o("design:paramtypes",[p.BrowserJsonp,u.ResponseOptions])],JSONPBackend_)}(_);t.JSONPBackend_=b},function(e,t,n){"use strict";function _getJsonpConnections(){return null===c&&(c=a.global[t.JSONP_HOME]={}),c}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=n(29),a=n(8),s=0;t.JSONP_HOME="__ng_jsonp__";var c=null,u=function(){function BrowserJsonp(){}return BrowserJsonp.prototype.build=function(e){var t=document.createElement("script");return t.src=e,t},BrowserJsonp.prototype.nextRequestID=function(){return"__req"+s++},BrowserJsonp.prototype.requestCallback=function(e){return t.JSONP_HOME+"."+e+".finished"},BrowserJsonp.prototype.exposeConnection=function(e,t){var n=_getJsonpConnections();n[e]=t},BrowserJsonp.prototype.removeConnection=function(e){var t=_getJsonpConnections();t[e]=null},BrowserJsonp.prototype.send=function(e){document.body.appendChild(e)},BrowserJsonp.prototype.cleanup=function(e){e.parentNode&&e.parentNode.removeChild(e)},BrowserJsonp=r([o.Injectable(),i("design:paramtypes",[])],BrowserJsonp)}();t.BrowserJsonp=u},,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(29),s=n(284);t.FirebaseAuth=s.FirebaseAuth,t.firebaseAuthConfig=s.firebaseAuthConfig;var c=n(295),u=n(296);t.FirebaseListObservable=u.FirebaseListObservable;var l=n(297);t.FirebaseObjectObservable=l.FirebaseObjectObservable;var p=n(298);t.FirebaseListFactory=p.FirebaseListFactory;var h=n(299);t.FirebaseObjectFactory=h.FirebaseObjectFactory;var f=n(292),d=n(294);t.AuthMethods=d.AuthMethods,t.AuthProviders=d.AuthProviders;var y=n(300),m=n(301);t.FirebaseDatabase=m.FirebaseDatabase;var g=function(){function AngularFire(e,t,n){this.fbUrl=e,this.auth=t,this.database=n,this.list=n.list.bind(n),this.object=n.object.bind(n)}return AngularFire=r([a.Injectable(),o(0,a.Inject(f.FirebaseUrl)),i("design:paramtypes",[String,s.FirebaseAuth,m.FirebaseDatabase])],AngularFire)}();t.AngularFire=g,t.COMMON_PROVIDERS=[a.provide(f.FirebaseRef,{useFactory:function(e){return new c(e)},deps:[f.FirebaseUrl]}),s.FirebaseAuth,g,m.FirebaseDatabase],t.FIREBASE_PROVIDERS=[t.COMMON_PROVIDERS,a.provide(d.AuthBackend,{useFactory:function(e){return new y.FirebaseSdkAuthBackend(e,!1)},deps:[f.FirebaseRef]})],t.defaultFirebase=function(e){return a.provide(f.FirebaseUrl,{useValue:e})};var v=n(292);t.FirebaseUrl=v.FirebaseUrl,t.FirebaseRef=v.FirebaseRef,t.FirebaseAuthConfig=v.FirebaseAuthConfig,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={providers:t.FIREBASE_PROVIDERS}},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(29),c=n(285),u=n(292),l=n(293),p=n(294),h=1;t.firebaseAuthConfig=function(e){return s.provide(u.FirebaseAuthConfig,{useValue:e})};var f=function(e){function FirebaseAuth(t,n){var r=this;e.call(this,h),this._authBackend=t,this._config=n,this._authBackend.onAuth(function(e){return r._emitAuthData(e)})}return r(FirebaseAuth,e),FirebaseAuth.prototype.login=function(e,t){var n=null,r=null;if(arguments.length>2)return this._reject("Login only accepts a maximum of two arguments.");if(2==arguments.length?(r=e,n=t):1==arguments.length&&(e.password&&e.email?(r=e,n={}):n=e),n=this._mergeConfigs(n),!l.isPresent(n.method))return this._reject("You must provide a login method");var i=[p.AuthMethods.Popup,p.AuthMethods.Redirect,p.AuthMethods.OAuthToken];if(-1!=i.indexOf(n.method)&&!l.isPresent(n.provider))return this._reject("You must include a provider to use this auth method.");var o=[p.AuthMethods.Password,p.AuthMethods.OAuthToken,p.AuthMethods.CustomToken];if(-1!=o.indexOf(n.method)&&!r)return this._reject("You must include credentials to use this auth method.");switch(n.method){case p.AuthMethods.Popup:return this._authBackend.authWithOAuthPopup(n.provider,this._scrubConfig(n));case p.AuthMethods.Redirect:return this._authBackend.authWithOAuthRedirect(n.provider,this._scrubConfig(n));case p.AuthMethods.Anonymous:return this._authBackend.authAnonymously(this._scrubConfig(n));case p.AuthMethods.Password:return this._authBackend.authWithPassword(r,this._scrubConfig(n,!1));case p.AuthMethods.OAuthToken:return this._authBackend.authWithOAuthToken(n.provider,r,this._scrubConfig(n));case p.AuthMethods.CustomToken:return this._authBackend.authWithCustomToken(r.token,this._scrubConfig(n,!1))}},FirebaseAuth.prototype.logout=function(){null!==this._authBackend.getAuth()&&this._authBackend.unauth()},FirebaseAuth.prototype.getAuth=function(){return this._authBackend.getAuth()},FirebaseAuth.prototype.createUser=function(e){return this._authBackend.createUser(e)},FirebaseAuth.prototype._mergeConfigs=function(e){return null==this._config?e:Object.assign({},this._config,e)},FirebaseAuth.prototype._reject=function(e){return new Promise(function(t,n){return n(e)})},FirebaseAuth.prototype._scrubConfig=function(e,t){void 0===t&&(t=!0);var n=Object.assign({},e);return t&&delete n.provider,delete n.method,n},FirebaseAuth.prototype._emitAuthData=function(e){null==e?this.next(null):this.next(p.authDataToAuthState(e))},FirebaseAuth=i([s.Injectable(),a(1,s.Optional()),a(1,s.Inject(u.FirebaseAuthConfig)),o("design:paramtypes",[p.AuthBackend,Object])],FirebaseAuth)}(c.ReplaySubject);t.FirebaseAuth=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(58),o=n(286),a=n(290),s=function(e){function ReplaySubject(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.events=[],this.scheduler=r,this.bufferSize=1>t?1:t,this._windowTime=1>n?1:n}return r(ReplaySubject,e),ReplaySubject.prototype._next=function(t){var n=this._getNow();this.events.push(new c(n,t)),this._trimBufferThenGetEvents(n),e.prototype._next.call(this,t)},ReplaySubject.prototype._subscribe=function(t){var n=this._trimBufferThenGetEvents(this._getNow()),r=this.scheduler;r&&t.add(t=new a.ObserveOnSubscriber(t,r));for(var i=-1,o=n.length;++i<o&&!t.isUnsubscribed;)t.next(n[i].value);return e.prototype._subscribe.call(this,t)},ReplaySubject.prototype._getNow=function(){return(this.scheduler||o.queue).now()},ReplaySubject.prototype._trimBufferThenGetEvents=function(e){for(var t=this.bufferSize,n=this._windowTime,r=this.events,i=r.length,o=0;i>o&&!(e-r[o].time<n);)o+=1;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},ReplaySubject}(i.Subject);t.ReplaySubject=s;var c=function(){function ReplayEvent(e,t){this.time=e,this.value=t}return ReplayEvent}()},function(e,t,n){"use strict";var r=n(287);t.queue=new r.QueueScheduler},function(e,t,n){"use strict";var r=n(288),i=n(289),o=function(){function QueueScheduler(){this.active=!1,this.actions=[],this.scheduledId=null}return QueueScheduler.prototype.now=function(){return Date.now()},QueueScheduler.prototype.flush=function(){if(!this.active&&!this.scheduledId){this.active=!0;for(var e=this.actions,t=void 0;t=e.shift();)t.execute();this.active=!1}},QueueScheduler.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),0>=t?this.scheduleNow(e,n):this.scheduleLater(e,t,n)},QueueScheduler.prototype.scheduleNow=function(e,t){return new r.QueueAction(this,e).schedule(t)},QueueScheduler.prototype.scheduleLater=function(e,t,n){return new i.FutureAction(this,e).schedule(n,t)},QueueScheduler}();t.QueueScheduler=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(289),o=function(e){function QueueAction(){e.apply(this,arguments)}return r(QueueAction,e),QueueAction.prototype._schedule=function(t,n){if(void 0===n&&(n=0),n>0)return e.prototype._schedule.call(this,t,n);this.delay=n,this.state=t;var r=this.scheduler;return r.actions.push(this),r.flush(),this},QueueAction}(i.FutureAction);t.QueueAction=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(60),o=n(66),a=function(e){function FutureAction(t,n){e.call(this),this.scheduler=t,this.work=n}return r(FutureAction,e),FutureAction.prototype.execute=function(){if(this.isUnsubscribed)throw new Error("How did did we execute a canceled Action?");this.work(this.state)},FutureAction.prototype.schedule=function(e,t){return void 0===t&&(t=0),this.isUnsubscribed?this:this._schedule(e,t)},FutureAction.prototype._schedule=function(e,t){var n=this;void 0===t&&(t=0),this.delay=t,this.state=e;var r=this.id;return null!=r&&(this.id=void 0,i.root.clearTimeout(r)),this.id=i.root.setTimeout(function(){n.id=null;var e=n.scheduler;e.actions.push(n),e.flush()},t),this},FutureAction.prototype._unsubscribe=function(){var e=this,t=e.id,n=e.scheduler,r=n.actions,o=r.indexOf(this);null!=t&&(this.id=null,i.root.clearTimeout(t)),-1!==o&&r.splice(o,1),this.work=null,this.state=null,this.scheduler=null},FutureAction}(o.Subscription);t.FutureAction=a},function(e,t,n){"use strict";function observeOn(e,t){return void 0===t&&(t=0),this.lift(new a(e,t))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(64),o=n(291);t.observeOn=observeOn;var a=function(){function ObserveOnOperator(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return ObserveOnOperator.prototype.call=function(e){return new s(e,this.scheduler,this.delay)},ObserveOnOperator}();t.ObserveOnOperator=a;var s=function(e){function ObserveOnSubscriber(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return r(ObserveOnSubscriber,e),ObserveOnSubscriber.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n)},ObserveOnSubscriber.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch,this.delay,new c(e,this.destination)))},ObserveOnSubscriber.prototype._next=function(e){this.scheduleMessage(o.Notification.createNext(e))},ObserveOnSubscriber.prototype._error=function(e){this.scheduleMessage(o.Notification.createError(e))},ObserveOnSubscriber.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete())},ObserveOnSubscriber}(i.Subscriber);t.ObserveOnSubscriber=s;var c=function(){function ObserveOnMessage(e,t){this.notification=e,this.destination=t}return ObserveOnMessage}()},function(e,t,n){"use strict";var r=n(59),i=function(){function Notification(e,t,n){this.kind=e,this.value=t,this.exception=n,this.hasValue="N"===e}return Notification.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.exception);case"C":return e.complete&&e.complete()}},Notification.prototype["do"]=function(e,t,n){var r=this.kind;switch(r){case"N":return e&&e(this.value);case"E":return t&&t(this.exception);case"C":return n&&n()}},Notification.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this["do"](e,t,n)},Notification.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return r.Observable.of(this.value);case"E":return r.Observable["throw"](this.exception);case"C":return r.Observable.empty()}},Notification.createNext=function(e){return"undefined"!=typeof e?new Notification("N",e):this.undefinedValueNotification},Notification.createError=function(e){return new Notification("E",void 0,e)},Notification.createComplete=function(){return this.completeNotification},Notification.completeNotification=new Notification("C"),Notification.undefinedValueNotification=new Notification("N",void 0),Notification}();t.Notification=i},function(e,t,n){"use strict";var r=n(29);t.FirebaseUrl=new r.OpaqueToken("FirebaseUrl"),t.FirebaseRef=new r.OpaqueToken("FirebaseRef"),t.FirebaseAuthConfig=new r.OpaqueToken("FirebaseAuthConfig")},function(e,t){"use strict";function isPresent(e){return void 0!==e&&null!==e}function isString(e){return"string"==typeof e}function isFirebaseRef(e){return e instanceof Firebase}function isFirebaseDataSnapshot(e){return"function"==typeof e.key}function isAFUnwrappedSnapshot(e){return"string"==typeof e.$key}function checkForUrlOrFirebaseRef(e,t){if(isString(e))return t.isUrl();if(isFirebaseRef(e))return t.isRef();throw new Error("Provide a url or a Firebase database reference")}t.isPresent=isPresent,t.isString=isString,t.isFirebaseRef=isFirebaseRef,t.isFirebaseDataSnapshot=isFirebaseDataSnapshot,t.isAFUnwrappedSnapshot=isAFUnwrappedSnapshot,t.checkForUrlOrFirebaseRef=checkForUrlOrFirebaseRef},function(e,t){"use strict";function authDataToAuthState(e){var t=e.auth,n=e.uid,i=e.provider,o=e.github,a=e.twitter,s=e.facebook,c=e.google,u=e.password,l=e.anonymous,p={auth:t,uid:n,expires:e.expires,provider:null};switch(i){case"github":p.github=o,p.provider=r.Github;break;case"twitter":p.twitter=a,p.provider=r.Twitter;break;case"facebook":p.facebook=s,p.provider=r.Facebook;break;case"google":p.google=c,p.provider=r.Google;break;case"password":p.password=u,p.provider=r.Password;break;case"anonymous":p.anonymous=l,p.provider=r.Anonymous;break;case"custom":p.provider=r.Custom;break;default:throw new Error("Unsupported firebase auth provider "+i)}return p}var n=function(){function AuthBackend(){}return AuthBackend}();t.AuthBackend=n,function(e){e[e.Github=0]="Github",e[e.Twitter=1]="Twitter",e[e.Facebook=2]="Facebook",e[e.Google=3]="Google",e[e.Password=4]="Password",e[e.Anonymous=5]="Anonymous",e[e.Custom=6]="Custom"}(t.AuthProviders||(t.AuthProviders={}));var r=t.AuthProviders;!function(e){e[e.Popup=0]="Popup",e[e.Redirect=1]="Redirect",e[e.Anonymous=2]="Anonymous",e[e.Password=3]="Password",e[e.OAuthToken=4]="OAuthToken",e[e.CustomToken=5]="CustomToken"}(t.AuthMethods||(t.AuthMethods={}));t.AuthMethods;t.authDataToAuthState=authDataToAuthState},function(module,exports){/*! @license Firebase v2.4.2
	    License: https://www.firebase.com/terms/terms-of-service.html */
!function(){function p(e){return void 0!==e}function aa(){}function ba(e){e.yb=function(){return e.zf?e.zf:e.zf=new e}}function ca(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function da(e){return"array"==ca(e)}function ea(e){var t=ca(e);return"array"==t||"object"==t&&"number"==typeof e.length}function q(e){return"string"==typeof e}function fa(e){return"number"==typeof e}function r(e){return"function"==ca(e)}function ga(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function ha(e,t,n){return e.call.apply(e.bind,arguments)}function ia(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,u.apply(null,arguments)}function ka(e,t){function c(){}c.prototype=t.prototype,e.ph=t.prototype,e.prototype=new c,e.prototype.constructor=e,e.lh=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function la(e){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function v(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ma(e,t){var n,r={};for(n in e)r[n]=t.call(void 0,e[n],n,e);return r}function na(e,t){for(var n in e)if(!t.call(void 0,e[n],n,e))return!1;return!0}function oa(e){var t,n=0;for(t in e)n++;return n}function pa(e){for(var t in e)return t}function qa(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function ra(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function sa(e,t){for(var n in e)if(e[n]==t)return!0;return!1}function ta(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r}function ua(e,t){var n=ta(e,t,void 0);return n&&e[n]}function va(e){for(var t in e)return!1;return!0}function wa(e){var t,n={};for(t in e)n[t]=e[t];return n}function ya(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<xa.length;o++)n=xa[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function za(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function Aa(){this.Vd=void 0}function Ba(e,t,n){switch(typeof t){case"string":Ca(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?t:"null");break;case"boolean":n.push(t);break;case"undefined":n.push("null");break;case"object":if(null==t){n.push("null");break}if(da(t)){var r=t.length;n.push("[");for(var i="",o=0;r>o;o++)n.push(i),i=t[o],Ba(e,e.Vd?e.Vd.call(t,String(o),i):i,n),i=",";n.push("]");break}n.push("{"),r="";for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i=t[o],"function"!=typeof i&&(n.push(r),Ca(o,n),n.push(":"),Ba(e,e.Vd?e.Vd.call(t,o,i):i,n),r=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof t)}}function Ca(e,t){t.push('"',e.replace(Ea,function(e){if(e in Da)return Da[e];var t=e.charCodeAt(0),n="\\u";return 16>t?n+="000":256>t?n+="00":4096>t&&(n+="0"),Da[e]=n+t.toString(16)}),'"')}function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)}function Ia(){this.Ya=-1}function Ja(){this.Ya=-1,this.Ya=64,this.P=[],this.pe=[],this.eg=[],this.Od=[],this.Od[0]=128;for(var e=1;e<this.Ya;++e)this.Od[e]=0;this.ge=this.ec=0,this.reset()}function Ka(e,t,n){n||(n=0);var r=e.eg;if(q(t))for(var i=0;16>i;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}t=e.P[0],n=e.P[1];for(var a,s=e.P[2],c=e.P[3],u=e.P[4],i=0;80>i;i++)40>i?20>i?(o=c^n&(s^c),a=1518500249):(o=n^s^c,a=1859775393):60>i?(o=n&s|c&(n|s),a=2400959708):(o=n^s^c,a=3395469782),o=(t<<5|t>>>27)+o+u+a+r[i]&4294967295,u=c,c=s,s=4294967295&(n<<30|n>>>2),n=t,t=o;e.P[0]=e.P[0]+t&4294967295,e.P[1]=e.P[1]+n&4294967295,e.P[2]=e.P[2]+s&4294967295,e.P[3]=e.P[3]+c&4294967295,e.P[4]=e.P[4]+u&4294967295}function Ra(e,t){var n=Sa(e,t,void 0);return 0>n?null:q(e)?e.charAt(n):e[n]}function Sa(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&t.call(n,i[o],o,e))return o;return-1}function Ta(e,t){var n=La(e,t);n>=0&&x.splice.call(e,n,1)}function Ua(e,t,n){return 2>=arguments.length?x.slice.call(e,t):x.slice.call(e,t,n)}function Va(e,t){e.sort(t||Wa)}function Wa(e,t){return e>t?1:t>e?-1:0}function Xa(e){n.setTimeout(function(){throw e},0)}function Za(){var e=n.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(e=function(){var e=document.createElement("iframe");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,e=t.document;e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,e=u(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this);t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!=typeof e&&-1==w.indexOf("Trident")&&-1==w.indexOf("MSIE")){var t=new e,r={},i=r;return t.port1.onmessage=function(){if(p(r.next)){r=r.next;var e=r.hb;r.hb=null,e()}},function(e){i.next={hb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(e){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)}}function $a(e,t){ab||bb(),cb||(ab(),cb=!0),db.push(new eb(e,t))}function bb(){if(n.Promise&&n.Promise.resolve){var e=n.Promise.resolve();ab=function(){e.then(fb)}}else ab=function(){var e=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(e)):n.setImmediate(e)}}function fb(){for(;db.length;){var e=db;db=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.yg.call(n.scope)}catch(r){Xa(r)}}}cb=!1}function eb(e,t){this.yg=e,this.scope=t}function nb(e,t){if(!ea(e))throw Error("encodeByteArray takes an array as a parameter");ob();for(var n=t?lb:kb,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|u>>6,u=63&u;c||(u=64,a||(s=64)),r.push(n[l],n[o],n[s],n[u])}return r.join("")}function ob(){if(!kb){kb={},lb={},mb={};for(var e=0;65>e;e++)kb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),lb[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e),mb[lb[e]]=e,e>=62&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)]=e)}}function pb(e,t){if(this.N=qb,this.Rf=void 0,this.Ba=this.Ha=null,this.yd=this.ye=!1,e==rb)sb(this,tb,t);else try{var n=this;e.call(t,function(e){sb(n,tb,e)},function(e){if(!(e instanceof ub))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}sb(n,vb,e)})}catch(r){sb(this,vb,r)}}function rb(){}function xb(e,t){if(e.N==qb)if(e.Ha){var n=e.Ha;if(n.Ba){for(var r,i=0,o=-1,a=0;(r=n.Ba[a])&&!((r=r.o)&&(i++,r==e&&(o=a),o>=0&&i>1));a++);o>=0&&(n.N==qb&&1==i?xb(n,t):(i=n.Ba.splice(o,1)[0],yb(n,i,vb,t)))}e.Ha=null}else sb(e,vb,t)}function zb(e,t){e.Ba&&e.Ba.length||e.N!=tb&&e.N!=vb||Ab(e),e.Ba||(e.Ba=[]),e.Ba.push(t)}function wb(e,t,n,r){var i={o:null,Hf:null,Jf:null};return i.o=new pb(function(e,o){i.Hf=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.Jf=n?function(t){try{var i=n.call(r,t);!p(i)&&t instanceof ub?o(t):e(i)}catch(a){o(a)}}:o}),i.o.Ha=e,zb(e,i),i.o}function sb(e,t,n){if(e.N==qb){if(e==n)t=vb,n=new TypeError("Promise cannot resolve to itself");else{var i;if(n)try{i=!!n.$goog_Thenable}catch(o){i=!1}else i=!1;if(i)return e.N=1,void n.then(e.Yf,e.Zf,e);if(ga(n))try{var a=n.then;if(r(a))return void Bb(e,n,a)}catch(s){t=vb,n=s}}e.Rf=n,e.N=t,e.Ha=null,Ab(e),t!=vb||n instanceof ub||Cb(e,n)}}function Bb(t,n,r){function d(e){i||(i=!0,t.Zf(e))}function e(e){i||(i=!0,t.Yf(e))}t.N=1;var i=!1;try{r.call(n,e,d)}catch(o){d(o)}}function Ab(e){e.ye||(e.ye=!0,$a(e.wg,e))}function yb(e,t,n,r){if(n==tb)t.Hf(r);else{if(t.o)for(;e&&e.yd;e=e.Ha)e.yd=!1;t.Jf(r)}}function Cb(e,t){e.yd=!0,$a(function(){e.yd&&Db.call(null,t)})}function ub(e){la.call(this,e)}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Fb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gb(e){var t={};return Fb(e,function(e,n){t[e]=n}),t}function Hb(e){return"object"==typeof e&&null!==e}function Ib(e){var t=[];return Fb(e,function(e,n){da(n)?Ma(n,function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""}function Jb(e){var t={};return e=e.replace(/^\?/,"").split("&"),Ma(e,function(e){e&&(e=e.split("="),t[e[0]]=e[1])}),t}function Kb(e,t){if(!e)throw Lb(t)}function Lb(e){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+e)}function B(){var e=this;this.reject=this.resolve=null,this.D=new Mb(function(t,n){e.resolve=t,e.reject=n})}function C(e,t){return function(n,i){n?e.reject(n):e.resolve(i),r(t)&&(Nb(e.D),1===t.length?t(n):t(n,i))}}function Nb(e){e.then(void 0,aa)}function Ob(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i>=55296&&56319>=i&&(i-=55296,r++,Kb(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(i<<10)+(e.charCodeAt(r)-56320)),128>i?t[n++]=i:(2048>i?t[n++]=i>>6|192:(65536>i?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function Pb(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t++:2048>r?t+=2:r>=55296&&56319>=r?(t+=4,n++):t+=3}return t}function D(e,t,n,r){var i;if(t>r?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function E(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e=e+" failed: "+(r+" argument ")}function F(e,t,n,i){if((!i||p(n))&&!r(n))throw Error(E(e,t,i)+"must be a valid function.")}function Qb(e,t,n){if(p(n)&&(!ga(n)||null===n))throw Error(E(e,t,!0)+"must be a valid context object.")}function Rb(e){return"undefined"!=typeof JSON&&p(JSON.parse)?JSON.parse(e):za(e)}function G(e){if("undefined"!=typeof JSON&&p(JSON.stringify))e=JSON.stringify(e);else{var t=[];Ba(new Aa,e,t),e=t.join("")}return e}function Sb(){this.Zd=H}function Tb(){}function Vb(e,t,n){this.bg=e,this.Oa=t,this.Nd=n}function Zb(){this.xb=[]}function $b(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.cc();null===n||o.ea(n.cc())||(e.xb.push(n),n=null),null===n&&(n=new ac(o)),n.add(i)}n&&e.xb.push(n)}function bc(e,t,n){$b(e,n),cc(e,function(e){return e.ea(t)})}function dc(e,t,n){$b(e,n),cc(e,function(e){return e.contains(t)||t.contains(e)})}function cc(e,t){for(var n=!0,r=0;r<e.xb.length;r++){var i=e.xb[r];if(i)if(i=i.cc(),t(i)){for(var i=e.xb[r],o=0;o<i.xd.length;o++){var a=i.xd[o];if(null!==a){i.xd[o]=null;var s=a.Zb();ec&&fc("event: "+a.toString()),gc(s)}}e.xb[r]=null}else n=!1}n&&(e.xb=[])}function ac(e){this.ta=e,this.xd=[]}function J(e,t,n,r){this.type=e,this.Na=t,this.Za=n,this.Oe=r,this.Td=void 0}function hc(e){return new J(ic,e)}function jc(e,t,n,r){this.xe=t,this.be=n,this.Td=r,this.wd=e}function kc(e,t,n){this.xe=e,this.error=t,this.path=n}function Xb(e,t,n){this.A=e,this.ga=t,this.Yb=n}function lc(e){return e.ga}function mc(e){return e.Yb}function nc(e,t){return t.e()?e.ga&&!e.Yb:Wb(e,K(t))}function Wb(e,t){return e.ga&&!e.Yb||e.A.Fa(t)}function oc(e){this.pg=e,this.Gd=null}function pc(e,t){this.Vf={},this.hd=new oc(e),this.da=t;var n=1e4+2e4*Math.random();setTimeout(u(this.Of,this),Math.floor(n))}function qc(){this.Hc={}}function rc(e,t,n){p(n)||(n=1),y(e.Hc,t)||(e.Hc[t]=0),e.Hc[t]+=n}function uc(e){return e=e.toString(),sc[e]||(sc[e]=new qc),sc[e]}function vc(e,t){var n=e.toString();return tc[n]||(tc[n]=t()),tc[n]}function L(e,t){this.name=e,this.U=t}function wc(e,t){return new L(e,t)}function xc(e,t){return yc(e.name,t.name)}function zc(e,t){return yc(e,t)}function Ac(e,t,n){this.type=Bc,this.source=e,this.path=t,this.Ja=n}function Cc(e,t){this.type=Dc,this.source=e,this.path=t}function Ec(e,t){this.Pa=e,this.xa=t?t:Fc}function Gc(e,t){for(var n,r=e.xa,i=null;!r.e();){if(n=e.Pa(t,r.key),0===n){if(r.left.e())return i?i.key:null;for(r=r.left;!r.right.e();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function Hc(e,t,n,r,i){for(this.Xd=i||null,this.Je=r,this.Ta=[],i=1;!e.e();)if(i=t?n(e.key,t):1,r&&(i*=-1),0>i)e=this.Je?e.left:e.right;else{if(0===i){this.Ta.push(e);break}this.Ta.push(e),e=this.Je?e.right:e.left}}function Ic(e){if(0===e.Ta.length)return null;var t,n=e.Ta.pop();if(t=e.Xd?e.Xd(n.key,n.value):{key:n.key,value:n.value},e.Je)for(n=n.left;!n.e();)e.Ta.push(n),n=n.right;else for(n=n.right;!n.e();)e.Ta.push(n),n=n.left;return t}function Jc(e){if(0===e.Ta.length)return null;var t;return t=e.Ta,t=t[t.length-1],e.Xd?e.Xd(t.key,t.value):{key:t.key,value:t.value}}function Kc(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:!0,this.left=null!=r?r:Fc,this.right=null!=i?i:Fc}function Lc(e){return e.left.e()?e:Lc(e.left)}function Nc(e){return e.left.e()?Fc:(e.left.ha()||e.left.left.ha()||(e=Oc(e)),e=e.$(null,null,null,Nc(e.left),null),Mc(e))}function Mc(e){return e.right.ha()&&!e.left.ha()&&(e=Rc(e)),e.left.ha()&&e.left.left.ha()&&(e=Pc(e)),e.left.ha()&&e.right.ha()&&(e=Qc(e)),e}function Oc(e){return e=Qc(e),e.right.left.ha()&&(e=e.$(null,null,null,null,Pc(e.right)),e=Rc(e),e=Qc(e)),e}function Rc(e){return e.right.$(null,null,e.color,e.$(null,null,!0,null,e.right.left),null)}function Pc(e){return e.left.$(null,null,e.color,null,e.$(null,null,!0,e.left.right,null))}function Qc(e){return e.$(null,null,!e.color,e.left.$(null,null,!e.left.color,null,null),e.right.$(null,null,!e.right.color,null,null))}function Sc(){}function Tc(e,t){return e&&"object"==typeof e?(O(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e}function Uc(e,t){var n=new Vc;return Wc(e,new P(""),function(e,r){n.rc(e,Xc(r,t))}),n}function Xc(e,t){var n,r=e.C().J(),r=Tc(r,t);if(e.L()){var i=Tc(e.Ea(),t);return i!==e.Ea()||r!==e.C().J()?new Yc(i,Q(r)):e}return n=e,r!==e.C().J()&&(n=n.ia(new Yc(r))),e.R(R,function(e,r){var i=Xc(r,t);i!==r&&(n=n.W(e,i))}),n}function Zc(){this.Ac={}}function $c(e){this.Ic=e,this.Sd="firebase:"}function ad(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $c(t)}}catch(n){}return new Zc}function dd(e,t,n,r,i){this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.ob=t,this.lc=n,this.jh=r,this.Rd=i||"",this.ab=bd.get("host:"+e)||this.host}function ed(e,t){t!==e.ab&&(e.ab=t,"s-"===e.ab.substr(0,2)&&bd.set("host:"+e.host,e.ab))}function fd(e,t,n){if(O("string"==typeof t,"typeof type must == string"),O("object"==typeof n,"typeof params must == object"),t===gd)t=(e.ob?"wss://":"ws://")+e.ab+"/.ws?";else{if(t!==hd)throw Error("Unknown connection type: "+t);t=(e.ob?"https://":"http://")+e.ab+"/.lp?"}e.host!==e.ab&&(n.ns=e.lc);var r=[];return v(n,function(e,t){r.push(t+"="+e)}),t+r.join("&")}function kd(e){try{var t;if("undefined"!=typeof atob)t=atob(e);else{ob();for(var n=mb,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;var s=i<e.length?n[e.charAt(i)]:64;++i;var c=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=c&&r.push(s<<6&192|c))}if(8192>r.length)t=String.fromCharCode.apply(null,r);else{for(e="",n=0;n<r.length;n+=8192)e+=String.fromCharCode.apply(null,Ua(r,n,n+8192));t=e}}return t}catch(u){fc("base64Decode failed: ",u)}return null}function ld(e){var t=Ob(e);e=new Ja,e.update(t);var t=[],n=8*e.ge;56>e.ec?e.update(e.Od,56-e.ec):e.update(e.Od,e.Ya-(e.ec-56));for(var r=e.Ya-1;r>=56;r--)e.pe[r]=255&n,n/=256;for(Ka(e,e.pe),r=n=0;5>r;r++)for(var i=24;i>=0;i-=8)t[n]=e.P[r]>>i&255,++n;return nb(t)}function md(e){for(var t="",n=0;n<arguments.length;n++)t=ea(arguments[n])?t+md.apply(null,arguments[n]):"object"==typeof arguments[n]?t+G(arguments[n]):t+arguments[n],t+=" ";return t}function od(e,t){Kb(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?("undefined"!=typeof console&&("function"==typeof console.log?ec=u(console.log,console):"object"==typeof console.log&&(ec=function(e){})),t&&cd.set("logging_enabled",!0)):r(e)?ec=e:(ec=null,cd.remove("logging_enabled"))}function fc(e){if(!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0)),ec){var t=md.apply(null,arguments);ec(t)}}function pd(e){return function(){fc(e,arguments)}}function qd(e){if("undefined"!=typeof console){"FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);"undefined"!=typeof console.error,void 0}}function rd(e){var t=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+t)}function S(e){if("undefined"!=typeof console){"FIREBASE WARNING: "+md.apply(null,arguments);"undefined"!=typeof console.warn,void 0}}function sd(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if(q(e)){var c=e.indexOf("//");for(c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2)),c=e.indexOf("/"),-1===c&&(c=e.length),t=e.substring(0,c),i="",e=e.substring(c).split("/"),c=0;c<e.length;c++)if(0<e[c].length){var u=e[c];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(l){}i+="/"+u}e=t.split("."),3===e.length?(n=e[1],r=e[0].toLowerCase()):2===e.length&&(n=e[0]),c=t.indexOf(":"),c>=0&&(o="https"===a||"wss"===a,s=t.substring(c+1),isFinite(s)&&(s=String(s)),s=q(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:t,port:s,domain:n,fh:r,ob:o,scheme:a,bd:i}}function td(e){return fa(e)&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)}function ud(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function yc(e,t){if(e===t)return 0;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return-1;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return 1;var n=vd(e),r=vd(t);return null!==n?null!==r?0==n-r?e.length-t.length:n-r:-1:null!==r?1:t>e?-1:1}function wd(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+G(t))}function xd(e){if("object"!=typeof e||null===e)return G(e);var t,n=[];for(t in e)n.push(t);n.sort(),t="{";for(var r=0;r<n.length;r++)0!==r&&(t+=","),t+=G(n[r]),t+=":",t+=xd(e[n[r]]);return t+"}"}function yd(e,t){if(e.length<=t)return[e];for(var n=[],r=0;r<e.length;r+=t)r+t>e?n.push(e.substring(r,e.length)):n.push(e.substring(r,r+t));return n}function zd(e,t){if(da(e))for(var n=0;n<e.length;++n)t(n,e[n]);else v(e,t)}function Ad(e){O(!td(e),"Invalid JSON number");var t,n,r,i;for(0===e?(r=n=0,t=-(1/0)===1/e?1:0):(t=0>e,e=Math.abs(e),e>=Math.pow(2,-1022)?(r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=r+1023,r=Math.round(e*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),i=[],e=52;e;--e)i.push(r%2?1:0),r=Math.floor(r/2);for(e=11;e;--e)i.push(n%2?1:0),n=Math.floor(n/2);for(i.push(t?1:0),i.reverse(),t=i.join(""),n="",e=0;64>e;e+=8)r=parseInt(t.substr(e,8),2).toString(16),1===r.length&&(r="0"+r),n+=r;return n.toLowerCase()}function vd(e){return Bd.test(e)&&(e=Number(e),e>=-2147483648&&2147483647>=e)?e:null}function gc(e){try{e()}catch(t){setTimeout(function(){throw S("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function T(e,t){if(r(e)){var n=Array.prototype.slice.call(arguments,1).slice();gc(function(){e.apply(null,n)})}}function Cd(e){var t={},n={},r={},i="";try{var o=e.split("."),t=Rb(kd(o[0])||""),n=Rb(kd(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{mh:t,Ec:n,data:r,bh:i}}function Dd(e){return e=Cd(e).Ec,"object"==typeof e&&e.hasOwnProperty("iat")?z(e,"iat"):null}function Ed(e){e=Cd(e);var t=e.Ec;return!!e.bh&&!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}function Fd(e){this.Y=e,this.g=e.n.g}function Gd(e,t,n,r){var i=[],o=[];return Ma(t,function(t){"child_changed"===t.type&&e.g.Dd(t.Oe,t.Na)&&o.push(new J("child_moved",t.Na,t.Za))}),Hd(e,i,"child_removed",t,r,n),Hd(e,i,"child_added",t,r,n),Hd(e,i,"child_moved",o,r,n),Hd(e,i,"child_changed",t,r,n),Hd(e,i,ic,t,r,n),i}function Hd(e,t,n,r,i,o){r=Na(r,function(e){return e.type===n}),Va(r,u(e.qg,e)),Ma(r,function(n){var r=Id(e,n,o);Ma(i,function(i){i.Qf(n.type)&&t.push(i.createEvent(r,e.Y))})})}function Id(e,t,n){return"value"!==t.type&&"child_removed"!==t.type&&(t.Td=n.wf(t.Za,t.Na,e.g)),t}function Jd(){this.ib={}}function Kd(e,t){var n=t.type,r=t.Za;O("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),O(".priority"!==r,"Only non-priority child changes can be tracked.");var i=z(e.ib,r);if(i){var o=i.type;if("child_added"==n&&"child_removed"==o)e.ib[r]=new J("child_changed",t.Na,r,i.Na);else if("child_removed"==n&&"child_added"==o)delete e.ib[r];else if("child_removed"==n&&"child_changed"==o)e.ib[r]=new J("child_removed",i.Oe,r);else if("child_changed"==n&&"child_added"==o)e.ib[r]=new J("child_added",t.Na,r);else{if("child_changed"!=n||"child_changed"!=o)throw jd("Illegal combination of changes: "+t+" occurred after "+i);e.ib[r]=new J("child_changed",t.Na,r,i.Oe)}}else e.ib[r]=t}function Ld(e){this.g=e}function Md(e){this.Fe=new Ld(e.g),this.g=e.g;var t;e.oa?(t=Nd(e),t=e.g.Sc(Od(e),t)):t=e.g.Wc(),this.gd=t,e.ra?(t=Pd(e),e=e.g.Sc(Rd(e),t)):e=e.g.Tc(),this.Jc=e}function Sd(e){this.ua=new Md(e),this.g=e.g,O(e.la,"Only valid if limit has been set"),this.ma=e.ma,this.Nb=!Td(e)}function Ud(e,t,n,r,i,o){var a;if(e.Nb){var s=Vd(e.g);a=function(e,t){return s(t,e)}}else a=Vd(e.g);O(t.Hb()==e.ma,"");var c=new L(n,r),u=e.Nb?Wd(t,e.g):Xd(t,e.g),l=e.ua.matches(c);if(t.Fa(n)){for(var p=t.T(n),u=i.Ce(e.g,u,e.Nb);null!=u&&(u.name==n||t.Fa(u.name));)u=i.Ce(e.g,u,e.Nb);return i=null==u?1:a(u,c),l&&!r.e()&&i>=0?(null!=o&&Kd(o,new J("child_changed",r,n,p)),t.W(n,r)):(null!=o&&Kd(o,new J("child_removed",p,n)),t=t.W(n,H),null!=u&&e.ua.matches(u)?(null!=o&&Kd(o,new J("child_added",u.U,u.name)),t.W(u.name,u.U)):t)}return r.e()?t:l&&0<=a(u,c)?(null!=o&&(Kd(o,new J("child_removed",u.U,u.name)),Kd(o,new J("child_added",r,n))),t.W(n,r).W(u.name,H)):t}function Yd(e,t){this.me=e,this.og=t}function Zd(e){this.X=e}function ie(e,t,n,r,i,o){var a=t.Q;if(null!=r.xc(n))return t;var s;if(n.e())O(lc(t.w()),"If change path is empty, we must have complete server data"),mc(t.w())?(i=Yb(t),r=r.Cc(i instanceof fe?i:H)):r=r.Aa(Yb(t)),o=e.X.ya(t.Q.j(),r,o);else{var c=K(n);if(".priority"==c)O(1==le(n),"Can't have a priority with additional path components"),o=a.j(),s=t.w().j(),r=r.nd(n,o,s),o=null!=r?e.X.ia(o,r):a.j();else{var u=N(n);Wb(a,c)?(s=t.w().j(),r=r.nd(n,a.j(),s),r=null!=r?a.j().T(c).H(u,r):a.j().T(c)):r=r.Bc(c,t.w()),o=null!=r?e.X.H(a.j(),c,r,u,i,o):a.j()}}return ge(t,o,a.ga||n.e(),e.X.Ra())}function ae(e,t,n,r,i,o,a,s){var c=t.w();if(a=a?e.X:e.X.$b(),n.e())r=a.ya(c.j(),r,null);else if(a.Ra()&&!c.Yb)r=c.j().H(n,r),r=a.ya(c.j(),r,null);else{var u=K(n);if(!nc(c,n)&&1<le(n))return t;var l=N(n);r=c.j().T(u).H(l,r),r=".priority"==u?a.ia(c.j(),r):a.H(c.j(),u,r,l,Ub,null)}return c=c.ga||n.e(),t=new je(t.Q,new Xb(r,c,a.Ra())),ie(e,t,n,i,new Vb(i,t,o),s)}function $d(e,t,n,r,i,o,a){var s=t.Q;if(i=new Vb(i,t,o),n.e())a=e.X.ya(t.Q.j(),r,a),e=ge(t,a,!0,e.X.Ra());else if(o=K(n),".priority"===o)a=e.X.ia(t.Q.j(),r),e=ge(t,a,s.ga,s.Yb);else{n=N(n);var c=s.j().T(o);if(!n.e()){var u=i.uf(o);r=null!=u?".priority"===me(n)&&u.S(n.parent()).e()?u:u.H(n,r):H}c.ea(r)?e=t:(a=e.X.H(s.j(),o,r,n,i,a),e=ge(t,a,s.ga,e.X.Ra()))}return e}function ce(e,t,n,r,i,o,a){var s=t;return ne(r,function(r,c){var u=n.o(r);Wb(t.Q,K(u))&&(s=$d(e,s,u,c,i,o,a))}),ne(r,function(r,c){var u=n.o(r);Wb(t.Q,K(u))||(s=$d(e,s,u,c,i,o,a))}),s}function oe(e,t){return ne(t,function(t,n){e=e.H(t,n)}),e}function de(e,t,n,r,i,o,a,s){if(t.w().j().e()&&!lc(t.w()))return t;var c=t;n=n.e()?r:pe(qe,n,r);var u=t.w().j();return n.children.ka(function(n,r){if(u.Fa(n)){var l=t.w().j().T(n),l=oe(l,r);c=ae(e,c,new P(n),l,i,o,a,s)}}),n.children.ka(function(n,r){var l=!Wb(t.w(),n)&&null==r.value;u.Fa(n)||l||(l=t.w().j().T(n),l=oe(l,r),c=ae(e,c,new P(n),l,i,o,a,s))}),c}function he(e,t,n,r,i,o,a){if(null!=i.xc(n))return t;var s=mc(t.w()),c=t.w();if(null!=r.value){if(n.e()&&c.ga||nc(c,n))return ae(e,t,n,c.j().S(n),i,o,s,a);if(n.e()){var u=qe;return c.j().R(re,function(e,t){u=u.set(new P(e),t)}),de(e,t,n,u,i,o,s,a)}return t}return u=qe,ne(r,function(e){var t=n.o(e);nc(c,t)&&(u=u.set(e,c.j().S(t)))}),de(e,t,n,u,i,o,s,a)}function se(){}function Vd(e){return u(e.compare,e)}function ve(e){O(!e.e()&&".priority"!==K(e),"Can't create PathIndex with empty path or .priority key"),this.gc=e}function xe(){}function ye(){}function ze(){}function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1,this.ma=0,this.Rb="",this.ic=null,this.Bb="",this.fc=null,this.zb="",this.g=R}function Td(e){return""===e.Rb?e.oa:"l"===e.Rb}function Od(e){return O(e.oa,"Only valid if start has been set"),e.ic}function Nd(e){return O(e.oa,"Only valid if start has been set"),e.Pb?e.Bb:"[MIN_NAME]"}function Rd(e){return O(e.ra,"Only valid if end has been set"),e.fc}function Pd(e){return O(e.ra,"Only valid if end has been set"),e.Xb?e.zb:"[MAX_NAME]"}function Ee(e){var t=new Ce;return t.la=e.la,t.ma=e.ma,t.oa=e.oa,t.ic=e.ic,t.Pb=e.Pb,t.Bb=e.Bb,t.ra=e.ra,t.fc=e.fc,t.Xb=e.Xb,t.zb=e.zb,t.g=e.g,t}function Fe(e,t){var n=Ee(e);return n.g=t,n}function Ge(e){var t={};if(e.oa&&(t.sp=e.ic,e.Pb&&(t.sn=e.Bb)),e.ra&&(t.ep=e.fc,e.Xb&&(t.en=e.zb)),e.la){t.l=e.ma;var n=e.Rb;""===n&&(n=Td(e)?"l":"r"),t.vf=n}return e.g!==R&&(t.i=e.g.toString()),t}function He(e){return!(e.oa||e.ra||e.la)}function Ie(e){return He(e)&&e.g==R}function Je(e){var t={};if(Ie(e))return t;var n;return e.g===R?n="$priority":e.g===Be?n="$value":e.g===re?n="$key":(O(e.g instanceof ve,"Unrecognized index type!"),n=e.g.toString()),t.orderBy=G(n),e.oa&&(t.startAt=G(e.ic),e.Pb&&(t.startAt+=","+G(e.Bb))),e.ra&&(t.endAt=G(e.fc),e.Xb&&(t.endAt+=","+G(e.zb))),e.la&&(Td(e)?t.limitToFirst=e.ma:t.limitToLast=e.ma),t}function Ke(e,t){this.Ed=e,this.hc=t}function Le(e,t,n){var r=ma(e.Ed,function(r,i){var o=z(e.hc,i);if(O(o,"Missing index implementation for "+i),r===te){if(o.Lc(t.U)){for(var a=[],s=n.ac(wc),c=Ic(s);c;)c.name!=t.name&&a.push(c),c=Ic(s);return a.push(t),Me(a,Vd(o))}return te}return o=n.get(t.name),a=r,o&&(a=a.remove(new L(t.name,o))),a.Sa(t,t.U)});return new Ke(r,e.hc)}function Ne(e,t,n){var r=ma(e.Ed,function(e){if(e===te)return e;var r=n.get(t.name);return r?e.remove(new L(t.name,r)):e});return new Ke(r,e.hc)}function Yc(e,t){this.B=e,O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value."),this.ca=t||H,Pe(this.ca),this.Gb=null}function fe(e,t,n){this.m=e,(this.ca=t)&&Pe(this.ca),e.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority"),this.Ab=n,this.Gb=null}function Wd(e,t){var n;return n=(n=Te(e,t))?(n=n.Vc())&&n.name:e.m.Vc(),n?new L(n,e.m.get(n)):null}function Xd(e,t){var n;return n=(n=Te(e,t))?(n=n.jc())&&n.name:e.m.jc(),n?new L(n,e.m.get(n)):null}function Te(e,t){return t===re?null:e.Ab.get(t.toString())}function Q(e,t){if(null===e)return H;var n=null;if("object"==typeof e&&".priority"in e?n=e[".priority"]:"undefined"!=typeof t&&(n=t),O(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Yc(e,Q(n));if(e instanceof Array){var r=H,i=e;return v(i,function(e,t){if(y(i,t)&&"."!==t.substring(0,1)){var n=Q(e);!n.L()&&n.e()||(r=r.W(t,n))}}),r.ia(Q(n))}var o=[],a=!1,s=e;if(Fb(s,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=Q(s[e]);t.e()||(a=a||!t.C().e(),o.push(new L(e,t)))}}),0==o.length)return H;var c=Me(o,xc,function(e){return e.name},zc);if(a){var u=Me(o,Vd(R));return new fe(c,Q(n),new Ke({".priority":u},{".priority":R}))}return new fe(c,Q(n),Oe)}function Ve(e){this.count=parseInt(Math.log(e+1)/Ue,10),this.nf=this.count-1,this.ng=e+1&parseInt(Array(this.count+1).join("1"),2)}function We(e){var t=!(e.ng&1<<e.nf);return e.nf--,t}function Me(t,n,r,i){function e(n,i){var o=i-n;if(0==o)return null;if(1==o){var a=t[n],s=r?r(a):a;return new Kc(s,a.U,!1,null,null)}var a=parseInt(o/2,10)+n,o=e(n,a),c=e(a+1,i),a=t[a],s=r?r(a):a;return new Kc(s,a.U,!1,o,c)}t.sort(n);var o=function(n){function d(n,s){var c=a-n,u=a;a-=n;var u=e(c+1,u),c=t[c],l=r?r(c):c,u=new Kc(l,c.U,s,null,u);i?i.left=u:o=u,i=u}for(var i=null,o=null,a=t.length,s=0;s<n.count;++s){var c=We(n),u=Math.pow(2,n.count-(s+1));c?d(u,!1):(d(u,!1),d(u,!0))}return o}(new Ve(t.length));return null!==o?new Ec(i||n,o):new Ec(i||n)}function Re(e){return"number"==typeof e?"number:"+Ad(e):"string:"+e}function Pe(e){if(e.L()){var t=e.J();O("string"==typeof t||"number"==typeof t||"object"==typeof t&&y(t,".sv"),"Priority must be a string or number.")}else O(e===we||e.e(),"priority of unexpected type.");O(e===we||e.C().e(),"Priority nodes can't have a priority of their own.")}function Xe(){fe.call(this,new Ec(zc),H,Oe)}function je(e,t){this.Q=e,this.ae=t}function ge(e,t,n,r){return new je(new Xb(t,n,r),e.ae)}function ke(e){return e.Q.ga?e.Q.j():null}function Yb(e){return e.ae.ga?e.ae.j():null}function Ye(e,t){this.Y=e;var n=e.n,r=new Ld(n.g),n=He(n)?new Ld(n.g):n.la?new Sd(n):new Md(n);this.Nf=new Zd(n);var i=t.w(),o=t.Q,a=r.ya(H,i.j(),null),s=n.ya(H,o.j(),null);this.Oa=new je(new Xb(s,o.ga,n.Ra()),new Xb(a,i.ga,r.Ra())),this.$a=[],this.ug=new Fd(e)}function Ze(e){return e.Y}function af(e,t){var n=e.Oa.Q,r=[];return n.j().L()||n.j().R(R,function(e,t){r.push(new J("child_added",t,e))}),n.ga&&r.push(hc(n.j())),$e(e,r,n.j(),t)}function $e(e,t,n,r){return Gd(e.ug,t,n,r?[r]:e.$a)}function bf(e,t,n){this.type=be,this.source=e,this.path=t,this.children=n}function cf(e,t){this.f=pd("p:rest:"),this.G=e,this.Kb=t,this.Ca=null,this.ba={}}function df(e,t){return p(t)?"tag$"+t:(O(Ie(e.n),"should have a tag if it's not a default query."),e.path.toString())}function ef(e,t,n,r){n=n||{},n.format="export",e.Ca&&(n.auth=e.Ca);
var i=(e.G.ob?"https://":"http://")+e.G.host+t+"?"+Ib(n);e.f("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){e.f("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var t=null;if(200<=o.status&&300>o.status){try{t=Rb(o.responseText)}catch(n){S("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,t)}else 401!==o.status&&404!==o.status&&S("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function ff(e){O(da(e)&&0<e.length,"Requires a non-empty array"),this.fg=e,this.Rc={}}function gf(e,t){O(Ra(e.fg,function(e){return e===t}),"Unknown event: "+t)}function jf(){if(ff.call(this,["online"]),this.oc=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var e=this;window.addEventListener("online",function(){e.oc||(e.oc=!0,e.ie("online",!0))},!1),window.addEventListener("offline",function(){e.oc&&(e.oc=!1,e.ie("online",!1))},!1)}}function kf(){ff.call(this,["visible"]);var e,t;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!=typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!=typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!=typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.Sb=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.Sb&&(n.Sb=t,n.ie("visible",t))},!1)}}function P(e,t){if(1==arguments.length){this.u=e.split("/");for(var n=0,r=0;r<this.u.length;r++)0<this.u[r].length&&(this.u[n]=this.u[r],n++);this.u.length=n,this.aa=0}else this.u=e,this.aa=t}function lf(e,t){var n=K(e);if(null===n)return t;if(n===K(t))return lf(N(e),N(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function mf(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=yc(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function K(e){return e.aa>=e.u.length?null:e.u[e.aa]}function le(e){return e.u.length-e.aa}function N(e){var t=e.aa;return t<e.u.length&&t++,new P(e.u,t)}function me(e){return e.aa<e.u.length?e.u[e.u.length-1]:null}function nf(e,t){this.Ua=e.slice(),this.Ka=Math.max(1,this.Ua.length),this.pf=t;for(var n=0;n<this.Ua.length;n++)this.Ka+=Pb(this.Ua[n]);of(this)}function of(e){if(768<e.Ka)throw Error(e.pf+"has a key path longer than 768 bytes ("+e.Ka+").");if(32<e.Ua.length)throw Error(e.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(e))}function pf(e){return 0==e.Ua.length?"":"in property '"+e.Ua.join(".")+"'"}function qf(e,t){this.value=e,this.children=t||rf}function sf(e){var t=qe;return v(e,function(e,n){t=t.set(new P(n),e)}),t}function tf(e,t,n){if(null!=e.value&&n(e.value))return{path:M,value:e.value};if(t.e())return null;var r=K(t);return e=e.children.get(r),null!==e?(t=tf(e,N(t),n),null!=t?{path:new P(r).o(t.path),value:t.value}:null):null}function uf(e,t){return tf(e,t,function(){return!0})}function pe(e,t,n){if(t.e())return n;var r=K(t);return t=pe(e.children.get(r)||qe,N(t),n),r=t.e()?e.children.remove(r):e.children.Sa(r,t),new qf(e.value,r)}function vf(e,t){return wf(e,M,t)}function wf(e,t,n){var r={};return e.children.ka(function(e,i){r[e]=wf(i,t.o(e),n)}),n(t,e.value,r)}function xf(e,t,n){return yf(e,t,M,n)}function yf(e,t,n,r){var i=e.value?r(n,e.value):!1;return i?i:t.e()?null:(i=K(t),(e=e.children.get(i))?yf(e,N(t),n.o(i),r):null)}function zf(e,t,n){Af(e,t,M,n)}function Af(e,t,n,r){if(t.e())return e;e.value&&r(n,e.value);var i=K(t);return(e=e.children.get(i))?Af(e,N(t),n.o(i),r):qe}function ne(e,t){Bf(e,M,t)}function Bf(e,t,n){e.children.ka(function(e,r){Bf(r,t.o(e),n)}),e.value&&n(t,e.value)}function Cf(e,t){e.children.ka(function(e,n){n.value&&t(e,n.value)})}function Df(e,t,n){this.type=ee,this.source=Ef,this.path=e,this.Ub=t,this.Yd=n}function Ff(e,t,n,r){this.Ae=e,this.tf=t,this.Lb=n,this.ef=r,O(!r||t,"Tagged queries must be from server.")}function Hf(e){this.Z=e}function Jf(e,t,n){if(t.e())return new Hf(new qf(n));var r=uf(e.Z,t);if(null!=r){var i=r.path,r=r.value;return t=lf(i,t),r=r.H(t,n),new Hf(e.Z.set(i,r))}return e=pe(e.Z,t,new qf(n)),new Hf(e)}function Kf(e,t,n){var r=e;return Fb(n,function(e,n){r=Jf(r,t.o(e),n)}),r}function Lf(e,t){var n=uf(e.Z,t);return null!=n?e.Z.get(n.path).S(lf(n.path,t)):null}function Mf(e){var t=[],n=e.Z.value;return null!=n?n.L()||n.R(R,function(e,n){t.push(new L(e,n))}):e.Z.children.ka(function(e,n){null!=n.value&&t.push(new L(e,n.value))}),t}function Nf(e,t){if(t.e())return e;var n=Lf(e,t);return new Hf(null!=n?new qf(n):e.Z.subtree(t))}function Of(e,t,n){if(null!=t.value)return n.H(e,t.value);var r=null;return t.children.ka(function(t,i){".priority"===t?(O(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Of(e.o(t),i,n)}),n.S(e).e()||null===r||(n=n.H(e.o(".priority"),r)),n}function Pf(){this.V=If,this.pa=[],this.Pc=-1}function Qf(e,t){for(var n=0;n<e.pa.length;n++){var r=e.pa[n];if(r.md===t)return r}return null}function Rf(e,t){return e.Ja?e.path.contains(t):!!ta(e.children,function(n,r){return e.path.o(r).contains(t)})}function Tf(e){return e.visible}function Sf(e,t,n){for(var r=If,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path;if(o.Ja)n.contains(a)?(a=lf(n,a),r=Jf(r,a,o.Ja)):a.contains(n)&&(a=lf(a,n),r=Jf(r,M,o.Ja.S(a)));else{if(!o.children)throw jd("WriteRecord should have .snap or .children");n.contains(a)?(a=lf(n,a),r=Kf(r,a,o.children)):a.contains(n)&&(a=lf(a,n),a.e()?r=Kf(r,M,o.children):(o=z(o.children,K(a)))&&(o=o.S(N(a)),r=Jf(r,M,o)))}}}return r}function Uf(e,t){this.Qb=e,this.Z=t}function Vf(){this.children={},this.pd=0,this.value=null}function Wf(e,t,n){this.Jd=e?e:"",this.Ha=t?t:null,this.A=n?n:new Vf}function Xf(e,t){for(var n,r=t instanceof P?t:new P(t),i=e;null!==(n=K(r));)i=new Wf(n,i,z(i.A.children,n)||new Vf),r=N(r);return i}function Yf(e,t){O("undefined"!=typeof t,"Cannot set value to undefined"),e.A.value=t,Zf(e)}function $f(e,t,n,r){n&&!r&&t(e),e.R(function(e){$f(e,t,!0,r)}),n&&r&&t(e)}function ag(e,t){for(var n=e.parent();null!==n&&!t(n);)n=n.parent()}function Zf(e){if(null!==e.Ha){var t=e.Ha,n=e.Jd,r=e.e(),i=y(t.A.children,n);r&&i?(delete t.A.children[n],t.A.pd--,Zf(t)):r||i||(t.A.children[n]=e.A,t.A.pd++,Zf(t))}}function eg(e){return q(e)&&0!==e.length&&!bg.test(e)}function fg(e){return null===e||q(e)||fa(e)&&!td(e)||ga(e)&&y(e,".sv")}function gg(e,t,n,r){r&&!p(t)||hg(E(e,1,r),t,n)}function hg(e,t,n){if(n instanceof P&&(n=new nf(n,e)),!p(t))throw Error(e+"contains undefined "+pf(n));if(r(t))throw Error(e+"contains a function "+pf(n)+" with contents: "+t.toString());if(td(t))throw Error(e+"contains "+t.toString()+" "+pf(n));if(q(t)&&t.length>10485760/3&&10485760<Pb(t))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+pf(n)+" ('"+t.substring(0,50)+"...')");if(ga(t)){var i=!1,o=!1;if(Fb(t,function(t,r){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!eg(t)))throw Error(e+" contains an invalid key ("+t+") "+pf(n)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');n.push(t),hg(e,r,n),n.pop()}),i&&o)throw Error(e+' contains ".value" child '+pf(n)+" in addition to actual children.")}}function ig(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!eg(i[o]))throw Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}for(t.sort(mf),i=null,n=0;n<t.length;n++){if(r=t[n],null!==i&&i.contains(r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}function jg(e,t,n){var r=E(e,1,!1);if(!ga(t)||da(t))throw Error(r+" must be an object containing the children to replace.");var i=[];Fb(t,function(e,t){var o=new P(e);if(hg(r,t,n.o(o)),".priority"===me(o)&&!fg(t))throw Error(r+"contains an invalid value for '"+o.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(o)}),ig(r,i)}function kg(e,t,n){if(td(n))throw Error(E(e,t,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(n))throw Error(E(e,t,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function lg(e,t,n){if(!n||p(t))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(E(e,1,n)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function mg(e,t){if(p(t)&&!eg(t))throw Error(E(e,2,!0)+'was an invalid key: "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function ng(e,t){if(!q(t)||0===t.length||cg.test(t))throw Error(E(e,1,!1)+'was an invalid path: "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function og(e,t){if(".info"===K(t))throw Error(e+" failed: Can't modify data under /.info/")}function pg(e,t){if(!q(t))throw Error(E(e,1,!1)+"must be a valid credential (a string).")}function qg(e,t,n){if(!q(n))throw Error(E(e,t,!1)+"must be a valid string.")}function rg(e,t){if(qg(e,1,t),!dg.test(t))throw Error(E(e,1,!1)+"'"+t+"' is not a valid authentication provider.")}function sg(e,t,n,r){if((!r||p(n))&&(!ga(n)||null===n))throw Error(E(e,t,r)+"must be a valid object.")}function tg(e,t,n){if(!ga(t)||!y(t,n))throw Error(E(e,1,!1)+'must contain the key "'+n+'"');if(!q(z(t,n)))throw Error(E(e,1,!1)+'must contain the key "'+n+'" with type "string"')}function ug(){this.set={}}function vg(e,t){v(e.set,function(e,n){t(n,e)})}function Vc(){this.m=this.B=null}function wg(e,t){if(t.e())return e.B=null,e.m=null,!0;if(null!==e.B){if(e.B.L())return!1;var n=e.B;return e.B=null,n.R(R,function(t,n){e.rc(new P(t),n)}),wg(e,t)}return null!==e.m?(n=K(t),t=N(t),e.m.contains(n)&&wg(e.m.get(n),t)&&e.m.remove(n),e.m.e()?(e.m=null,!0):!1):!0}function Wc(e,t,n){null!==e.B?n(t,e.B):e.R(function(e,r){var i=new P(t.toString()+"/"+e);Wc(r,i,n)})}function yg(e,t,n){this.qd=e||{},this.he=t||{},this.fb=n||{},this.qd.remember||(this.qd.remember="default")}function Ag(e){var t={},n={};return Fb(e||{},function(e,r){0<=La(zg,e)?t[e]=r:n[e]=r}),new yg(t,{},n)}function Bg(e,t){this.Ue=["session",e.Rd,e.lc].join(":"),this.ee=t}function Cg(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Fg(e){var t=Cg();if(""===t)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return parseFloat(t[1])>=e;return!1}function Gg(){var e,t=window.opener.frames;for(e=t.length-1;e>=0;e--)try{if(t[e].location.protocol===window.location.protocol&&t[e].location.host===window.location.host&&"__winchan_relay_frame"===t[e].name)return t[e]}catch(n){}return null}function Hg(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)}function Ig(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener&&e.removeEventListener(t,n,!1)}function Jg(e){/^https?:\/\//.test(e)||(e=window.location.href);var t=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(e);return t?t[1]:e}function Kg(e){var t="";try{e=e.replace(/.*\?/,"");var n=Jb(e);n&&y(n,"__firebase_request_key")&&(t=z(n,"__firebase_request_key"))}catch(r){}return t}function Lg(){try{var e=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,""),e=e.replace(/\?$/,""),e=e.replace(/^#+$/,"");document.location.hash=e}catch(t){}}function Mg(){var e=sd(xg);return e.scheme+"://"+e.host+"/v2"}function Ng(e){return Mg()+"/"+e+"/auth/channel"}function Og(e){var t=this;if(this.hb=e,this.fe="*",Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window),!t.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this)),Hg(this.Cd,"message",u(this.Ff,this));try{Pg(this,{a:"ready"})}catch(n){Hg(this.Uc,"load",function(){Pg(t,{a:"ready"})})}Hg(window,"unload",u(this.Ng,this))}function Pg(e,t){t=G(t),Fg(8)?e.Uc.doPost(t,e.fe):e.Uc.postMessage(t,e.fe)}function Qg(e){this.tc=Fa()+Fa()+Fa(),this.Kf=e}function Sg(e){var t=Error(z(Rg,e),e);return t.code=e,t}function Tg(e){var t;(t=!e.window_features)||(t=Cg(),t=-1!==t.indexOf("Fennec/")||-1!==t.indexOf("Firefox/")&&-1!==t.indexOf("Android")),t&&(e.window_features=void 0),e.window_name||(e.window_name="_blank"),this.options=e}function Ug(e){e.method||(e.method="GET"),e.headers||(e.headers={}),e.headers.content_type||(e.headers.content_type="application/json"),e.headers.content_type=e.headers.content_type.toLowerCase(),this.options=e}function Vg(e){this.tc=Fa()+Fa()+Fa(),this.Kf=e}function Wg(e){e.callback_parameter||(e.callback_parameter="callback"),this.options=e,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Xg(e,t,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=e,r.async=!0,r.src=t,r.onerror=function(){var t=document.getElementById(e);null!==t&&t.parentNode.removeChild(t),n&&n(Sg("NETWORK_ERROR"))};var i=document.getElementsByTagName("head");(i&&0!=i.length?i[0]:document.documentElement).appendChild(r)}catch(o){n&&n(Sg("NETWORK_ERROR"))}},0)}function Yg(e,t,n,r){ff.call(this,["auth_status"]),this.G=e,this.hf=t,this.ih=n,this.Pe=r,this.wc=new Bg(e,[bd,cd]),this.qb=null,this.We=!1,Zg(this)}function Zg(e){cd.get("redirect_request_id")&&$g(e);var t=e.wc.get();t&&t.token?(ah(e,t),e.hf(t.token,function(n,r){bh(e,n,r,!1,t.token,t)},function(t,n){ch(e,"resumeSession()",t,n)})):ah(e,null)}function dh(e,t,n,r,i,o){"firebaseio-demo.com"===e.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),e.hf(t,function(o,a){bh(e,o,a,!0,t,n,r||{},i)},function(t,n){ch(e,"auth()",t,n,o)})}function eh(e,t){e.wc.clear(),ah(e,null),e.ih(function(e,n){if("ok"===e)T(t,null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,T(t,i)}})}function bh(e,t,n,r,i,o,a,s){"ok"===t?(r&&(t=n.auth,o.auth=t,o.expires=n.expires,o.token=Ed(i)?i:"",n=null,t&&y(t,"uid")?n=z(t,"uid"):y(o,"uid")&&(n=z(o,"uid")),o.uid=n,n="custom",t&&y(t,"provider")?n=z(t,"provider"):y(o,"provider")&&(n=z(o,"provider")),o.provider=n,e.wc.clear(),Ed(i)&&(a=a||{},n=bd,"sessionOnly"===a.remember&&(n=cd),"none"!==a.remember&&e.wc.set(o,n)),ah(e,o)),T(s,null,o)):(e.wc.clear(),ah(e,null),o=e=(t||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=e,T(s,o))}function ch(e,t,n,r,i){S(t+" was canceled: "+r),e.wc.clear(),ah(e,null),e=Error(r),e.code=n.toUpperCase(),T(i,e)}function fh(e,t,n,r,i){gh(e),n=new yg(r||{},{},n||{}),hh(e,[Ug,Wg],"/auth/"+t,n,i)}function ih(e,t,n,r){gh(e);var i=[Tg,Vg];n=Ag(n);var o=625;"anonymous"===t||"password"===t?setTimeout(function(){T(r,Sg("TRANSPORT_UNAVAILABLE"))},0):("github"===t&&(o=1025),n.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width="+o+",top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-o):0),n.he.relay_url=Ng(e.G.lc),n.he.requestWithCredential=u(e.uc,e),hh(e,i,"/auth/"+t,n,r))}function $g(e){var t=cd.get("redirect_request_id");if(t){var n=cd.get("redirect_client_options");cd.remove("redirect_request_id"),cd.remove("redirect_client_options");var r=[Ug,Wg],t={requestId:t,requestKey:Kg(document.location.hash)},n=new yg(n,{},t);e.We=!0,Lg(),hh(e,r,"/auth/session",n,function(){this.We=!1}.bind(e))}}function hh(e,t,n,r,i){jh(e,t,n,r,function(t,n){!t&&n&&n.token&&n.uid?dh(e,n.token,n,r.qd,function(e,t){e?T(i,e):T(i,null,t)}):T(i,t||Sg("UNKNOWN_ERROR"))})}function jh(e,t,n,r,i){t=Na(t,function(e){return"function"==typeof e.isAvailable&&e.isAvailable()}),0===t.length?setTimeout(function(){T(i,Sg("TRANSPORT_UNAVAILABLE"))},0):(t=new(t.shift())(r.he),r=Gb(r.fb),r.v="js-"+Eb,r.transport=t.Fc(),r.suppress_status_codes=!0,e=Mg()+"/"+e.G.lc+n,t.open(e,r,function(e,t){if(e)T(i,e);else if(t&&t.error){var n=Error(t.error.message);n.code=t.error.code,n.details=t.error.details,T(i,n)}else T(i,null,t)}))}function ah(e,t){var n=null!==e.qb||null!==t;e.qb=t,n&&e.ie("auth_status",t),e.Pe(null!==t)}function gh(e){var t=e.G;if("firebaseio.com"!==t.domain&&"firebaseio-demo.com"!==t.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+e.G.domain+"') does not support delegated login.")}function kh(e){this.nc=e,this.Qd=[],this.Wb=0,this.te=-1,this.Jb=null}function lh(e,t,n){e.te=t,e.Jb=n,e.te<e.Wb&&(e.Jb(),e.Jb=null)}function mh(e,t,n){for(e.Qd[t]=n;e.Qd[e.Wb];){var r=e.Qd[e.Wb];delete e.Qd[e.Wb];for(var i=0;i<r.length;++i)if(r[i]){var o=e;gc(function(){o.nc(r[i])})}if(e.Wb===e.te){e.Jb&&(clearTimeout(e.Jb),e.Jb(),e.Jb=null);break}e.Wb++}}function nh(e,t,n,r){this.ue=e,this.f=pd(e),this.rb=this.sb=0,this.Xa=uc(t),this.Xf=n,this.Kc=!1,this.Fb=r,this.ld=function(e){return fd(t,hd,e)}}function rh(e,t){var n=G(t).length;e.rb+=n,rc(e.Xa,"bytes_received",n)}function qh(e,t,n,r){if(this.ld=r,this.lb=n,this.Te=new ug,this.cd=[],this.we=Math.floor(1e8*Math.random()),this.$d=!0,this.ke=id(),window["pLPCommand"+this.ke]=e,window["pRTLPCB"+this.ke]=t,e=document.createElement("iframe"),e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||fc("No IE domain setting required")}catch(i){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.jb=e.contentDocument:e.contentWindow?e.jb=e.contentWindow.document:e.document&&(e.jb=e.document),this.Ga=e,e="",this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";</script>'),e="<html><body>"+e+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(e),this.Ga.jb.close()}catch(o){fc("frame writing exception"),o.stack&&fc(o.stack),fc(o)}}function th(e){if(e.oe&&e.$d&&e.Te.count()<(0<e.cd.length?2:1)){e.we++;var t={};t.id=e.Gg,t.pw=e.Hg,t.ser=e.we;for(var t=e.ld(t),n="",r=0;0<e.cd.length&&1870>=e.cd[0].of.length+30+n.length;){var i=e.cd.shift(),n=n+"&seg"+r+"="+i.Yg+"&ts"+r+"="+i.hh+"&d"+r+"="+i.of;r++}return uh(e,t+n,e.we),!0}return!1}function uh(e,t,n){function d(){e.Te.remove(n),th(e)}e.Te.add(n,1);var r=setTimeout(d,Math.floor(25e3));sh(e,t,function(){clearTimeout(r),d()})}function sh(e,t,n){setTimeout(function(){try{if(e.$d){var r=e.Ga.jb.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=function(){fc("Long-poll script failed to load: "+t),e.$d=!1,e.close()},e.Ga.jb.body.appendChild(r)}}catch(i){}},Math.floor(1))}function wh(e,t,n,r){this.ue=e,this.f=pd(this.ue),this.frames=this.Nc=null,this.rb=this.sb=this.ff=0,this.Xa=uc(t),e={v:"5"},"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),n&&(e.s=n),r&&(e.ls=r),this.jf=fd(t,gd,e)}function zh(e,t){if(e.frames.push(t),e.frames.length==e.ff){var n=e.frames.join("");e.frames=null,n=Rb(n),e.Lg(n)}}function yh(e){clearInterval(e.Nc),e.Nc=setInterval(function(){e.La&&Ah(e,"0"),yh(e)},Math.floor(45e3))}function Ah(e,t){try{e.La.send(t)}catch(n){e.f("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(u(e.bb,e),0)}}function Bh(e){Ch(this,e)}function Ch(e,t){var n=wh&&wh.isAvailable(),r=n&&!(bd.Af||!0===bd.get("previous_websocket_failure"));if(t.jh&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)e.jd=[wh];else{var i=e.jd=[];zd(Dh,function(e,t){t&&t.isAvailable()&&i.push(t)})}}function Eh(e){if(0<e.jd.length)return e.jd[0];throw Error("No transports available")}function Fh(e,t,n,r,i,o,a){this.id=e,this.f=pd("c:"+this.id+":"),this.nc=n,this.Zc=r,this.na=i,this.Re=o,this.G=t,this.Pd=[],this.kf=0,this.Wf=new Bh(t),this.N=0,this.Fb=a,this.f("Connection created"),Gh(this)}function Gh(e){var t=Eh(e.Wf);e.K=new t("c:"+e.id+":"+e.kf++,e.G,void 0,e.Fb),e.Ve=t.responsesRequiredToBeHealthy||0;var n=Hh(e,e.K),r=Ih(e,e.K);e.kd=e.K,e.ed=e.K,e.F=null,e.Eb=!1,setTimeout(function(){e.K&&e.K.open(n,r)},Math.floor(0)),t=t.healthyTimeout||0,t>0&&(e.Bd=setTimeout(function(){e.Bd=null,e.Eb||(e.K&&102400<e.K.rb?(e.f("Connection exceeded healthy timeout but has received "+e.K.rb+" bytes.  Marking connection healthy."),e.Eb=!0,e.K.Hd()):e.K&&10240<e.K.sb?e.f("Connection exceeded healthy timeout but has sent "+e.K.sb+" bytes.  Leaving connection alive."):(e.f("Closing unhealthy connection after timeout."),e.close()))},Math.floor(t)))}function Ih(e,t){return function(n){t===e.K?(e.K=null,n||0!==e.N?1===e.N&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.G.ab.substr(0,2)&&(bd.remove("host:"+e.G.host),e.G.ab=e.G.host)),e.close()):t===e.F?(e.f("Secondary connection lost."),n=e.F,e.F=null,e.kd!==n&&e.ed!==n||e.close()):e.f("closing an old connection")}}function Hh(e,t){return function(n){if(2!=e.N)if(t===e.ed){var r=wd("t",n);if(n=wd("d",n),"c"==r){if(r=wd("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;e.Uf=n.s,ed(e.G,o),0==e.N&&(e.K.start(),Jh(e,e.K,r),"5"!==i&&S("Protocol version mismatch detected"),n=e.Wf,(n=1<n.jd.length?n.jd[1]:null)&&Kh(e,n))}else if("n"===r){for(e.f("recvd end transmission on primary"),e.ed=e.F,n=0;n<e.Pd.length;++n)e.Ld(e.Pd[n]);e.Pd=[],Lh(e)}else"s"===r?(e.f("Connection shutdown command received. Shutting down..."),e.Re&&(e.Re(n),e.Re=null),e.na=null,e.close()):"r"===r?(e.f("Reset packet received.  New host: "+n),ed(e.G,n),1===e.N?e.close():(Mh(e),Gh(e))):"e"===r?qd("Server Error: "+n):"o"===r?(e.f("got pong on primary."),Nh(e),Oh(e)):qd("Unknown control packet command: "+r)}else"d"==r&&e.Ld(n)}else if(t===e.F)if(r=wd("t",n),n=wd("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Ph(e):"r"===n?(e.f("Got a reset on secondary, closing it"),e.F.close(),e.kd!==e.F&&e.ed!==e.F||e.close()):"o"===n&&(e.f("got pong on secondary."),e.Tf--,Ph(e)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);e.Pd.push(n)}else e.f("message on old connection")}}function Lh(e){e.kd===e.F&&e.ed===e.F&&(e.f("cleaning up and promoting a connection: "+e.F.ue),e.K=e.F,e.F=null)}function Ph(e){0>=e.Tf?(e.f("Secondary connection is healthy."),e.Eb=!0,e.F.Hd(),e.F.start(),e.f("sending client ack on secondary"),e.F.send({t:"c",d:{t:"a",d:{}}}),e.f("Ending transmission on primary"),e.K.send({t:"c",d:{t:"n",d:{}}}),e.kd=e.F,Lh(e)):(e.f("sending ping on secondary."),e.F.send({t:"c",d:{t:"p",d:{}}}))}function Nh(e){e.Eb||(e.Ve--,0>=e.Ve&&(e.f("Primary connection is healthy."),e.Eb=!0,e.K.Hd()))}function Kh(e,t){e.F=new t("c:"+e.id+":"+e.kf++,e.G,e.Uf),e.Tf=t.responsesRequiredToBeHealthy||0,e.F.open(Hh(e,e.F),Ih(e,e.F)),setTimeout(function(){e.F&&(e.f("Timed out trying to upgrade."),e.F.close())},Math.floor(6e4))}function Jh(e,t,n){e.f("Realtime connection established."),e.K=t,e.N=1,e.Zc&&(e.Zc(n,e.Uf),e.Zc=null),0===e.Ve?(e.f("Primary connection is healthy."),e.Eb=!0):setTimeout(function(){Oh(e)},Math.floor(5e3))}function Oh(e){e.Eb||1!==e.N||(e.f("sending ping on primary."),Qh(e,{t:"c",d:{t:"p",d:{}}}))}function Qh(e,t){if(1!==e.N)throw"Connection is not connected";e.kd.send(t)}function Mh(e){e.f("Shutting down all connections"),e.K&&(e.K.close(),e.K=null),e.F&&(e.F.close(),e.F=null),e.Bd&&(clearTimeout(e.Bd),e.Bd=null)}function Rh(e,t,n,r){this.id=Sh++,this.f=pd("p:"+this.id+":"),this.Bf=this.Ie=!1,this.ba={},this.sa=[],this.ad=0,this.Yc=[],this.qa=!1,this.eb=1e3,this.Id=3e5,this.Kb=t,this.Xc=n,this.Se=r,this.G=e,this.wb=this.Ca=this.Ma=this.Fb=this.$e=null,this.Sb=!1,this.Wd={},this.Xg=0,this.rf=!0,this.Oc=this.Ke=null,Th(this,0),kf.yb().Ib("visible",this.Og,this),-1===e.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Mg,this)}function Vh(e,t){var n=t.Ug,r=n.path.toString(),i=n.wa();e.f("Listen on "+r+" for "+i);var o={p:r};t.tag&&(o.q=Ge(n.n),o.t=t.tag),o.h=t.Ad(),e.Ia("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&y(a,"w")){var c=z(a,"w");da(c)&&0<=La(c,"no_index")&&S("Using an unspecified index. Consider adding "+('".indexOn": "'+n.n.g.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(e.ba[r]&&e.ba[r][i])===t&&(e.f("listen response",o),"ok"!==s&&Wh(e,r,i),t.I&&t.I(s,a))})}function Xh(e){var t=e.Ca;e.qa&&t&&e.Ia("auth",{cred:t.rg},function(n){var r=n.s;n=n.d||"error","ok"!==r&&e.Ca===t&&(e.Ca=null),t.sf?"ok"!==r&&t.od&&t.od(r,n):(t.sf=!0,t.Dc&&t.Dc(r,n))})}function Yh(e,t,n,r,i){n={p:n,d:r},e.f("onDisconnect "+t,n),e.Ia(t,n,function(e){i&&setTimeout(function(){i(e.s,e.d)},Math.floor(0))})}function Zh(e,t,n,r,i,o){r={p:n,d:r},p(o)&&(r.h=o),e.sa.push({action:t,Pf:r,I:i}),e.ad++,t=e.sa.length-1,e.qa?$h(e,t):e.f("Buffering put: "+n)}function $h(e,t){var n=e.sa[t].action,r=e.sa[t].Pf,i=e.sa[t].I;e.sa[t].Vg=e.qa,e.Ia(n,r,function(r){e.f(n+" response",r),delete e.sa[t],e.ad--,0===e.ad&&(e.sa=[]),i&&i(r.s,r.d)})}function Th(e,t){O(!e.Ma,"Scheduling a connect when we're already connected/ing?"),e.wb&&clearTimeout(e.wb),e.wb=setTimeout(function(){e.wb=null,ci(e)},Math.floor(t))}function ci(e){if(di(e)){e.f("Making a connection attempt"),e.Ke=(new Date).getTime(),e.Oc=null;var t=u(e.Ld,e),n=u(e.Zc,e),r=u(e.If,e),i=e.id+":"+Uh++;e.Ma=new Fh(i,e.G,t,n,r,function(t){S(t+" ("+e.G.toString()+")"),e.Bf=!0},e.Fb)}}function ai(e,t,n){n=n?Oa(n,function(e){return xd(e)}).join("$"):"default",(e=Wh(e,t,n))&&e.I&&e.I("permission_denied")}function Wh(e,t,n){t=new P(t).toString();var r;return p(e.ba[t])?(r=e.ba[t][n],delete e.ba[t][n],0===oa(e.ba[t])&&delete e.ba[t]):r=void 0,r}function bi(e){Xh(e),v(e.ba,function(t){v(t,function(t){Vh(e,t)})});for(var t=0;t<e.sa.length;t++)e.sa[t]&&$h(e,t);for(;e.Yc.length;)t=e.Yc.shift(),Yh(e,t.action,t.bd,t.data,t.I)}function di(e){var t;return t=jf.yb().oc,!e.Bf&&!e.Ie&&t}function ei(e,t){this.committed=e,this.snapshot=t}function V(e,t){this.dd=e,this.ta=t}function W(e,t,n){this.A=e,this.Y=t,this.g=n}function ii(e,t,n){this.Vb=e,this.tb=t,this.vb=n||null}function ji(e,t,n){this.ja=e,this.tb=t,this.vb=n}function ki(){this.za={}}function mi(e){return Na(qa(e.za),function(e){return!He(e.Y.n)})}function ni(e,t){if(He(t.n))return li(e);var n=t.wa();return z(e.za,n)}function li(e){return ua(e.za,function(e){return He(e.Y.n)})||null}function oi(e){this.va=qe,this.mb=new Pf,this.df={},this.qc={},this.Qc=e}function pi(e,t,n,r,i){var o=e.mb,a=i;return O(r>o.Pc,"Stacking an older write on top of newer ones"),p(a)||(a=!0),o.pa.push({path:t,Ja:n,md:r,visible:a}),a&&(o.V=Jf(o.V,t,n)),o.Pc=r,i?qi(e,new Ac(Ef,t,n)):[]}function ri(e,t,n,r){var i=e.mb;return O(r>i.Pc,"Stacking an older merge on top of newer ones"),i.pa.push({path:t,children:n,md:r,visible:!0}),i.V=Kf(i.V,t,n),i.Pc=r,n=sf(n),qi(e,new bf(Ef,t,n))}function si(e,t,n){n=n||!1;var r=Qf(e.mb,t);if(e.mb.Ud(t)){var i=qe;return null!=r.Ja?i=i.set(M,!0):Fb(r.children,function(e,t){i=i.set(new P(e),t)}),qi(e,new Df(r.path,i,n))}return[]}function ti(e,t,n){return n=sf(n),qi(e,new bf(Gf,t,n))}function ui(e,t,n,r){if(r=vi(e,r),null!=r){var i=wi(r);return r=i.path,i=i.Lb,t=lf(r,t),n=new Ac(new Ff(!1,!0,i,!0),t,n),xi(e,r,n)}return[]}function yi(e,t,n,r){if(r=vi(e,r)){var i=wi(r);return r=i.path,i=i.Lb,t=lf(r,t),n=sf(n),n=new bf(new Ff(!1,!0,i,!0),t,n),xi(e,r,n)}return[]}function Ci(e){return vf(e,function(e,t,n){if(t&&null!=li(t))return[li(t)];var r=[];return t&&(r=mi(t)),v(n,function(e){r=r.concat(e)}),r})}function Gi(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!He(r.n)){var r=zi(r),i=e.qc[r];delete e.qc[r],delete e.df["_"+i]}}}function Ei(e){return He(e.n)&&!Ie(e.n)?e.Mb():e}function Bi(e,t,n){var r=t.path,i=Fi(e,t);if(n=Di(e,n),t=e.Qc.af(Ei(t),i,n.Ad,n.I),r=e.va.subtree(r),i)O(null==li(r.value),"If we're adding a query, it shouldn't be shadowed");else for(i=vf(r,function(e,t,n){if(!e.e()&&t&&null!=li(t))return[Ze(li(t))];var r=[];return t&&(r=r.concat(Oa(mi(t),function(e){return e.Y}))),v(n,function(e){r=r.concat(e)}),r}),r=0;r<i.length;++r)n=i[r],e.Qc.de(Ei(n),Fi(e,n));return t}function Di(e,t){var n=t.Y,r=Fi(e,n);return{Ad:function(){return(t.w()||H).hash()},I:function(t){if("ok"===t){if(r){var i=n.path;if(t=vi(e,r)){var o=wi(t);t=o.path,o=o.Lb,i=lf(t,i),i=new Cc(new Ff(!1,!0,o,!0),i),t=xi(e,t,i)}else t=[]}else t=qi(e,new Cc(Gf,n.path));return t}return i="Unknown Error","too_big"===t?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?i="Client doesn't have permission to access the desired data.":"unavailable"==t&&(i="The service is unavailable"),i=Error(t+" at "+n.path.toString()+": "+i),i.code=t.toUpperCase(),e.nb(n,null,i)}}}function zi(e){return e.path.toString()+"$"+e.wa()}function wi(e){var t=e.indexOf("$");return O(-1!==t&&t<e.length-1,"Bad queryKey."),{Lb:e.substr(t+1),path:new P(e.substr(0,t))}}function vi(e,t){var n=e.df,r="_"+t;return r in n?n[r]:void 0}function Fi(e,t){var n=zi(t);return z(e.qc,n)}function xi(e,t,n){var r=e.va.get(t);return O(r,"Missing sync point for query tag that we're tracking"),r.gb(n,new Uf(t,e.mb),null)}function qi(e,t){return Hi(e,t,e.va,null,new Uf(M,e.mb))}function Hi(e,t,n,r,i){if(t.path.e())return Ii(e,t,n,r,i);var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[],s=K(t.path),c=t.$c(s);if((n=n.children.get(s))&&c)var u=r?r.T(s):null,s=i.o(s),a=a.concat(Hi(e,c,n,u,s));return o&&(a=a.concat(o.gb(t,i,r))),a}function Ii(e,t,n,r,i){var o=n.get(M);null==r&&null!=o&&(r=o.kb(M));var a=[];return n.children.ka(function(n,o){var s=r?r.T(n):null,c=i.o(n),u=t.$c(n);u&&(a=a.concat(Ii(e,u,o,s,c)))}),o&&(a=a.concat(o.gb(t,i,r))),a}function Ji(e,t){this.G=e,this.Xa=uc(e),this.hd=null,this.fa=new Zb,this.Kd=1,this.Va=null,t||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Rh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this)),this.eh=vc(e,u(function(){return new pc(this.Xa,this.da)},this)),this.yc=new Wf,this.Ge=new Sb;var n=this;this.Fd=new oi({af:function(e,t,r,i){return t=[],r=n.Ge.j(e.path),r.e()||(t=qi(n.Fd,new Ac(Gf,e.path,r)),setTimeout(function(){i("ok")},0)),t},de:aa}),Ki(this,"connected",!1),this.na=new Vc,this.O=new Yg(e,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this)),this.ud=0,this.He=null,this.M=new oi({af:function(e,t,r,i){return n.da.Cf(e,r,t,function(t,r){var o=i(t,r);dc(n.fa,e.path,o)}),[]},de:function(e,t){n.da.$f(e,t)}})}function Li(e){return e=e.Ge.j(new P(".info/serverTimeOffset")).J()||0,(new Date).getTime()+e}function Mi(e){return e=e={timestamp:Li(e)},e.timestamp=e.timestamp||(new Date).getTime(),e}function Ki(e,t,n){t=new P("/.info/"+t),n=Q(n);var r=e.Ge;r.Zd=r.Zd.H(t,n),n=qi(e.Fd,new Ac(Gf,t,n)),dc(e.fa,t,n)}function Oi(e){e.f("onDisconnectEvents");var t=Mi(e),n=[];Wc(Uc(e.na,t),M,function(t,r){n=n.concat(qi(e.M,new Ac(Gf,t,r)));var i=Qi(e,t);Ni(e,i)}),e.na=new Vc,dc(e.fa,M,n)}function fi(e,t,n,r){var i=Q(n);e.da.Qe(t.toString(),i.J(!0),function(n,o){
"ok"===n&&e.na.rc(t,i),Pi(r,n,o)})}function gi(e,t,n,r,i){var o=Q(n,r);e.da.Qe(t.toString(),o.J(!0),function(n,r){"ok"===n&&e.na.rc(t,o),Pi(i,n,r)})}function hi(e,t,n,r){var i,o=!0;for(i in n)o=!1;o?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Pi(r,"ok")):e.da.Gf(t.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=Q(n[a]);e.na.rc(t.o(a),s)}Pi(r,i,o)})}function Ri(e,t,n){n=".info"===K(t.path)?e.Fd.Tb(t,n):e.M.Tb(t,n),bc(e.fa,t.path,n)}function Pi(e,t,n){e&&gc(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,e(i)}})}function Si(e,t,n,r,i){function f(){}e.f("transaction on "+t);var o=new X(e,t);if(o.Ib("value",f),n={path:t,update:n,I:r,status:null,Lf:id(),gf:i,Sf:0,le:function(){o.mc("value",f)},ne:null,Da:null,rd:null,sd:null,td:null},r=e.M.Aa(t,void 0)||H,n.rd=r,r=n.update(r.J()),p(r)){hg("transaction failed: Data returned ",r,n.path),n.status=1,i=Xf(e.yc,t);var a=i.Ea()||[];a.push(n),Yf(i,a),"object"==typeof r&&null!==r&&y(r,".priority")?(a=z(r,".priority"),O(fg(a),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):a=(e.M.Aa(t)||H).C().J(),i=Mi(e),r=Q(r,a),i=Xc(r,i),n.sd=r,n.td=i,n.Da=e.Kd++,n=pi(e.M,t,i,n.Da,n.gf),dc(e.fa,t,n),Ti(e)}else n.le(),n.sd=null,n.td=null,n.I&&(e=new W(n.rd,new X(e,n.path),R),n.I(null,!1,e))}function Ti(e,t){var n=t||e.yc;if(t||Ui(e,n),null!==n.Ea()){var r=Vi(e,n);O(0<r.length,"Sending zero length transaction queue"),Qa(r,function(e){return 1===e.status})&&Wi(e,n.path(),r)}else n.zd()&&n.R(function(t){Ti(e,t)})}function Wi(e,t,n){for(var r=Oa(n,function(e){return e.Da}),i=e.M.Aa(t,r)||H,r=i,i=i.hash(),o=0;o<n.length;o++){var a=n[o];O(1===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=2,a.Sf++;var s=lf(t,a.path),r=r.H(s,a.sd)}r=r.J(!0),e.da.put(t.toString(),r,function(r){e.f("transaction put response",{path:t.toString(),status:r});var i=[];if("ok"===r){for(r=[],o=0;o<n.length;o++){if(n[o].status=3,i=i.concat(si(e.M,n[o].Da)),n[o].I){var a=n[o].td,s=new X(e,n[o].path);r.push(u(n[o].I,null,null,!0,new W(a,s,R)))}n[o].le()}for(Ui(e,Xf(e.yc,t)),Ti(e),dc(e.fa,t,i),o=0;o<r.length;o++)gc(r[o])}else{if("datastale"===r)for(o=0;o<n.length;o++)n[o].status=4===n[o].status?5:1;else for(S("transaction at "+t.toString()+" failed: "+r),o=0;o<n.length;o++)n[o].status=5,n[o].ne=r;Ni(e,t)}},i)}function Ni(e,t){var n=Xi(e,t),r=n.path(),n=Vi(e,n);return Yi(e,n,r),r}function Yi(e,t,n){if(0!==t.length){for(var r=[],i=[],o=Na(t,function(e){return 1===e.status}),o=Oa(o,function(e){return e.Da}),a=0;a<t.length;a++){var s,c=t[a],l=lf(n,c.path),h=!1;if(O(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)h=!0,s=c.ne,i=i.concat(si(e.M,c.Da,!0));else if(1===c.status)if(25<=c.Sf)h=!0,s="maxretry",i=i.concat(si(e.M,c.Da,!0));else{var f=e.M.Aa(c.path,o)||H;c.rd=f;var d=t[a].update(f.J());p(d)?(hg("transaction failed: Data returned ",d,c.path),l=Q(d),"object"==typeof d&&null!=d&&y(d,".priority")||(l=l.ia(f.C())),f=c.Da,d=Mi(e),d=Xc(l,d),c.sd=l,c.td=d,c.Da=e.Kd++,Ta(o,f),i=i.concat(pi(e.M,c.path,d,c.Da,c.gf)),i=i.concat(si(e.M,f,!0))):(h=!0,s="nodata",i=i.concat(si(e.M,c.Da,!0)))}dc(e.fa,n,i),i=[],h&&(t[a].status=3,setTimeout(t[a].le,Math.floor(0)),t[a].I&&("nodata"===s?(c=new X(e,t[a].path),r.push(u(t[a].I,null,null,!1,new W(t[a].rd,c,R)))):r.push(u(t[a].I,null,Error(s),!1,null))))}for(Ui(e,e.yc),a=0;a<r.length;a++)gc(r[a]);Ti(e)}}function Xi(e,t){for(var n,r=e.yc;null!==(n=K(t))&&null===r.Ea();)r=Xf(r,n),t=N(t);return r}function Vi(e,t){var n=[];return Zi(e,t,n),n.sort(function(e,t){return e.Lf-t.Lf}),n}function Zi(e,t,n){var r=t.Ea();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);t.R(function(t){Zi(e,t,n)})}function Ui(e,t){var n=t.Ea();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,Yf(t,0<n.length?n:null)}t.R(function(t){Ui(e,t)})}function Qi(e,t){var n=Xi(e,t).path(),r=Xf(e.yc,t);return ag(r,function(t){$i(e,t)}),$i(e,r),$f(r,function(t){$i(e,t)}),n}function $i(e,t){var n=t.Ea();if(null!==n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(O(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=4,n[a].ne="set"):(O(1===n[a].status,"Unexpected transaction status in abort"),n[a].le(),i=i.concat(si(e.M,n[a].Da,!0)),n[a].I&&r.push(u(n[a].I,null,Error("set"),!1,null))));for(-1===o?Yf(t,null):n.length=o+1,dc(e.fa,t.path(),i),a=0;a<r.length;a++)gc(r[a])}}function aj(){this.sc={},this.ag=!1}function Y(e,t,n,r){this.k=e,this.path=t,this.n=n,this.pc=r}function bj(e){var t=null,n=null;if(e.oa&&(t=Od(e)),e.ra&&(n=Rd(e)),e.g===re){if(e.oa){if("[MIN_NAME]"!=Nd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof t)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(e.ra){if("[MAX_NAME]"!=Pd(e))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(e.g===R){if(null!=t&&!fg(t)||null!=n&&!fg(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(O(e.g instanceof ve||e.g===Be,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function cj(e){if(e.oa&&e.ra&&e.la&&(!e.la||""===e.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function dj(e,t){if(!0===e.pc)throw Error(t+": You can't combine multiple orderBy calls.")}function ej(e,t,n){var r={cancel:null,Qa:null};if(t&&n)r.cancel=t,F(e,3,r.cancel,!0),r.Qa=n,Qb(e,4,r.Qa);else if(t)if("object"==typeof t&&null!==t)r.Qa=t;else{if("function"!=typeof t)throw Error(E(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r}function X(e,t){var n,r,i;if(e instanceof Ji)n=e,r=t;else{D("new Firebase",1,2,arguments.length),r=sd(arguments[0]),n=r.fh,"firebase"===r.domain&&rd(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.ob||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new dd(r.host,r.ob,n,"ws"===r.scheme||"wss"===r.scheme),r=new P(r.bd),i=r.toString();var o;if(!(o=!q(n.host)||0===n.host.length||!eg(n.lc))&&(o=0!==i.length)&&(i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o=!(q(i)&&0!==i.length&&!cg.test(i))),o)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(t)if(t instanceof aj)i=t;else{if(!q(t))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");i=aj.yb(),n.Rd=t}else i=aj.yb();o=n.toString();var a=z(i.sc,o);a||(a=new Ji(n,i.ag),i.sc[o]=a),n=a}Y.call(this,n,r,De,!1),this.then=void 0,this["catch"]=void 0}var h,n=this,ja=Date.now||function(){return+new Date};ka(la,Error),la.prototype.name="CustomError";var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,w;e:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break e}}w=""}ka(Ja,Ia),Ja.prototype.reset=function(){this.P[0]=1732584193,this.P[1]=4023233417,this.P[2]=2562383102,this.P[3]=271733878,this.P[4]=3285377520,this.ge=this.ec=0},Ja.prototype.update=function(e,t){if(null!=e){p(t)||(t=e.length);for(var n=t-this.Ya,r=0,i=this.pe,o=this.ec;t>r;){if(0==o)for(;n>=r;)Ka(this,e,r),r+=this.Ya;if(q(e)){for(;t>r;)if(i[o]=e.charCodeAt(r),++o,++r,o==this.Ya){Ka(this,i),o=0;break}}else for(;t>r;)if(i[o]=e[r],++o,++r,o==this.Ya){Ka(this,i),o=0;break}}this.ec=o,this.ge+=t}};var x=Array.prototype,La=x.indexOf?function(e,t,n){return x.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,q(e))return q(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ma=x.forEach?function(e,t,n){x.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)o in i&&t.call(n,i[o],o,e)},Na=x.filter?function(e,t,n){return x.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=q(e)?e.split(""):e,s=0;r>s;s++)if(s in a){var c=a[s];t.call(n,c,s,e)&&(i[o++]=c)}return i},Oa=x.map?function(e,t,n){return x.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=q(e)?e.split(""):e,a=0;r>a;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},Pa=x.reduce?function(e,t,n,r){for(var i=[],o=1,a=arguments.length;a>o;o++)i.push(arguments[o]);return r&&(i[0]=u(t,r)),x.reduce.apply(e,i)}:function(e,t,n,r){var i=n;return Ma(e,function(n,o){i=t.call(r,i,n,o,e)}),i},Qa=x.every?function(e,t,n){return x.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=q(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0},Ya,ab,cb=!1,db=[];[].push(function(){cb=!1,db=[]});var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit");!function(){var e,t="";return gb&&n.opera?(t=n.opera.version,r(t)?t():t):(ib?e=/rv\:([^\);]+)(\)|;)/:hb?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(w))?t[1]:""),hb&&(e=(e=n.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t)}();var kb=null,lb=null,mb=null,qb=0,tb=2,vb=3;pb.prototype.then=function(e,t,n){return wb(this,r(e)?e:null,r(t)?t:null,n)},pb.prototype.then=pb.prototype.then,pb.prototype.$goog_Thenable=!0,h=pb.prototype,h.gh=function(e,t){return wb(this,null,e,t)},h.cancel=function(e){this.N==qb&&$a(function(){var t=new ub(e);xb(this,t)},this)},h.Yf=function(e){this.N=qb,sb(this,tb,e)},h.Zf=function(e){this.N=qb,sb(this,vb,e)},h.wg=function(){for(;this.Ba&&this.Ba.length;){var e=this.Ba;this.Ba=null;for(var t=0;t<e.length;t++)yb(this,e[t],this.N,this.Rf)}this.ye=!1};var Db=Xa;ka(ub,la),ub.prototype.name="cancel";var Eb=Eb||"2.4.2",Mb=n.Promise||pb;pb.prototype["catch"]=pb.prototype.gh,Sb.prototype.j=function(e){return this.Zd.S(e)},Sb.prototype.toString=function(){return this.Zd.toString()},Tb.prototype.uf=function(){return null},Tb.prototype.Ce=function(){return null};var Ub=new Tb;Vb.prototype.uf=function(e){var t=this.Oa.Q;return Wb(t,e)?t.j().T(e):(t=null!=this.Nd?new Xb(this.Nd,!0,!1):this.Oa.w(),this.bg.Bc(e,t))},Vb.prototype.Ce=function(e,t,n){var r=null!=this.Nd?this.Nd:Yb(this.Oa);return e=this.bg.qe(r,t,1,n,e),0===e.length?null:e[0]},ac.prototype.add=function(e){this.xd.push(e)},ac.prototype.cc=function(){return this.ta};var ic="value";jc.prototype.cc=function(){var e=this.be.Mb();return"value"===this.wd?e.path:e.parent().path},jc.prototype.De=function(){return this.wd},jc.prototype.Zb=function(){return this.xe.Zb(this)},jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())},kc.prototype.cc=function(){return this.path},kc.prototype.De=function(){return"cancel"},kc.prototype.Zb=function(){return this.xe.Zb(this)},kc.prototype.toString=function(){return this.path.toString()+":cancel"},Xb.prototype.j=function(){return this.A},oc.prototype.get=function(){var e=this.pg.get(),t=wa(e);if(this.Gd)for(var n in this.Gd)t[n]-=this.Gd[n];return this.Gd=e,t},pc.prototype.Of=function(){var e,t=this.hd.get(),n={},r=!1;for(e in t)0<t[e]&&y(this.Vf,e)&&(n[e]=t[e],r=!0);r&&this.da.Ye(n),setTimeout(u(this.Of,this),Math.floor(6e5*Math.random()))},qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};Ac.prototype.$c=function(e){return this.path.e()?new Ac(this.source,M,this.Ja.T(e)):new Ac(this.source,N(this.path),this.Ja)},Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"},Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))},Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=Ec.prototype,h.Sa=function(e,t){return new Ec(this.Pa,this.xa.Sa(e,t,this.Pa).$(null,null,!1,null,null))},h.remove=function(e){return new Ec(this.Pa,this.xa.remove(e,this.Pa).$(null,null,!1,null,null))},h.get=function(e){for(var t,n=this.xa;!n.e();){if(t=this.Pa(e,n.key),0===t)return n.value;0>t?n=n.left:t>0&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Vc=function(){return this.xa.Vc()},h.jc=function(){return this.xa.jc()},h.ka=function(e){return this.xa.ka(e)},h.ac=function(e){return new Hc(this.xa,null,this.Pa,!1,e)},h.bc=function(e,t){return new Hc(this.xa,e,this.Pa,!1,t)},h.dc=function(e,t){return new Hc(this.xa,e,this.Pa,!0,t)},h.xf=function(e){return new Hc(this.xa,null,this.Pa,!0,e)},h=Kc.prototype,h.$=function(e,t,n,r,i){return new Kc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ka=function(e){return this.left.ka(e)||e(this.key,this.value)||this.right.ka(e)},h.Vc=function(){return Lc(this).key},h.jc=function(){return this.right.e()?this.key:this.right.jc()},h.Sa=function(e,t,n){var r,i;return i=this,r=n(e,i.key),i=0>r?i.$(null,null,null,i.left.Sa(e,t,n),null):0===r?i.$(null,t,null,null,null):i.$(null,null,null,null,i.right.Sa(e,t,n)),Mc(i)},h.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.e()||n.left.ha()||n.left.left.ha()||(n=Oc(n)),n=n.$(null,null,null,n.left.remove(e,t),null);else{if(n.left.ha()&&(n=Pc(n)),n.right.e()||n.right.ha()||n.right.left.ha()||(n=Qc(n),n.left.left.ha()&&(n=Pc(n),n=Qc(n))),0===t(e,n.key)){if(n.right.e())return Fc;r=Lc(n.right),n=n.$(r.key,r.value,null,null,Nc(n.right))}n=n.$(null,null,null,null,n.right.remove(e,t))}return Mc(n)},h.ha=function(){return this.color},h=Sc.prototype,h.$=function(){return this},h.Sa=function(e,t){return new Kc(e,t,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ka=function(){return!1},h.Vc=function(){return null},h.jc=function(){return null},h.ha=function(){return!1};var Fc=new Sc;Zc.prototype.set=function(e,t){null==t?delete this.Ac[e]:this.Ac[e]=t},Zc.prototype.get=function(e){return y(this.Ac,e)?this.Ac[e]:null},Zc.prototype.remove=function(e){delete this.Ac[e]},Zc.prototype.Af=!0,h=$c.prototype,h.set=function(e,t){null==t?this.Ic.removeItem(this.Sd+e):this.Ic.setItem(this.Sd+e,G(t))},h.get=function(e){return e=this.Ic.getItem(this.Sd+e),null==e?null:Rb(e)},h.remove=function(e){this.Ic.removeItem(this.Sd+e)},h.Af=!1,h.toString=function(){return this.Ic.toString()};var bd=ad("localStorage"),cd=ad("sessionStorage");dd.prototype.toString=function(){var e=(this.ob?"https://":"http://")+this.host;return this.Rd&&(e+="<"+this.Rd+">"),e};var id=function(){var e=1;return function(){return e++}}(),O=Kb,jd=Lb,ec=null,nd=!0,Bd=/^-?\d{1,10}$/;Fd.prototype.qg=function(e,t){if(null==e.Za||null==t.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(e.Za,e.Na),new L(t.Za,t.Na))},h=Ld.prototype,h.H=function(e,t,n,r,i,o){return O(e.Mc(this.g),"A node must be indexed if only a child is updated"),i=e.T(t),i.S(r).ea(n.S(r))&&i.e()==n.e()?e:(null!=o&&(n.e()?e.Fa(t)?Kd(o,new J("child_removed",i,t)):O(e.L(),"A child remove without an old child only makes sense on a leaf node"):i.e()?Kd(o,new J("child_added",n,t)):Kd(o,new J("child_changed",n,t,i))),e.L()&&n.e()?e:e.W(t,n).pb(this.g))},h.ya=function(e,t,n){return null!=n&&(e.L()||e.R(R,function(e,r){t.Fa(e)||Kd(n,new J("child_removed",r,e))}),t.L()||t.R(R,function(t,r){if(e.Fa(t)){var i=e.T(t);i.ea(r)||Kd(n,new J("child_changed",r,t,i))}else Kd(n,new J("child_added",r,t))})),t.pb(this.g)},h.ia=function(e,t){return e.e()?H:e.ia(t)},h.Ra=function(){return!1},h.$b=function(){return this},h=Md.prototype,h.matches=function(e){return 0>=this.g.compare(this.gd,e)&&0>=this.g.compare(e,this.Jc)},h.H=function(e,t,n,r,i,o){return this.matches(new L(t,n))||(n=H),this.Fe.H(e,t,n,r,i,o)},h.ya=function(e,t,n){t.L()&&(t=H);var r=t.pb(this.g),r=r.ia(H),i=this;return t.R(R,function(e,t){i.matches(new L(e,t))||(r=r.W(e,H))}),this.Fe.ya(e,r,n)},h.ia=function(e){return e},h.Ra=function(){return!0},h.$b=function(){return this.Fe},h=Sd.prototype,h.H=function(e,t,n,r,i,o){return this.ua.matches(new L(t,n))||(n=H),e.T(t).ea(n)?e:e.Hb()<this.ma?this.ua.$b().H(e,t,n,r,i,o):Ud(this,e,t,n,i,o)},h.ya=function(e,t,n){var r;if(t.L()||t.e())r=H.pb(this.g);else if(2*this.ma<t.Hb()&&t.Mc(this.g)){r=H.pb(this.g),t=this.Nb?t.dc(this.ua.Jc,this.g):t.bc(this.ua.gd,this.g);for(var i=0;0<t.Ta.length&&i<this.ma;){var o,a=Ic(t);if(!(o=this.Nb?0>=this.g.compare(this.ua.gd,a):0>=this.g.compare(a,this.ua.Jc)))break;r=r.W(a.name,a.U),i++}}else{r=t.pb(this.g),r=r.ia(H);var s,c,u;if(this.Nb){t=r.xf(this.g),s=this.ua.Jc,c=this.ua.gd;var l=Vd(this.g);u=function(e,t){return l(t,e)}}else t=r.ac(this.g),s=this.ua.gd,c=this.ua.Jc,u=Vd(this.g);for(var i=0,p=!1;0<t.Ta.length;)a=Ic(t),!p&&0>=u(s,a)&&(p=!0),(o=p&&i<this.ma&&0>=u(a,c))?i++:r=r.W(a.name,H)}return this.ua.$b().ya(e,r,n)},h.ia=function(e){return e},h.Ra=function(){return!0},h.$b=function(){return this.ua.$b()},Zd.prototype.gb=function(e,t,n,r){var i,o=new Jd;if(t.type===Bc)t.source.Ae?n=$d(this,e,t.path,t.Ja,n,r,o):(O(t.source.tf,"Unknown source."),i=t.source.ef||mc(e.w())&&!t.path.e(),n=ae(this,e,t.path,t.Ja,n,r,i,o));else if(t.type===be)t.source.Ae?n=ce(this,e,t.path,t.children,n,r,o):(O(t.source.tf,"Unknown source."),i=t.source.ef||mc(e.w()),n=de(this,e,t.path,t.children,n,r,i,o));else if(t.type===ee)if(t.Yd)if(t=t.path,null!=n.xc(t))n=e;else{if(i=new Vb(n,e,r),r=e.Q.j(),t.e()||".priority"===K(t))lc(e.w())?t=n.Aa(Yb(e)):(t=e.w().j(),O(t instanceof fe,"serverChildren would be complete if leaf node"),t=n.Cc(t)),t=this.X.ya(r,t,o);else{var a=K(t),s=n.Bc(a,e.w());null==s&&Wb(e.w(),a)&&(s=r.T(a)),t=null!=s?this.X.H(r,a,s,N(t),i,o):e.Q.j().Fa(a)?this.X.H(r,a,H,N(t),i,o):r,t.e()&&lc(e.w())&&(r=n.Aa(Yb(e)),r.L()&&(t=this.X.ya(t,r,o)))}r=lc(e.w())||null!=n.xc(M),n=ge(e,t,r,this.X.Ra())}else n=he(this,e,t.path,t.Ub,n,r,o);else{if(t.type!==Dc)throw jd("Unknown operation type: "+t.type);r=t.path,t=e.w(),i=t.j(),a=t.ga||r.e(),n=ie(this,new je(e.Q,new Xb(i,a,t.Yb)),r,n,Ub,o)}return o=qa(o.ib),r=n,t=r.Q,t.ga&&(i=t.j().L()||t.j().e(),a=ke(e),(0<o.length||!e.Q.ga||i&&!t.j().ea(a)||!t.j().C().ea(a.C()))&&o.push(hc(ke(r)))),new Yd(n,o)};var te={};se.prototype.Dd=function(e,t){return 0!==this.compare(new L("[MIN_NAME]",e),new L("[MIN_NAME]",t))},se.prototype.Wc=function(){return ue},ka(ve,se),h=ve.prototype,h.Lc=function(e){return!e.S(this.gc).e()},h.compare=function(e,t){var n=e.U.S(this.gc),r=t.U.S(this.gc),n=n.Gc(r);return 0===n?yc(e.name,t.name):n},h.Sc=function(e,t){var n=Q(e),n=H.H(this.gc,n);return new L(t,n)},h.Tc=function(){var e=H.H(this.gc,we);return new L("[MAX_NAME]",e)},h.toString=function(){return this.gc.slice().join("/")},ka(xe,se),h=xe.prototype,h.compare=function(e,t){var n=e.U.C(),r=t.U.C(),n=n.Gc(r);return 0===n?yc(e.name,t.name):n},h.Lc=function(e){return!e.C().e()},h.Dd=function(e,t){return!e.C().ea(t.C())},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))},h.Sc=function(e,t){var n=Q(e);return new L(t,new Yc("[PRIORITY-POST]",n))},h.toString=function(){return".priority"};var R=new xe;ka(ye,se),h=ye.prototype,h.compare=function(e,t){return yc(e.name,t.name)},h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.")},h.Dd=function(){return!1},h.Wc=function(){return ue},h.Tc=function(){return new L("[MAX_NAME]",H)},h.Sc=function(e){return O(q(e),"KeyIndex indexValue must always be a string."),new L(e,H)},h.toString=function(){return".key"};var re=new ye;ka(ze,se),h=ze.prototype,h.compare=function(e,t){var n=e.U.Gc(t.U);return 0===n?yc(e.name,t.name):n},h.Lc=function(){return!0},h.Dd=function(e,t){return!e.ea(t)},h.Wc=function(){return ue},h.Tc=function(){return Ae},h.Sc=function(e,t){var n=Q(e);return new L(t,n)},h.toString=function(){return".value"};var Be=new ze,De=new Ce;h=Ce.prototype,h.Le=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="",t},h.Me=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="l",t},h.Ne=function(e){var t=Ee(this);return t.la=!0,t.ma=e,t.Rb="r",t},h.ce=function(e,t){var n=Ee(this);return n.oa=!0,p(e)||(e=null),n.ic=e,null!=t?(n.Pb=!0,n.Bb=t):(n.Pb=!1,n.Bb=""),n},h.vd=function(e,t){var n=Ee(this);return n.ra=!0,p(e)||(e=null),n.fc=e,p(t)?(n.Xb=!0,n.zb=t):(n.oh=!1,n.zb=""),n},h.toString=function(){return G(Ge(this))},Ke.prototype.get=function(e){var t=z(this.Ed,e);if(!t)throw Error("No index defined for "+e);return t===te?null:t};var Oe=new Ke({".priority":te},{".priority":R}),Qe=["object","boolean","number","string"];h=Yc.prototype,h.L=function(){return!0},h.C=function(){return this.ca},h.ia=function(e){return new Yc(this.B,e)},h.T=function(e){return".priority"===e?this.ca:H},h.S=function(e){return e.e()?this:".priority"===K(e)?this.ca:H},h.Fa=function(){return!1},h.wf=function(){return null},h.W=function(e,t){return".priority"===e?this.ia(t):t.e()&&".priority"!==e?this:H.W(e,t).ia(this.ca)},h.H=function(e,t){var n=K(e);return null===n?t:t.e()&&".priority"!==n?this:(O(".priority"!==n||1===le(e),".priority must be the last token in a path"),this.W(n,H.H(N(e),t)))},h.e=function(){return!1},h.Hb=function(){return 0},h.R=function(){return!1},h.J=function(e){return e&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()},h.hash=function(){if(null===this.Gb){var e="";this.ca.e()||(e+="priority:"+Re(this.ca.J())+":");var t=typeof this.B,e=e+(t+":"),e="number"===t?e+Ad(this.B):e+this.B;this.Gb=ld(e)}return this.Gb},h.Ea=function(){return this.B},h.Gc=function(e){if(e===H)return 1;if(e instanceof fe)return-1;O(e.L(),"Unknown node type");var t=typeof e.B,n=typeof this.B,r=La(Qe,t),i=La(Qe,n);return O(r>=0,"Unknown leaf type: "+t),O(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.B<e.B?-1:this.B===e.B?0:1:i-r},h.pb=function(){return this},h.Mc=function(){return!0},h.ea=function(e){return e===this?!0:e.L()?this.B===e.B&&this.ca.ea(e.ca):!1},h.toString=function(){return G(this.J(!0))},h=fe.prototype,h.L=function(){return!1},h.C=function(){return this.ca||H},h.ia=function(e){return this.m.e()?this:new fe(this.m,e,this.Ab)},h.T=function(e){return".priority"===e?this.C():(e=this.m.get(e),null===e?H:e)},h.S=function(e){var t=K(e);return null===t?this:this.T(t).S(N(e))},h.Fa=function(e){return null!==this.m.get(e)},h.W=function(e,t){if(O(t,"We should always be passing snapshot nodes"),".priority"===e)return this.ia(t);var n,r,i=new L(e,t);return t.e()?(n=this.m.remove(e),i=Ne(this.Ab,i,this.m)):(n=this.m.Sa(e,t),i=Le(this.Ab,i,this.m)),r=n.e()?H:this.ca,new fe(n,r,i)},h.H=function(e,t){var n=K(e);if(null===n)return t;O(".priority"!==K(e)||1===le(e),".priority must be the last token in a path");var r=this.T(n).H(N(e),t);return this.W(n,r)},h.e=function(){return this.m.e()},h.Hb=function(){return this.m.count()};var Se=/^(0|[1-9]\d*)$/;h=fe.prototype,h.J=function(e){if(this.e())return null;var t={},n=0,r=0,i=!0;if(this.R(R,function(o,a){t[o]=a.J(e),n++,i&&Se.test(o)?r=Math.max(r,Number(o)):i=!1}),!e&&i&&2*n>r){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.C().e()&&(t[".priority"]=this.C().J()),t},h.hash=function(){if(null===this.Gb){var e="";this.C().e()||(e+="priority:"+Re(this.C().J())+":"),this.R(R,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.Gb=""===e?"":ld(e)}return this.Gb},h.wf=function(e,t,n){return(n=Te(this,n))?(e=Gc(n,new L(e,t)))?e.name:null:Gc(this.m,e)},h.R=function(e,t){var n=Te(this,e);return n?n.ka(function(e){return t(e.name,e.U)}):this.m.ka(t)},h.ac=function(e){return this.bc(e.Wc(),e)},h.bc=function(e,t){var n=Te(this,t);if(n)return n.bc(e,function(e){return e});for(var n=this.m.bc(e.name,wc),r=Jc(n);null!=r&&0>t.compare(r,e);)Ic(n),r=Jc(n);return n},h.xf=function(e){return this.dc(e.Tc(),e)},h.dc=function(e,t){var n=Te(this,t);if(n)return n.dc(e,function(e){return e});for(var n=this.m.dc(e.name,wc),r=Jc(n);null!=r&&0<t.compare(r,e);)Ic(n),r=Jc(n);return n},h.Gc=function(e){return this.e()?e.e()?0:-1:e.L()||e.e()?1:e===we?-1:0},h.pb=function(e){if(e===re||sa(this.Ab.hc,e.toString()))return this;var t=this.Ab,n=this.m;O(e!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,n=n.ac(wc),o=Ic(n);o;)i=i||e.Lc(o.U),r.push(o),o=Ic(n);return r=i?Me(r,Vd(e)):te,i=e.toString(),n=wa(t.hc),n[i]=e,e=wa(t.Ed),e[i]=r,new fe(this.m,this.ca,new Ke(e,n))},h.Mc=function(e){return e===re||sa(this.Ab.hc,e.toString())},h.ea=function(e){if(e===this)return!0;if(e.L())return!1;if(this.C().ea(e.C())&&this.m.count()===e.m.count()){var t=this.ac(R);e=e.ac(R);for(var n=Ic(t),r=Ic(e);n&&r;){if(n.name!==r.name||!n.U.ea(r.U))return!1;n=Ic(t),r=Ic(e)}return null===n&&null===r}return!1},h.toString=function(){return G(this.J(!0))};var Ue=Math.log(2),H=new fe(new Ec(zc),null,Oe);ka(Xe,fe),h=Xe.prototype,h.Gc=function(e){return e===this?0:1},h.ea=function(e){return e===this},h.C=function(){return this},h.T=function(){return H},h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);je.prototype.w=function(){return this.ae},h=Ye.prototype,h.w=function(){return this.Oa.w().j()},h.kb=function(e){var t=Yb(this.Oa);return t&&(He(this.Y.n)||!e.e()&&!t.T(K(e)).e())?t.S(e):null},h.e=function(){return 0===this.$a.length},h.Tb=function(e){this.$a.push(e)},h.nb=function(e,t){var n=[];if(t){O(null==e,"A cancel should cancel all event registrations.");var r=this.Y.path;Ma(this.$a,function(e){(e=e.lf(t,r))&&n.push(e)})}if(e){for(var i=[],o=0;o<this.$a.length;++o){var a=this.$a[o];if(a.matches(e)){if(e.yf()){i=i.concat(this.$a.slice(o+1));break}}else i.push(a)}this.$a=i}else this.$a=[];return n},h.gb=function(e,t,n){e.type===be&&null!==e.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var r=this.Oa;return e=this.Nf.gb(r,e,t,n),t=this.Nf,n=e.me,O(n.Q.j().Mc(t.X.g),"Event snap not indexed"),O(n.w().j().Mc(t.X.g),"Server snap not indexed"),O(lc(e.me.w())||!lc(r.w()),"Once a server snap is complete, it should never go back"),this.Oa=e.me,$e(this,e.og,e.me.Q.j(),null)},bf.prototype.$c=function(e){return this.path.e()?(e=this.children.subtree(new P(e)),e.e()?null:e.value?new Ac(this.source,M,e.value):new bf(this.source,M,e)):(O(K(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bf(this.source,N(this.path),this.children))},bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},h=cf.prototype,h.Cf=function(e,t,n,r){var i=e.path.toString();this.f("Listen called for "+i+" "+e.wa());var o=df(e,n),a={};this.ba[o]=a,e=Je(e.n);var s=this;ef(this,i+".json",e,function(e,t){var c=t;404===e&&(e=c=null),null===e&&s.Kb(i,c,!1,n),z(s.ba,o)===a&&r(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},h.$f=function(e,t){var n=df(e,t);delete this.ba[n]},h.O=function(e,t){this.Ca=e;var n=Cd(e),r=n.data,n=n.Ec&&n.Ec.exp;t&&t("ok",{auth:r,expires:n})},h.je=function(e){this.Ca=null,e("ok",null)},h.Qe=function(){},h.Gf=function(){},h.Md=function(){},h.put=function(){},h.Df=function(){},h.Ye=function(){},ff.prototype.ie=function(e,t){var n;n=this.Rc[e]||[];var r=n.length;if(r>0){for(var i=Array(r),o=0;r>o;o++)i[o]=n[o];n=i}else n=[];for(r=0;r<n.length;r++)n[r].Dc.apply(n[r].Qa,Array.prototype.slice.call(arguments,1))},ff.prototype.Ib=function(e,t,n){gf(this,e),this.Rc[e]=this.Rc[e]||[],this.Rc[e].push({Dc:t,Qa:n}),(e=this.Ee(e))&&t.apply(n,e)},ff.prototype.mc=function(e,t,n){gf(this,e),e=this.Rc[e]||[];for(var r=0;r<e.length;r++)if(e[r].Dc===t&&(!n||n===e[r].Qa)){e.splice(r,1);break}};var hf=function(){var e=0,t=[];return function(n){var r=n===e;e=n;for(var i=Array(8),o=7;o>=0;o--)i[o]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(O(0===n,"Cannot push at time == 0"),n=i.join(""),r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;12>o;o++)t[o]=Math.floor(64*Math.random());for(o=0;12>o;o++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t[o]);return O(20===n.length,"nextPushId: Length should be 20."),n}}();ka(jf,ff),jf.prototype.Ee=function(e){return O("online"===e,"Unknown event type: "+e),[this.oc]},ba(jf),ka(kf,ff),kf.prototype.Ee=function(e){return O("visible"===e,"Unknown event type: "+e),[this.Sb]},ba(kf),h=P.prototype,h.toString=function(){for(var e="",t=this.aa;t<this.u.length;t++)""!==this.u[t]&&(e+="/"+this.u[t]);return e||"/"},h.slice=function(e){return this.u.slice(this.aa+(e||0))},h.parent=function(){if(this.aa>=this.u.length)return null;for(var e=[],t=this.aa;t<this.u.length-1;t++)e.push(this.u[t]);return new P(e,0)},h.o=function(e){for(var t=[],n=this.aa;n<this.u.length;n++)t.push(this.u[n]);if(e instanceof P)for(n=e.aa;n<e.u.length;n++)t.push(e.u[n]);else for(e=e.split("/"),n=0;n<e.length;n++)0<e[n].length&&t.push(e[n]);return new P(t,0)},h.e=function(){return this.aa>=this.u.length},h.ea=function(e){if(le(this)!==le(e))return!1;for(var t=this.aa,n=e.aa;t<=this.u.length;t++,n++)if(this.u[t]!==e.u[n])return!1;return!0},h.contains=function(e){var t=this.aa,n=e.aa;if(le(this)>le(e))return!1;for(;t<this.u.length;){if(this.u[t]!==e.u[n])return!1;++t,++n}return!0};var M=new P("");nf.prototype.push=function(e){0<this.Ua.length&&(this.Ka+=1),this.Ua.push(e),this.Ka+=Pb(e),of(this)},nf.prototype.pop=function(){var e=this.Ua.pop();this.Ka-=Pb(e),0<this.Ua.length&&--this.Ka};var rf=new Ec(function(e,t){return e===t?0:t>e?-1:1});h=qf.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(e){if(e.e())return this;var t=this.children.get(K(e));return null!==t?t.subtree(N(e)):qe},h.set=function(e,t){if(e.e())return new qf(t,this.children);var n=K(e),r=(this.children.get(n)||qe).set(N(e),t),n=this.children.Sa(n,r);return new qf(this.value,n)},h.remove=function(e){if(e.e())return this.children.e()?qe:new qf(null,this.children);var t=K(e),n=this.children.get(t);return n?(e=n.remove(N(e)),t=e.e()?this.children.remove(t):this.children.Sa(t,e),null===this.value&&t.e()?qe:new qf(this.value,t)):this},h.get=function(e){if(e.e())return this.value;var t=this.children.get(K(e));return t?t.get(N(e)):null};var qe=new qf(null);qf.prototype.toString=function(){var e={};return ne(this,function(t,n){e[t.toString()]=n.toString()}),G(e)},Df.prototype.$c=function(e){return this.path.e()?null!=this.Ub.value?(O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this):(e=this.Ub.subtree(new P(e)),new Df(M,e,this.Yd)):(O(K(this.path)===e,"operationForChild called for unrelated child."),new Df(N(this.path),this.Ub,this.Yd))},Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3,Ef=new Ff(!0,!1,null,!1),Gf=new Ff(!1,!0,null,!1);Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server";
};var If=new Hf(new qf(null));Hf.prototype.Ud=function(e){return e.e()?If:(e=pe(this.Z,e,qe),new Hf(e))},Hf.prototype.e=function(){return this.Z.e()},Hf.prototype.apply=function(e){return Of(M,this.Z,e)},h=Pf.prototype,h.Ud=function(e){var t=Sa(this.pa,function(t){return t.md===e});O(t>=0,"removeWrite called with nonexistent writeId.");var n=this.pa[t];this.pa.splice(t,1);for(var r=n.visible,i=!1,o=this.pa.length-1;r&&o>=0;){var a=this.pa[o];a.visible&&(o>=t&&Rf(a,n.path)?r=!1:n.path.contains(a.path)&&(i=!0)),o--}if(r){if(i)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(n.Ja)this.V=this.V.Ud(n.path);else{var s=this;v(n.children,function(e,t){s.V=s.V.Ud(n.path.o(t))})}return!0}return!1},h.Aa=function(e,t,n,r){if(n||r){var i=Nf(this.V,e);return!r&&i.e()?t:r||null!=t||null!=Lf(i,M)?(i=Sf(this.pa,function(t){return(t.visible||r)&&(!n||!(0<=La(n,t.md)))&&(t.path.contains(e)||e.contains(t.path))},e),t=t||H,i.apply(t)):null}return i=Lf(this.V,e),null!=i?i:(i=Nf(this.V,e),i.e()?t:null!=t||null!=Lf(i,M)?(t=t||H,i.apply(t)):null)},h.Cc=function(e,t){var n=H,r=Lf(this.V,e);if(r)r.L()||r.R(R,function(e,t){n=n.W(e,t)});else if(t){var i=Nf(this.V,e);t.R(R,function(e,t){var r=Nf(i,new P(e)).apply(t);n=n.W(e,r)}),Ma(Mf(i),function(e){n=n.W(e.name,e.U)})}else i=Nf(this.V,e),Ma(Mf(i),function(e){n=n.W(e.name,e.U)});return n},h.nd=function(e,t,n,r){return O(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=e.o(t),null!=Lf(this.V,e)?null:(e=Nf(this.V,e),e.e()?r.S(t):e.apply(r.S(t)))},h.Bc=function(e,t,n){e=e.o(t);var r=Lf(this.V,e);return null!=r?r:Wb(n,t)?Nf(this.V,e).apply(n.j().T(t)):null},h.xc=function(e){return Lf(this.V,e)},h.qe=function(e,t,n,r,i,o){var a;if(e=Nf(this.V,e),a=Lf(e,M),null==a){if(null==t)return[];a=e.apply(t)}if(a=a.pb(o),a.e()||a.L())return[];for(t=[],e=Vd(o),i=i?a.dc(n,o):a.bc(n,o),o=Ic(i);o&&t.length<r;)0!==e(o,n)&&t.push(o),o=Ic(i);return t},h=Uf.prototype,h.Aa=function(e,t,n){return this.Z.Aa(this.Qb,e,t,n)},h.Cc=function(e){return this.Z.Cc(this.Qb,e)},h.nd=function(e,t,n){return this.Z.nd(this.Qb,e,t,n)},h.xc=function(e){return this.Z.xc(this.Qb.o(e))},h.qe=function(e,t,n,r,i){return this.Z.qe(this.Qb,e,t,n,r,i)},h.Bc=function(e,t){return this.Z.Bc(this.Qb,e,t)},h.o=function(e){return new Uf(this.Qb.o(e),this.Z)},h=Wf.prototype,h.Ea=function(){return this.A.value},h.clear=function(){this.A.value=null,this.A.children={},this.A.pd=0,Zf(this)},h.zd=function(){return 0<this.A.pd},h.e=function(){return null===this.Ea()&&!this.zd()},h.R=function(e){var t=this;v(this.A.children,function(n,r){e(new Wf(r,t,n))})},h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)},h.name=function(){return this.Jd},h.parent=function(){return this.Ha};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;h=ug.prototype,h.add=function(e,t){this.set[e]=null!==t?t:!0},h.contains=function(e){return y(this.set,e)},h.get=function(e){return this.contains(e)?this.set[e]:void 0},h.remove=function(e){delete this.set[e]},h.clear=function(){this.set={}},h.e=function(){return va(this.set)},h.count=function(){return oa(this.set)},h.keys=function(){var e=[];return v(this.set,function(t,n){e.push(n)}),e},Vc.prototype.find=function(e){if(null!=this.B)return this.B.S(e);if(e.e()||null==this.m)return null;var t=K(e);return e=N(e),this.m.contains(t)?this.m.get(t).find(e):null},Vc.prototype.rc=function(e,t){if(e.e())this.B=t,this.m=null;else if(null!==this.B)this.B=this.B.H(e,t);else{null==this.m&&(this.m=new ug);var n=K(e);this.m.contains(n)||this.m.add(n,new Vc),n=this.m.get(n),e=N(e),n.rc(e,t)}},Vc.prototype.R=function(e){null!==this.m&&vg(this.m,function(t,n){e(t,n)})};var xg="auth.firebase.com",zg=["remember","redirectTo"];Bg.prototype.set=function(e,t){if(!t){if(!this.ee.length)throw Error("fb.login.SessionManager : No storage options available!");t=this.ee[0]}t.set(this.Ue,e)},Bg.prototype.get=function(){var e=Oa(this.ee,u(this.Bg,this)),e=Na(e,function(e){return null!==e});return Va(e,function(e,t){return Dd(t.token)-Dd(e.token)}),0<e.length?e.shift():null},Bg.prototype.Bg=function(e){try{var t=e.get(this.Ue);if(t&&t.token)return t}catch(n){}return null},Bg.prototype.clear=function(){var e=this;Ma(this.ee,function(t){t.remove(e.Ue)})},Og.prototype.nc=function(e){var t,n=this;try{t=Rb(e.data)}catch(r){}t&&"request"===t.a&&(Ig(window,"message",this.nc),this.fe=e.origin,this.hb&&setTimeout(function(){n.hb(n.fe,t.d,function(e,t){n.mg=!t,n.hb=void 0,Pg(n,{a:"response",d:e,forceKeepWindowOpen:t})})},0))},Og.prototype.Ng=function(){try{Ig(this.Cd,"message",this.Ff)}catch(e){}this.hb&&(Pg(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(t){}},Og.prototype.Ff=function(e){if(this.mg&&"die"===e.data)try{window.close()}catch(t){}},Qg.prototype.open=function(e,t){cd.set("redirect_request_id",this.tc),cd.set("redirect_request_id",this.tc),t.requestId=this.tc,t.redirectTo=t.redirectTo||window.location.href,e+=(/\?/.test(e)?"":"?")+Ib(t),window.location=e},Qg.isAvailable=function(){return!Eg()&&!Dg()},Qg.prototype.Fc=function(){return"redirect"};var Rg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Tg.prototype.open=function(t,n,r){function d(t){if(i&&(document.body.removeChild(i),i=void 0),u&&(u=clearInterval(u)),Ig(window,"message",e),Ig(window,"unload",d),c&&!t)try{c.close()}catch(n){o.postMessage("die",s)}c=o=void 0}function e(e){if(e.origin===s)try{var t=Rb(e.data);"ready"===t.a?o.postMessage(l,s):"error"===t.a?(d(!1),r&&(r(t.d),r=null)):"response"===t.a&&(d(t.forceKeepWindowOpen),r&&(r(null,t.d),r=null))}catch(n){}}var i,o,a=Fg(8);if(!this.options.relay_url)return r(Error("invalid arguments: origin of url and relay_url must match"));var s=Jg(t);if(s!==Jg(this.options.relay_url))r&&setTimeout(function(){r(Error("invalid arguments: origin of url and relay_url must match"))},0);else{a&&(i=document.createElement("iframe"),i.setAttribute("src",this.options.relay_url),i.style.display="none",i.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(i),o=i.contentWindow),t+=(/\?/.test(t)?"":"?")+Ib(n);var c=window.open(t,this.options.window_name,this.options.window_features);o||(o=c);var u=setInterval(function(){c&&c.closed&&(d(!1),r&&(r(Sg("USER_CANCELLED")),r=null))},500),l=G({a:"request",d:n});Hg(window,"unload",d),Hg(window,"message",e)}},Tg.isAvailable=function(){var e;return(e="postMessage"in window&&!Eg())&&((e=Dg()||"undefined"!=typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(e=Cg(),e="undefined"!=typeof navigator&&"undefined"!=typeof window&&!!(e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||e.match(/CriOS/)||e.match(/Twitter for iPhone/)||e.match(/FBAN\/FBIOS/)||window.navigator.standalone)),e=!e),e&&!Cg().match(/PhantomJS/)},Tg.prototype.Fc=function(){return"popup"},Ug.prototype.open=function(e,t,n){function d(){n&&(n(Sg("REQUEST_INTERRUPTED")),n=null)}var r,i=new XMLHttpRequest,o=this.options.method.toUpperCase();if(Hg(window,"beforeunload",d),i.onreadystatechange=function(){if(n&&4===i.readyState){var e;if(200<=i.status&&300>i.status){try{e=Rb(i.responseText)}catch(t){}n(null,e)}else n(500<=i.status&&600>i.status?Sg("SERVER_ERROR"):Sg("NETWORK_ERROR"));n=null,Ig(window,"beforeunload",d)}},"GET"===o)e+=(/\?/.test(e)?"":"?")+Ib(t),r=null;else{var a=this.options.headers.content_type;"application/json"===a&&(r=G(t)),"application/x-www-form-urlencoded"===a&&(r=Ib(t))}i.open(o,e,!0),e={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},ya(e,this.options.headers);for(var s in e)i.setRequestHeader(s,e[s]);i.send(r)},Ug.isAvailable=function(){var e;return(e=!!window.XMLHttpRequest)&&(e=Cg(),e=!(e.match(/MSIE/)||e.match(/Trident/))||Fg(10)),e},Ug.prototype.Fc=function(){return"json"},Vg.prototype.open=function(e,t,n){function d(){n&&(n(Sg("USER_CANCELLED")),n=null)}var i,o=this,a=sd(xg);t.requestId=this.tc,t.redirectTo=a.scheme+"://"+a.host+"/blank/page.html",e+=/\?/.test(e)?"":"?",e+=Ib(t),(i=window.open(e,"_blank","location=no"))&&r(i.addEventListener)?(i.addEventListener("loadstart",function(e){var t;if(t=e&&e.url)e:{try{var r=document.createElement("a");r.href=e.url,t=r.host===a.host&&"/blank/page.html"===r.pathname;break e}catch(s){}t=!1}t&&(e=Kg(e.url),i.removeEventListener("exit",d),i.close(),e=new yg(null,null,{requestId:o.tc,requestKey:e}),o.Kf.requestWithCredential("/auth/session",e,n),n=null)}),i.addEventListener("exit",d)):n(Sg("TRANSPORT_UNAVAILABLE"))},Vg.isAvailable=function(){return Dg()},Vg.prototype.Fc=function(){return"redirect"},Wg.prototype.open=function(t,n,r){function d(){r&&(r(Sg("REQUEST_INTERRUPTED")),r=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[i]=void 0,va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var e=document.getElementById(i);e&&e.parentNode.removeChild(e)}catch(t){}},1),Ig(window,"beforeunload",d)}var i="fn"+(new Date).getTime()+Math.floor(99999*Math.random());n[this.options.callback_parameter]="__firebase_auth_jsonp."+i,t+=(/\?/.test(t)?"":"?")+Ib(n),Hg(window,"beforeunload",d),window.__firebase_auth_jsonp[i]=function(t){r&&(r(null,t),r=null),e()},Xg(i,t,r)},Wg.isAvailable=function(){return"undefined"!=typeof document&&null!=document.createElement},Wg.prototype.Fc=function(){return"json"},ka(Yg,ff),h=Yg.prototype,h.Be=function(){return this.qb||null},h.ve=function(e,t){gh(this);var n=Ag(e);n.fb._method="POST",this.uc("/users",n,function(e,n){e?T(t,e):T(t,e,n)})},h.Xe=function(e,t){var n=this;gh(this);var r="/users/"+encodeURIComponent(e.email),i=Ag(e);i.fb._method="DELETE",this.uc(r,i,function(e,r){!e&&r&&r.uid&&n.qb&&n.qb.uid&&n.qb.uid===r.uid&&eh(n),T(t,e)})},h.se=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=Ag(e);r.fb._method="PUT",r.fb.password=e.newPassword,this.uc(n,r,function(e){T(t,e)})},h.re=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.oldEmail)+"/email",r=Ag(e);r.fb._method="PUT",r.fb.email=e.newEmail,r.fb.password=e.password,this.uc(n,r,function(e){T(t,e)})},h.Ze=function(e,t){gh(this);var n="/users/"+encodeURIComponent(e.email)+"/password",r=Ag(e);r.fb._method="POST",this.uc(n,r,function(e){T(t,e)})},h.uc=function(e,t,n){jh(this,[Ug,Wg],e,t,n)},h.Ee=function(e){return O("auth_status"===e,'initial event must be of type "auth_status"'),this.We?null:[this.qb]};var gd="websocket",hd="long_polling",oh,ph;nh.prototype.open=function(e,t){this.mf=0,this.na=t,this.Ef=new kh(e),this.Db=!1;var n=this;this.ub=setTimeout(function(){n.f("Timed out trying to connect."),n.bb(),n.ub=null},Math.floor(3e4)),ud(function(){if(!n.Db){n.Wa=new qh(function(e,t,r,i,o){if(rh(n,arguments),n.Wa)if(n.ub&&(clearTimeout(n.ub),n.ub=null),n.Kc=!0,"start"==e)n.id=t,n.Mf=r;else{if("close"!==e)throw Error("Unrecognized command received: "+e);t?(n.Wa.$d=!1,lh(n.Ef,t,function(){n.bb()})):n.bb()}},function(e,t){rh(n,arguments),mh(n.Ef,e,t)},function(){n.bb()},n.ld);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.Wa.ke&&(e.cb=n.Wa.ke),e.v="5",n.Xf&&(e.s=n.Xf),n.Fb&&(e.ls=n.Fb),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f"),e=n.ld(e),n.f("Connecting via long-poll to "+e),sh(n.Wa,e,function(){})}})},nh.prototype.start=function(){var e=this.Wa,t=this.Mf;for(e.Gg=this.id,e.Hg=t,e.oe=!0;th(e););e=this.id,t=this.Mf,this.kc=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.kc.src=this.ld(n),this.kc.style.display="none",document.body.appendChild(this.kc)},nh.isAvailable=function(){return oh||!ph&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.kh)&&!0},h=nh.prototype,h.Hd=function(){},h.fd=function(){this.Db=!0,this.Wa&&(this.Wa.close(),this.Wa=null),this.kc&&(document.body.removeChild(this.kc),this.kc=null),this.ub&&(clearTimeout(this.ub),this.ub=null)},h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))},h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())},h.send=function(e){e=G(e),this.sb+=e.length,rc(this.Xa,"bytes_sent",e.length),e=Ob(e),e=nb(e,!0),e=yd(e,1840);for(var t=0;t<e.length;t++){var n=this.Wa;n.cd.push({Yg:this.mf,hh:e.length,of:e[t]}),n.oe&&th(n),this.mf++}},qh.prototype.close=function(){if(this.oe=!1,this.Ga){this.Ga.jb.body.innerHTML="";var e=this;setTimeout(function(){null!==e.Ga&&(document.body.removeChild(e.Ga),e.Ga=null)},Math.floor(0))}var t=this.lb;t&&(this.lb=null,t())};var vh=null;"undefined"!=typeof MozWebSocket?vh=MozWebSocket:"undefined"!=typeof WebSocket&&(vh=WebSocket);var xh;wh.prototype.open=function(e,t){this.lb=t,this.Lg=e,this.f("Websocket connecting to "+this.jf),this.Kc=!1,bd.set("previous_websocket_failure",!0);try{this.La=new vh(this.jf)}catch(n){this.f("Error instantiating WebSocket.");var r=n.message||n.data;return r&&this.f(r),void this.bb()}var i=this;this.La.onopen=function(){i.f("Websocket connected."),i.Kc=!0},this.La.onclose=function(){i.f("Websocket connection was disconnected."),i.La=null,i.bb()},this.La.onmessage=function(e){if(null!==i.La)if(e=e.data,i.rb+=e.length,rc(i.Xa,"bytes_received",e.length),yh(i),null!==i.frames)zh(i,e);else{e:{if(O(null===i.frames,"We already have a frame buffer"),6>=e.length){var t=Number(e);if(!isNaN(t)){i.ff=t,i.frames=[],e=null;break e}}i.ff=1,i.frames=[]}null!==e&&zh(i,e)}},this.La.onerror=function(e){i.f("WebSocket error.  Closing connection."),(e=e.message||e.data)&&i.f(e),i.bb()}},wh.prototype.start=function(){},wh.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&1<t.length&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==vh&&!xh},wh.responsesRequiredToBeHealthy=2,wh.healthyTimeout=3e4,h=wh.prototype,h.Hd=function(){bd.remove("previous_websocket_failure")},h.send=function(e){yh(this),e=G(e),this.sb+=e.length,rc(this.Xa,"bytes_sent",e.length),e=yd(e,16384),1<e.length&&Ah(this,String(e.length));for(var t=0;t<e.length;t++)Ah(this,e[t])},h.fd=function(){this.Db=!0,this.Nc&&(clearInterval(this.Nc),this.Nc=null),this.La&&(this.La.close(),this.La=null)},h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))},h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};var Dh=[nh,wh];Fh.prototype.Ia=function(e){Qh(this,{t:"d",d:e})},Fh.prototype.Ld=function(e){Nh(this),this.nc(e)},Fh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Mh(this),this.na&&(this.na(),this.na=null))};var Sh=0,Uh=0;h=Rh.prototype,h.Ia=function(e,t,n){var r=++this.Xg;e={r:r,a:e,b:t},this.f(G(e)),O(this.qa,"sendRequest call when we're not connected not allowed."),this.Ma.Ia(e),n&&(this.Wd[r]=n)},h.Cf=function(e,t,n,r){var i=e.wa(),o=e.path.toString();this.f("Listen called for "+o+" "+i),this.ba[o]=this.ba[o]||{},O(Ie(e.n)||!He(e.n),"listen() called for non-default but complete query"),O(!this.ba[o][i],"listen() called twice for same path/queryId."),e={I:r,Ad:t,Ug:e,tag:n},this.ba[o][i]=e,this.qa&&Vh(this,e)},h.O=function(e,t,n){this.Ca={rg:e,sf:!1,Dc:t,od:n},this.f("Authenticating using credential: "+e),Xh(this),(t=40==e.length)||(e=Cd(e).Ec,t="object"==typeof e&&!0===z(e,"admin")),t&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3e4)},h.je=function(e){this.Ca=null,this.qa&&this.Ia("unauth",{},function(t){e(t.s,t.d)})},h.$f=function(e,t){var n=e.path.toString(),r=e.wa();if(this.f("Unlisten called for "+n+" "+r),O(Ie(e.n)||!He(e.n),"unlisten() called for non-default but complete query"),Wh(this,n,r)&&this.qa){var i=Ge(e.n);this.f("Unlisten on "+n+" for "+r),n={p:n},t&&(n.q=i,n.t=t),this.Ia("n",n)}},h.Qe=function(e,t,n){this.qa?Yh(this,"o",e,t,n):this.Yc.push({bd:e,action:"o",data:t,I:n})},h.Gf=function(e,t,n){this.qa?Yh(this,"om",e,t,n):this.Yc.push({bd:e,action:"om",data:t,I:n})},h.Md=function(e,t){this.qa?Yh(this,"oc",e,null,t):this.Yc.push({bd:e,action:"oc",data:null,I:t})},h.put=function(e,t,n,r){Zh(this,"p",e,t,n,r)},h.Df=function(e,t,n,r){Zh(this,"m",e,t,n,r)},h.Ye=function(e){this.qa&&(e={c:e},this.f("reportStats",e),this.Ia("s",e,function(e){"ok"!==e.s&&this.f("reportStats","Error sending stats: "+e.d)}))},h.Ld=function(e){if("r"in e){this.f("from server: "+G(e));var t=e.r,n=this.Wd[t];n&&(delete this.Wd[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&(t=e.a,n=e.b,this.f("handleServerMessage",t,n),"d"===t?this.Kb(n.p,n.d,!1,n.t):"m"===t?this.Kb(n.p,n.d,!0,n.t):"c"===t?ai(this,n.p,n.q):"ac"===t?(e=n.s,t=n.d,n=this.Ca,this.Ca=null,n&&n.od&&n.od(e,t)):"sd"===t?this.$e?this.$e(n):"msg"in n&&"undefined"!=typeof console&&void 0:qd("Unrecognized action received from server: "+G(t)+"\nAre you using the latest client?"))}},h.Zc=function(e,t){if(this.f("connection ready"),this.qa=!0,this.Oc=(new Date).getTime(),this.Se({serverTimeOffset:e-(new Date).getTime()}),this.Fb=t,this.rf){var n={};n["sdk.js."+Eb.replace(/\./g,"-")]=1,Dg()?n["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(n["framework.reactnative"]=1),this.Ye(n)}bi(this),this.rf=!1,this.Xc(!0)},h.Og=function(e){e&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1e3,this.Ma||Th(this,0)),this.Sb=e},h.Mg=function(e){e?(this.f("Browser went online."),this.eb=1e3,this.Ma||Th(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())},h.If=function(){this.f("data client disconnected"),this.qa=!1,this.Ma=null;for(var e=0;e<this.sa.length;e++){var t=this.sa[e];t&&"h"in t.Pf&&t.Vg&&(t.I&&t.I("disconnect"),delete this.sa[e],this.ad--)}0===this.ad&&(this.sa=[]),this.Wd={},di(this)&&(this.Sb?this.Oc&&(3e4<(new Date).getTime()-this.Oc&&(this.eb=1e3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),e=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),e*=Math.random(),this.f("Trying to reconnect in "+e+"ms"),Th(this,e),this.eb=Math.min(this.Id,1.3*this.eb)),this.Xc(!1)},h.Cb=function(){this.Ie=!0,this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())},h.vc=function(){this.Ie=!1,this.eb=1e3,this.Ma||Th(this,0)};var U={zg:function(){oh=xh=!0}};U.forceLongPolling=U.zg,U.Ag=function(){ph=!0},U.forceWebSockets=U.Ag,U.Eg=function(){return wh.isAvailable()},U.isWebSocketsAvailable=U.Eg,U.ah=function(e,t){e.k.Va.$e=t},U.setSecurityDebugCallback=U.ah,U.bf=function(e,t){e.k.bf(t)},U.stats=U.bf,U.cf=function(e,t){e.k.cf(t)},U.statsIncrementCounter=U.cf,U.ud=function(e){return e.k.ud},U.dataUpdateCount=U.ud,U.Dg=function(e,t){e.k.He=t},U.interceptServerData=U.Dg,U.Kg=function(e){new Og(e)},U.onPopupOpen=U.Kg,U.Zg=function(e){xg=e},U.setAuthenticationServer=U.Zg,V.prototype.cancel=function(e){D("Firebase.onDisconnect().cancel",0,1,arguments.length),F("Firebase.onDisconnect().cancel",1,e,!0);var t=new B;return this.dd.Md(this.ta,C(t,e)),t.D},V.prototype.cancel=V.prototype.cancel,V.prototype.remove=function(e){D("Firebase.onDisconnect().remove",0,1,arguments.length),og("Firebase.onDisconnect().remove",this.ta),F("Firebase.onDisconnect().remove",1,e,!0);var t=new B;return fi(this.dd,this.ta,null,C(t,e)),t.D},V.prototype.remove=V.prototype.remove,V.prototype.set=function(e,t){D("Firebase.onDisconnect().set",1,2,arguments.length),og("Firebase.onDisconnect().set",this.ta),gg("Firebase.onDisconnect().set",e,this.ta,!1),F("Firebase.onDisconnect().set",2,t,!0);var n=new B;return fi(this.dd,this.ta,e,C(n,t)),n.D},V.prototype.set=V.prototype.set,V.prototype.Ob=function(e,t,n){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),og("Firebase.onDisconnect().setWithPriority",this.ta),gg("Firebase.onDisconnect().setWithPriority",e,this.ta,!1),kg("Firebase.onDisconnect().setWithPriority",2,t),F("Firebase.onDisconnect().setWithPriority",3,n,!0);var r=new B;return gi(this.dd,this.ta,e,t,C(r,n)),r.D},V.prototype.setWithPriority=V.prototype.Ob,V.prototype.update=function(e,t){if(D("Firebase.onDisconnect().update",1,2,arguments.length),og("Firebase.onDisconnect().update",this.ta),da(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.onDisconnect().update",e,this.ta),F("Firebase.onDisconnect().update",2,t,!0),n=new B,hi(this.dd,this.ta,e,C(n,t)),n.D},V.prototype.update=V.prototype.update,W.prototype.J=function(){return D("Firebase.DataSnapshot.val",0,0,arguments.length),this.A.J()},W.prototype.val=W.prototype.J,W.prototype.qf=function(){return D("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.A.J(!0)},W.prototype.exportVal=W.prototype.qf,W.prototype.xg=function(){return D("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.A.e()},W.prototype.exists=W.prototype.xg,W.prototype.o=function(e){D("Firebase.DataSnapshot.child",0,1,arguments.length),fa(e)&&(e=String(e)),ng("Firebase.DataSnapshot.child",e);var t=new P(e),n=this.Y.o(t);return new W(this.A.S(t),n,R)},W.prototype.child=W.prototype.o,W.prototype.Fa=function(e){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length),ng("Firebase.DataSnapshot.hasChild",e);var t=new P(e);return!this.A.S(t).e()},W.prototype.hasChild=W.prototype.Fa,W.prototype.C=function(){return D("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.A.C().J()},W.prototype.getPriority=W.prototype.C,W.prototype.forEach=function(e){if(D("Firebase.DataSnapshot.forEach",1,1,arguments.length),F("Firebase.DataSnapshot.forEach",1,e,!1),this.A.L())return!1;var t=this;return!!this.A.R(this.g,function(n,r){return e(new W(r,t.Y.o(n),R))})},W.prototype.forEach=W.prototype.forEach,W.prototype.zd=function(){return D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.A.L()?!1:!this.A.e()},W.prototype.hasChildren=W.prototype.zd,W.prototype.name=function(){return S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),D("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},W.prototype.name=W.prototype.name,W.prototype.key=function(){return D("Firebase.DataSnapshot.key",0,0,arguments.length),this.Y.key()},W.prototype.key=W.prototype.key,W.prototype.Hb=function(){return D("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.A.Hb()},W.prototype.numChildren=W.prototype.Hb,W.prototype.Mb=function(){return D("Firebase.DataSnapshot.ref",0,0,arguments.length),this.Y},W.prototype.ref=W.prototype.Mb,h=ii.prototype,h.Qf=function(e){return"value"===e},h.createEvent=function(e,t){var n=t.n.g;return new jc("value",this,new W(e.Na,t.Mb(),n))},h.Zb=function(e){var t=this.vb;if("cancel"===e.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(t,e.error)}}var r=this.Vb;return function(){r.call(t,e.be)}},h.lf=function(e,t){return this.tb?new kc(this,e,t):null},h.matches=function(e){return e instanceof ii?e.Vb&&this.Vb?e.Vb===this.Vb&&e.vb===this.vb:!0:!1},h.yf=function(){return null!==this.Vb},h=ji.prototype,h.Qf=function(e){return e="children_added"===e?"child_added":e,("children_removed"===e?"child_removed":e)in this.ja},h.lf=function(e,t){return this.tb?new kc(this,e,t):null},h.createEvent=function(e,t){O(null!=e.Za,"Child events should have a childName.");var n=t.Mb().o(e.Za);return new jc(e.type,this,new W(e.Na,n,t.n.g),e.Td)},h.Zb=function(e){var t=this.vb;if("cancel"===e.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var n=this.tb;return function(){n.call(t,e.error)}}var r=this.ja[e.wd];return function(){r.call(t,e.be,e.Td)}},h.matches=function(e){if(e instanceof ji){if(!this.ja||!e.ja)return!0;if(this.vb===e.vb){var t=oa(e.ja);if(t===oa(this.ja)){if(1===t){var t=pa(e.ja),n=pa(this.ja);return!(n!==t||e.ja[t]&&this.ja[n]&&e.ja[t]!==this.ja[n])}return na(this.ja,function(t,n){return e.ja[n]===t})}}}return!1},h.yf=function(){return null!==this.ja},h=ki.prototype,h.e=function(){return va(this.za)},h.gb=function(e,t,n){var r=e.source.Lb;if(null!==r)return r=z(this.za,r),O(null!=r,"SyncTree gave us an op for an invalid query."),r.gb(e,t,n);var i=[];return v(this.za,function(r){i=i.concat(r.gb(e,t,n))}),i},h.Tb=function(e,t,n,r,i){var o=e.wa(),a=z(this.za,o);if(!a){var a=n.Aa(i?r:null),s=!1;a?s=!0:(a=r instanceof fe?n.Cc(r):H,s=!1),a=new Ye(e,new je(new Xb(a,s,!1),new Xb(r,i,!1))),this.za[o]=a}return a.Tb(t),af(a,t)},h.nb=function(e,t,n){var r=e.wa(),i=[],o=[],a=null!=li(this);if("default"===r){var s=this;v(this.za,function(e,r){o=o.concat(e.nb(t,n)),e.e()&&(delete s.za[r],He(e.Y.n)||i.push(e.Y))})}else{var c=z(this.za,r);c&&(o=o.concat(c.nb(t,n)),c.e()&&(delete this.za[r],He(c.Y.n)||i.push(c.Y)))}return a&&null==li(this)&&i.push(new X(e.k,e.path)),{Wg:i,vg:o}},h.kb=function(e){var t=null;return v(this.za,function(n){t=t||n.kb(e)}),t},oi.prototype.Tb=function(e,t){var n=e.path,r=null,i=!1;zf(this.va,n,function(e,t){var o=lf(e,n);r=r||t.kb(o),i=i||null!=li(t)});var o=this.va.get(n);o?(i=i||null!=li(o),r=r||o.kb(M)):(o=new ki,this.va=this.va.set(n,o));var a;null!=r?a=!0:(a=!1,r=H,Cf(this.va.subtree(n),function(e,t){var n=t.kb(M);n&&(r=r.W(e,n))}));var s=null!=ni(o,e);if(!s&&!He(e.n)){var c=zi(e);O(!(c in this.qc),"View does not exist, but we have a tag");var u=Ai++;this.qc[c]=u,this.df["_"+u]=c}return a=o.Tb(e,t,new Uf(n,this.mb),r,a),s||i||(o=ni(o,e),a=a.concat(Bi(this,e,o))),a},oi.prototype.nb=function(e,t,n){var r=e.path,i=this.va.get(r),o=[];if(i&&("default"===e.wa()||null!=ni(i,e))){o=i.nb(e,t,n),i.e()&&(this.va=this.va.remove(r)),i=o.Wg,o=o.vg,t=-1!==Sa(i,function(e){return He(e.n)});var a=xf(this.va,r,function(e,t){return null!=li(t)});if(t&&!a&&(r=this.va.subtree(r),!r.e()))for(var r=Ci(r),s=0;s<r.length;++s){var c=r[s],u=c.Y,c=Di(this,c);this.Qc.af(Ei(u),Fi(this,u),c.Ad,c.I)}if(!a&&0<i.length&&!n)if(t)this.Qc.de(Ei(e),null);else{var l=this;Ma(i,function(e){e.wa();var t=l.qc[zi(e)];l.Qc.de(Ei(e),t)})}Gi(this,i)}return o},oi.prototype.Aa=function(e,t){var n=this.mb,r=xf(this.va,e,function(t,n){var r=lf(t,e);return(r=n.kb(r))?r:void 0});return n.Aa(e,r,t,!0)};var Ai=1;h=Ji.prototype,h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host},h.name=function(){return this.G.lc},h.Kb=function(e,t,n,r){this.ud++;var i=new P(e);t=this.He?this.He(e,t):t,e=[],r?n?(t=ma(t,function(e){return Q(e)}),e=yi(this.M,i,t,r)):(t=Q(t),e=ui(this.M,i,t,r)):n?(r=ma(t,function(e){return Q(e)}),e=ti(this.M,i,r)):(r=Q(t),e=qi(this.M,new Ac(Gf,i,r))),r=i,0<e.length&&(r=Ni(this,i)),dc(this.fa,r,e)},h.Xc=function(e){Ki(this,"connected",e),!1===e&&Oi(this)},h.Se=function(e){var t=this;zd(e,function(e,n){Ki(t,n,e)})},h.Pe=function(e){Ki(this,"authenticated",e)},h.Ob=function(e,t,n,r){this.f("set",{path:e.toString(),value:t,nh:n});var i=Mi(this);t=Q(t,n);var i=Xc(t,i),o=this.Kd++,i=pi(this.M,e,i,o,!0);$b(this.fa,i);var a=this;this.da.put(e.toString(),t.J(!0),function(t,n){var i="ok"===t;i||S("set at "+e+" failed: "+t),i=si(a.M,o,!i),dc(a.fa,e,i),Pi(r,t,n)}),i=Qi(this,e),Ni(this,i),dc(this.fa,i,[])},h.update=function(e,t,n){this.f("update",{path:e.toString(),value:t});var r=!0,i=Mi(this),o={};if(v(t,function(e,t){r=!1;var n=Q(e);o[t]=Xc(n,i)}),r)fc("update() called with empty data.  Don't do anything."),Pi(n,"ok");else{var a=this.Kd++,s=ri(this.M,e,o,a);$b(this.fa,s);var c=this;this.da.Df(e.toString(),t,function(t,r){var i="ok"===t;i||S("update at "+e+" failed: "+t);var i=si(c.M,a,!i),o=e;0<i.length&&(o=Ni(c,e)),dc(c.fa,o,i),Pi(n,t,r)}),t=Qi(this,e),Ni(this,t),dc(this.fa,e,[])}},h.Md=function(e,t){var n=this;this.da.Md(e.toString(),function(r,i){"ok"===r&&wg(n.na,e),Pi(t,r,i)})},h.Cb=function(){this.Va&&this.Va.Cb()},h.vc=function(){this.Va&&this.Va.vc()},h.bf=function(e){if("undefined"!=typeof console){e?(this.hd||(this.hd=new oc(this.Xa)),e=this.hd.get()):e=this.Xa.get();var t,n=Pa(ra(e),function(e,t){return Math.max(t.length,e)},0);for(t in e)for(var r=(e[t],t.length);n+2>r;r++)t+=" "}},h.cf=function(e){rc(this.Xa,e),this.eh.Vf[e]=!0},h.f=function(e){var t="";this.Va&&(t=this.Va.id+":"),fc(t,arguments)},aj.prototype.Cb=function(){for(var e in this.sc)this.sc[e].Cb()},aj.prototype.vc=function(){for(var e in this.sc)this.sc[e].vc()},aj.prototype.ze=function(){this.ag=!0},ba(aj),aj.prototype.interrupt=aj.prototype.Cb,aj.prototype.resume=aj.prototype.vc,h=Y.prototype,h.Mb=function(){return D("Query.ref",0,0,arguments.length),new X(this.k,this.path)},h.Ib=function(e,t,n,r){D("Query.on",2,4,arguments.length),lg("Query.on",e,!1),F("Query.on",2,t,!1);var i=ej("Query.on",n,r);if("value"===e)Ri(this.k,this,new ii(t,i.cancel||null,i.Qa||null));else{var o={};o[e]=t,Ri(this.k,this,new ji(o,i.cancel,i.Qa))}return t},h.mc=function(e,t,n){D("Query.off",0,3,arguments.length),lg("Query.off",e,!0),F("Query.off",2,t,!0),Qb("Query.off",3,n);var r=null,i=null;"value"===e?r=new ii(t||null,null,n||null):e&&(t&&(i={},i[e]=t),r=new ji(i,null,n||null)),i=this.k,r=".info"===K(this.path)?i.Fd.nb(this,r):i.M.nb(this,r),bc(i.fa,this.path,r)},h.Pg=function(e,t){function c(a){i&&(i=!1,r.mc(e,c),t&&t.call(n.Qa,a),o.resolve(a))}D("Query.once",1,4,arguments.length),lg("Query.once",e,!1),F("Query.once",2,t,!0);var n=ej("Query.once",arguments[2],arguments[3]),r=this,i=!0,o=new B;return Nb(o.D),this.Ib(e,c,function(t){r.mc(e,c),n.cancel&&n.cancel.call(n.Qa,t),o.reject(t)}),o.D},h.Le=function(e){if(S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),D("Query.limit",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var t=this.n.Le(e);return cj(t),new Y(this.k,this.path,t,this.pc)},h.Me=function(e){if(D("Query.limitToFirst",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(e),this.pc)},h.Ne=function(e){if(D("Query.limitToLast",1,1,arguments.length),!fa(e)||Math.floor(e)!==e||0>=e)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(e),this.pc)},h.Qg=function(e){if(D("Query.orderByChild",1,1,arguments.length),"$key"===e)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",e),dj(this,"Query.orderByChild");var t=new P(e);if(t.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");return t=new ve(t),t=Fe(this.n,t),bj(t),new Y(this.k,this.path,t,!0)},h.Rg=function(){D("Query.orderByKey",0,0,arguments.length),dj(this,"Query.orderByKey");var e=Fe(this.n,re);return bj(e),new Y(this.k,this.path,e,!0)},h.Sg=function(){
D("Query.orderByPriority",0,0,arguments.length),dj(this,"Query.orderByPriority");var e=Fe(this.n,R);return bj(e),new Y(this.k,this.path,e,!0)},h.Tg=function(){D("Query.orderByValue",0,0,arguments.length),dj(this,"Query.orderByValue");var e=Fe(this.n,Be);return bj(e),new Y(this.k,this.path,e,!0)},h.ce=function(e,t){D("Query.startAt",0,2,arguments.length),gg("Query.startAt",e,this.path,!0),mg("Query.startAt",t);var n=this.n.ce(e,t);if(cj(n),bj(n),this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return p(e)||(t=e=null),new Y(this.k,this.path,n,this.pc)},h.vd=function(e,t){D("Query.endAt",0,2,arguments.length),gg("Query.endAt",e,this.path,!0),mg("Query.endAt",t);var n=this.n.vd(e,t);if(cj(n),bj(n),this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.pc)},h.tg=function(e,t){if(D("Query.equalTo",1,2,arguments.length),gg("Query.equalTo",e,this.path,!1),mg("Query.equalTo",t),this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(e,t).vd(e,t)},h.toString=function(){D("Query.toString",0,0,arguments.length);for(var e=this.path,t="",n=e.aa;n<e.u.length;n++)""!==e.u[n]&&(t+="/"+encodeURIComponent(String(e.u[n])));return this.k.toString()+(t||"/")},h.wa=function(){var e=xd(Ge(this.n));return"{}"===e?"default":e},Y.prototype.ref=Y.prototype.Mb,Y.prototype.on=Y.prototype.Ib,Y.prototype.off=Y.prototype.mc,Y.prototype.once=Y.prototype.Pg,Y.prototype.limit=Y.prototype.Le,Y.prototype.limitToFirst=Y.prototype.Me,Y.prototype.limitToLast=Y.prototype.Ne,Y.prototype.orderByChild=Y.prototype.Qg,Y.prototype.orderByKey=Y.prototype.Rg,Y.prototype.orderByPriority=Y.prototype.Sg,Y.prototype.orderByValue=Y.prototype.Tg,Y.prototype.startAt=Y.prototype.ce,Y.prototype.endAt=Y.prototype.vd,Y.prototype.equalTo=Y.prototype.tg,Y.prototype.toString=Y.prototype.toString;var Z={};Z.zc=Rh,Z.DataConnection=Z.zc,Rh.prototype.dh=function(e,t){this.Ia("q",{p:e},t)},Z.zc.prototype.simpleListen=Z.zc.prototype.dh,Rh.prototype.sg=function(e,t){this.Ia("echo",{d:e},t)},Z.zc.prototype.echo=Z.zc.prototype.sg,Rh.prototype.interrupt=Rh.prototype.Cb,Z.dg=Fh,Z.RealTimeConnection=Z.dg,Fh.prototype.sendRequest=Fh.prototype.Ia,Fh.prototype.close=Fh.prototype.close,Z.Cg=function(e){var t=Rh.prototype.put;return Rh.prototype.put=function(n,r,i,o){p(o)&&(o=e()),t.call(this,n,r,i,o)},function(){Rh.prototype.put=t}},Z.hijackHash=Z.Cg,Z.cg=dd,Z.ConnectionTarget=Z.cg,Z.wa=function(e){return e.wa()},Z.queryIdentifier=Z.wa,Z.Fg=function(e){return e.k.Va.ba},Z.listens=Z.Fg,Z.ze=function(e){e.ze()},Z.forceRestClient=Z.ze,ka(X,Y);var fj=X,gj=["Firebase"],hj=n;gj[0]in hj||!hj.execScript||hj.execScript("var "+gj[0]);for(var ij;gj.length&&(ij=gj.shift());)!gj.length&&p(fj)?hj[ij]=fj:hj=hj[ij]?hj[ij]:hj[ij]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length),aj.yb().Cb()},X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length),aj.yb().vc()},X.enableLogging=od,X.ServerValue={TIMESTAMP:{".sv":"timestamp"}},X.SDK_VERSION=Eb,X.INTERNAL=U,X.Context=aj,X.TEST_ACCESS=Z,X.prototype.name=function(){return S("Firebase.name() being deprecated. Please use Firebase.key() instead."),D("Firebase.name",0,0,arguments.length),this.key()},X.prototype.name=X.prototype.name,X.prototype.key=function(){return D("Firebase.key",0,0,arguments.length),this.path.e()?null:me(this.path)},X.prototype.key=X.prototype.key,X.prototype.o=function(e){if(D("Firebase.child",1,1,arguments.length),fa(e))e=String(e);else if(!(e instanceof P))if(null===K(this.path)){var t=e;t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ng("Firebase.child",t)}else ng("Firebase.child",e);return new X(this.k,this.path.o(e))},X.prototype.child=X.prototype.o,X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new X(this.k,e)},X.prototype.parent=X.prototype.parent,X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var e=this;null!==e.parent();)e=e.parent();return e},X.prototype.root=X.prototype.root,X.prototype.set=function(e,t){D("Firebase.set",1,2,arguments.length),og("Firebase.set",this.path),gg("Firebase.set",e,this.path,!1),F("Firebase.set",2,t,!0);var n=new B;return this.k.Ob(this.path,e,null,C(n,t)),n.D},X.prototype.set=X.prototype.set,X.prototype.update=function(e,t){if(D("Firebase.update",1,2,arguments.length),og("Firebase.update",this.path),da(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}return jg("Firebase.update",e,this.path),F("Firebase.update",2,t,!0),n=new B,this.k.update(this.path,e,C(n,t)),n.D},X.prototype.update=X.prototype.update,X.prototype.Ob=function(e,t,n){if(D("Firebase.setWithPriority",2,3,arguments.length),og("Firebase.setWithPriority",this.path),gg("Firebase.setWithPriority",e,this.path,!1),kg("Firebase.setWithPriority",2,t),F("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var r=new B;return this.k.Ob(this.path,e,t,C(r,n)),r.D},X.prototype.setWithPriority=X.prototype.Ob,X.prototype.remove=function(e){return D("Firebase.remove",0,1,arguments.length),og("Firebase.remove",this.path),F("Firebase.remove",1,e,!0),this.set(null,e)},X.prototype.remove=X.prototype.remove,X.prototype.transaction=function(e,t,n){if(D("Firebase.transaction",1,3,arguments.length),og("Firebase.transaction",this.path),F("Firebase.transaction",1,e,!1),F("Firebase.transaction",2,t,!0),p(n)&&"boolean"!=typeof n)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof n&&(n=!0);var i=new B;return r(t)&&Nb(i.D),Si(this.k,this.path,e,function(e,n,o){e?i.reject(e):i.resolve(new ei(n,o)),r(t)&&t(e,n,o)},n),i.D},X.prototype.transaction=X.prototype.transaction,X.prototype.$g=function(e,t){D("Firebase.setPriority",1,2,arguments.length),og("Firebase.setPriority",this.path),kg("Firebase.setPriority",1,e),F("Firebase.setPriority",2,t,!0);var n=new B;return this.k.Ob(this.path.o(".priority"),e,null,C(n,t)),n.D},X.prototype.setPriority=X.prototype.$g,X.prototype.push=function(e,t){D("Firebase.push",0,2,arguments.length),og("Firebase.push",this.path),gg("Firebase.push",e,this.path,!0),F("Firebase.push",2,t,!0);var n=Li(this.k),i=hf(n),n=this.o(i);if(null!=e){var o=this,a=n.set(e,t).then(function(){return o.o(i)});n.then=u(a.then,a),n["catch"]=u(a.then,a,void 0),r(t)&&Nb(a)}return n},X.prototype.push=X.prototype.push,X.prototype.lb=function(){return og("Firebase.onDisconnect",this.path),new V(this.k,this.path)},X.prototype.onDisconnect=X.prototype.lb,X.prototype.O=function(e,t,n){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),D("Firebase.auth",1,3,arguments.length),pg("Firebase.auth",e),F("Firebase.auth",2,t,!0),F("Firebase.auth",3,t,!0);var r=new B;return dh(this.k.O,e,{},{remember:"none"},C(r,t),n),r.D},X.prototype.auth=X.prototype.O,X.prototype.je=function(e){D("Firebase.unauth",0,1,arguments.length),F("Firebase.unauth",1,e,!0);var t=new B;return eh(this.k.O,C(t,e)),t.D},X.prototype.unauth=X.prototype.je,X.prototype.Be=function(){return D("Firebase.getAuth",0,0,arguments.length),this.k.O.Be()},X.prototype.getAuth=X.prototype.Be,X.prototype.Jg=function(e,t){D("Firebase.onAuth",1,2,arguments.length),F("Firebase.onAuth",1,e,!1),Qb("Firebase.onAuth",2,t),this.k.O.Ib("auth_status",e,t)},X.prototype.onAuth=X.prototype.Jg,X.prototype.Ig=function(e,t){D("Firebase.offAuth",1,2,arguments.length),F("Firebase.offAuth",1,e,!1),Qb("Firebase.offAuth",2,t),this.k.O.mc("auth_status",e,t)},X.prototype.offAuth=X.prototype.Ig,X.prototype.hg=function(e,t,n){D("Firebase.authWithCustomToken",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),pg("Firebase.authWithCustomToken",e),F("Firebase.authWithCustomToken",2,t,!0),sg("Firebase.authWithCustomToken",3,n,!0);var r=new B;return dh(this.k.O,e,{},n||{},C(r,t)),r.D},X.prototype.authWithCustomToken=X.prototype.hg,X.prototype.ig=function(e,t,n){D("Firebase.authWithOAuthPopup",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),rg("Firebase.authWithOAuthPopup",e),F("Firebase.authWithOAuthPopup",2,t,!0),sg("Firebase.authWithOAuthPopup",3,n,!0);var r=new B;return ih(this.k.O,e,n,C(r,t)),r.D},X.prototype.authWithOAuthPopup=X.prototype.ig,X.prototype.jg=function(e,t,n){D("Firebase.authWithOAuthRedirect",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),rg("Firebase.authWithOAuthRedirect",e),F("Firebase.authWithOAuthRedirect",2,t,!1),sg("Firebase.authWithOAuthRedirect",3,n,!0);var r=new B,i=this.k.O,o=n,a=C(r,t);gh(i);var s=[Qg],o=Ag(o);return"anonymous"===e||"firebase"===e?T(a,Sg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",o.qd),hh(i,s,"/auth/"+e,o,a)),r.D},X.prototype.authWithOAuthRedirect=X.prototype.jg,X.prototype.kg=function(e,t,n,r){D("Firebase.authWithOAuthToken",2,4,arguments.length),3===arguments.length&&Hb(n)&&(r=n,n=void 0),rg("Firebase.authWithOAuthToken",e),F("Firebase.authWithOAuthToken",3,n,!0),sg("Firebase.authWithOAuthToken",4,r,!0);var i=new B;return q(t)?(qg("Firebase.authWithOAuthToken",2,t),fh(this.k.O,e+"/token",{access_token:t},r,C(i,n))):(sg("Firebase.authWithOAuthToken",2,t,!1),fh(this.k.O,e+"/token",t,r,C(i,n))),i.D},X.prototype.authWithOAuthToken=X.prototype.kg,X.prototype.gg=function(e,t){D("Firebase.authAnonymously",0,2,arguments.length),1===arguments.length&&Hb(e)&&(t=e,e=void 0),F("Firebase.authAnonymously",1,e,!0),sg("Firebase.authAnonymously",2,t,!0);var n=new B;return fh(this.k.O,"anonymous",{},t,C(n,e)),n.D},X.prototype.authAnonymously=X.prototype.gg,X.prototype.lg=function(e,t,n){D("Firebase.authWithPassword",1,3,arguments.length),2===arguments.length&&Hb(t)&&(n=t,t=void 0),sg("Firebase.authWithPassword",1,e,!1),tg("Firebase.authWithPassword",e,"email"),tg("Firebase.authWithPassword",e,"password"),F("Firebase.authWithPassword",2,t,!0),sg("Firebase.authWithPassword",3,n,!0);var r=new B;return fh(this.k.O,"password",e,n,C(r,t)),r.D},X.prototype.authWithPassword=X.prototype.lg,X.prototype.ve=function(e,t){D("Firebase.createUser",1,2,arguments.length),sg("Firebase.createUser",1,e,!1),tg("Firebase.createUser",e,"email"),tg("Firebase.createUser",e,"password"),F("Firebase.createUser",2,t,!0);var n=new B;return this.k.O.ve(e,C(n,t)),n.D},X.prototype.createUser=X.prototype.ve,X.prototype.Xe=function(e,t){D("Firebase.removeUser",1,2,arguments.length),sg("Firebase.removeUser",1,e,!1),tg("Firebase.removeUser",e,"email"),tg("Firebase.removeUser",e,"password"),F("Firebase.removeUser",2,t,!0);var n=new B;return this.k.O.Xe(e,C(n,t)),n.D},X.prototype.removeUser=X.prototype.Xe,X.prototype.se=function(e,t){D("Firebase.changePassword",1,2,arguments.length),sg("Firebase.changePassword",1,e,!1),tg("Firebase.changePassword",e,"email"),tg("Firebase.changePassword",e,"oldPassword"),tg("Firebase.changePassword",e,"newPassword"),F("Firebase.changePassword",2,t,!0);var n=new B;return this.k.O.se(e,C(n,t)),n.D},X.prototype.changePassword=X.prototype.se,X.prototype.re=function(e,t){D("Firebase.changeEmail",1,2,arguments.length),sg("Firebase.changeEmail",1,e,!1),tg("Firebase.changeEmail",e,"oldEmail"),tg("Firebase.changeEmail",e,"newEmail"),tg("Firebase.changeEmail",e,"password"),F("Firebase.changeEmail",2,t,!0);var n=new B;return this.k.O.re(e,C(n,t)),n.D},X.prototype.changeEmail=X.prototype.re,X.prototype.Ze=function(e,t){D("Firebase.resetPassword",1,2,arguments.length),sg("Firebase.resetPassword",1,e,!1),tg("Firebase.resetPassword",e,"email"),F("Firebase.resetPassword",2,t,!0);var n=new B;return this.k.O.Ze(e,C(n,t)),n.D},X.prototype.resetPassword=X.prototype.Ze}(),module.exports=Firebase},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(59),o=n(293),a=function(e){function FirebaseListObservable(t,n){e.call(this,t),this._ref=n}return r(FirebaseListObservable,e),FirebaseListObservable.prototype.lift=function(e){var t=new FirebaseListObservable;return t.source=this,t.operator=e,t._ref=this._ref,t},FirebaseListObservable.prototype.push=function(e){if(!this._ref)throw new Error("No ref specified for this Observable!");return this._ref.push(e)},FirebaseListObservable.prototype.update=function(e,t){var n=this;return this._checkOperationCases(e,{stringCase:function(){return n._ref.child(e).update(t)},firebaseCase:function(){return e.update(t)},snapshotCase:function(){return e.ref().update(t)},unwrappedSnapshotCase:function(){return n._ref.child(e.$key).update(t)}})},FirebaseListObservable.prototype.remove=function(e){var t=this;return void 0===e&&(e=null),e?this._checkOperationCases(e,{stringCase:function(){return t._ref.child(e).remove()},firebaseCase:function(){return e.remove()},snapshotCase:function(){return e.ref().remove()},unwrappedSnapshotCase:function(){return t._ref.child(e.$key).remove()}}):this._ref.remove()},FirebaseListObservable.prototype._checkOperationCases=function(e,t){if(o.isString(e))return t.stringCase();if(o.isFirebaseRef(e))return t.firebaseCase();if(o.isFirebaseDataSnapshot(e))return t.snapshotCase();if(o.isAFUnwrappedSnapshot(e))return t.unwrappedSnapshotCase();throw new Error("FirebaseListObservable.remove requires a key, snapshot, reference, or unwrapped snapshot. Got: "+typeof e)},FirebaseListObservable}(i.Observable);t.FirebaseListObservable=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(59),o=function(e){function FirebaseObjectObservable(t,n){e.call(this,t),this._ref=n}return r(FirebaseObjectObservable,e),FirebaseObjectObservable.prototype.lift=function(e){var t=new FirebaseObjectObservable;return t.source=this,t.operator=e,t._ref=this._ref,t},FirebaseObjectObservable.prototype.set=function(e){if(!this._ref)throw new Error("No ref specified for this Observable!");return this._ref.set(e)},FirebaseObjectObservable.prototype.update=function(e){if(!this._ref)throw new Error("No ref specified for this Observable!");return this._ref.update(e)},FirebaseObjectObservable.prototype.remove=function(){if(!this._ref)throw new Error("No ref specified for this Observable!");return this._ref.remove()},FirebaseObjectObservable}(i.Observable);t.FirebaseObjectObservable=o},function(e,t,n){"use strict";function FirebaseListFactory(e,t){var n,a=(void 0===t?{}:t).preserveSnapshot;return o.checkForUrlOrFirebaseRef(e,{isUrl:function(){return n=new i(e)},isRef:function(){return n=e}}),new r.FirebaseListObservable(function(e){var t=[],r=!1;return n.once("value",function(n){r=!0,e.next(a?t:t.map(unwrapMapFn))}),n.on("child_added",function(n,i){t=onChildAdded(t,n,i),r&&e.next(a?t:t.map(unwrapMapFn))}),n.on("child_removed",function(n){t=onChildRemoved(t,n),r&&e.next(a?t:t.map(unwrapMapFn))}),n.on("child_changed",function(n,i){t=onChildChanged(t,n,i),r&&e.next(a?t:t.map(unwrapMapFn))}),function(){return n.off()}},n)}function unwrapMapFn(e){var t=e.val();return/string|number|boolean/.test(typeof t)&&(t={$value:t}),t.$key=e.key(),t}function onChildAdded(e,t,n){return e.length?e.reduce(function(e,r,i){return n||0!==i||e.push(t),e.push(r),n&&n===r.key()&&e.push(t),e},[]):[t]}function onChildChanged(e,t,n){return e.reduce(function(e,r,i){return n||0!=i?r.key()===n?(e.push(r),e.push(t)):r.key()!==t.key()&&e.push(r):(e.push(t),e.push(r)),e},[])}function onChildRemoved(e,t){return e.filter(function(e){return e.key()!==t.key()})}function onChildUpdated(e,t,n){return e.map(function(e,r,i){return n||r?r>0&&i[r-1].key()===n?t:e:t})}var r=n(296),i=n(295),o=n(293);t.FirebaseListFactory=FirebaseListFactory,t.unwrapMapFn=unwrapMapFn,t.onChildAdded=onChildAdded,t.onChildChanged=onChildChanged,t.onChildRemoved=onChildRemoved,t.onChildUpdated=onChildUpdated},function(e,t,n){"use strict";function FirebaseObjectFactory(e,t){var n,a=(void 0===t?{}:t).preserveSnapshot;return o.checkForUrlOrFirebaseRef(e,{isUrl:function(){return n=new i(e)},isRef:function(){return n=e}}),new r.FirebaseObjectObservable(function(e){return n.on("value",function(t){e.next(a?t:t.val())}),function(){return n.off()}},n)}var r=n(297),i=n(295),o=n(293);t.FirebaseObjectFactory=FirebaseObjectFactory},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},a=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},s=n(29),c=n(294),u=n(292),l=n(293),p=n(295),h=function(e){function FirebaseSdkAuthBackend(t,n){void 0===n&&(n=!1),e.call(this),this._fbRef=t,this._webWorkerMode=n}return r(FirebaseSdkAuthBackend,e),FirebaseSdkAuthBackend.prototype.createUser=function(e){var t=this;return new Promise(function(n,r){t._fbRef.createUser(e,function(e,t){e?r(e):n(t)})})},FirebaseSdkAuthBackend.prototype.onAuth=function(e){this._fbRef.onAuth(e)},FirebaseSdkAuthBackend.prototype.getAuth=function(){return this._fbRef.getAuth()},FirebaseSdkAuthBackend.prototype.unauth=function(){this._fbRef.unauth()},FirebaseSdkAuthBackend.prototype.authWithCustomToken=function(e,t){var n=this,r=new Promise(function(r,i){n._fbRef.authWithCustomToken(e,n._handleFirebaseCb(r,i,t),t)});return r},FirebaseSdkAuthBackend.prototype.authAnonymously=function(e){var t=this,n=new Promise(function(n,r){t._fbRef.authAnonymously(t._handleFirebaseCb(n,r,e),e)});return n},FirebaseSdkAuthBackend.prototype.authWithPassword=function(e,t){var n=this,r=new Promise(function(r,i){n._fbRef.authWithPassword(e,n._handleFirebaseCb(r,i,t),t)});return r},FirebaseSdkAuthBackend.prototype.authWithOAuthPopup=function(e,t){var n=this,r=new Promise(function(r,i){n._fbRef.authWithOAuthPopup(n._providerToString(e),n._handleFirebaseCb(r,i,t),t)});return r},FirebaseSdkAuthBackend.prototype.authWithOAuthRedirect=function(e,t){var n=this,r=new Promise(function(r,i){n._fbRef.authWithOAuthRedirect(n._providerToString(e),n._handleFirebaseCb(r,i,t),t)});return r},FirebaseSdkAuthBackend.prototype.authWithOAuthToken=function(e,t,n){var r=this,i=new Promise(function(i,o){var a=l.isPresent(t.token)?t.token:t;r._fbRef.authWithOAuthToken(r._providerToString(e),a,r._handleFirebaseCb(i,o,n),n)});return i},FirebaseSdkAuthBackend.prototype._handleFirebaseCb=function(e,t,n){var r=this;return function(i,o){return i?t(i):r._webWorkerMode?(l.isPresent(n)&&l.isPresent(n.remember)&&(o.remember=n.remember),e(o)):e(c.authDataToAuthState(o))}},FirebaseSdkAuthBackend.prototype._providerToString=function(e){switch(e){case c.AuthProviders.Github:return"github";case c.AuthProviders.Twitter:return"twitter";case c.AuthProviders.Facebook:return"facebook";case c.AuthProviders.Google:return"google";default:throw new Error("Unsupported firebase auth provider "+e)}},FirebaseSdkAuthBackend=i([s.Injectable(),a(0,s.Inject(u.FirebaseRef)),o("design:paramtypes",[p,Object])],FirebaseSdkAuthBackend)}(c.AuthBackend);t.FirebaseSdkAuthBackend=h},function(e,t,n){"use strict";function getAbsUrl(e,t){return/^[a-z]+:\/\/.*/.test(t)||(t=e+t),t}var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=3>o?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(3>o?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},a=n(29),s=n(292),c=n(298),u=n(299),l=n(293),p=function(){function FirebaseDatabase(e){this.fbUrl=e}return FirebaseDatabase.prototype.list=function(e,t){var n=this;return l.checkForUrlOrFirebaseRef(e,{isUrl:function(){return c.FirebaseListFactory(getAbsUrl(n.fbUrl,e),t)},isRef:function(){return c.FirebaseListFactory(e)}})},FirebaseDatabase.prototype.object=function(e,t){var n=this;return l.checkForUrlOrFirebaseRef(e,{isUrl:function(){return u.FirebaseObjectFactory(getAbsUrl(n.fbUrl,e),t)},isRef:function(){return u.FirebaseObjectFactory(e)}})},FirebaseDatabase=r([a.Injectable(),o(0,a.Inject(s.FirebaseUrl)),i("design:paramtypes",[String])],FirebaseDatabase)}();t.FirebaseDatabase=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t,n){"use strict";n(596),n(598),n(600),n(607),n(609),n(6),n(29),n(267),n(236),n(283)},function(e,t,n){"use strict";var r=n(59),i=n(597);r.Observable.prototype.map=i.map},function(e,t,n){"use strict";function map(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new o(e,t))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(64);t.map=map;var o=function(){function MapOperator(e,t){this.project=e,this.thisArg=t}return MapOperator.prototype.call=function(e){return new a(e,this.project,this.thisArg)},MapOperator}(),a=function(e){function MapSubscriber(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return r(MapSubscriber,e),MapSubscriber.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},MapSubscriber}(i.Subscriber)},function(e,t,n){"use strict";var r=n(59),i=n(599);r.Observable.prototype.bufferCount=i.bufferCount},function(e,t,n){"use strict";function bufferCount(e,t){return void 0===t&&(t=null),this.lift(new o(e,t))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(64);t.bufferCount=bufferCount;var o=function(){function BufferCountOperator(e,t){this.bufferSize=e,this.startBufferEvery=t}return BufferCountOperator.prototype.call=function(e){return new a(e,this.bufferSize,this.startBufferEvery)},BufferCountOperator}(),a=function(e){function BufferCountSubscriber(t,n,r){e.call(this,t),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[[]],this.count=0}return r(BufferCountSubscriber,e),BufferCountSubscriber.prototype._next=function(e){var t=this.count+=1,n=this.destination,r=this.bufferSize,i=null==this.startBufferEvery?r:this.startBufferEvery,o=this.buffers,a=o.length,s=-1;t%i===0&&o.push([]);for(var c=0;a>c;c++){var u=o[c];u.push(e),u.length===r&&(s=c,n.next(u))}-1!==s&&o.splice(s,1)},BufferCountSubscriber.prototype._complete=function(){for(var t=this.destination,n=this.buffers;n.length>0;){var r=n.shift();r.length>0&&t.next(r)}e.prototype._complete.call(this)},BufferCountSubscriber}(i.Subscriber)},function(e,t,n){"use strict";var r=n(59),i=n(601);r.Observable.prototype.debounceTime=i.debounceTime},function(e,t,n){"use strict";function debounceTime(e,t){return void 0===t&&(t=o.asap),this.lift(new a(e,t))}function dispatchNext(e){e.debouncedNext()}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(64),o=n(602);t.debounceTime=debounceTime;var a=function(){function DebounceTimeOperator(e,t){this.dueTime=e,this.scheduler=t}return DebounceTimeOperator.prototype.call=function(e){return new s(e,this.dueTime,this.scheduler)},DebounceTimeOperator}(),s=function(e){function DebounceTimeSubscriber(t,n,r){e.call(this,t),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return r(DebounceTimeSubscriber,e),DebounceTimeSubscriber.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext,this.dueTime,this))},DebounceTimeSubscriber.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},DebounceTimeSubscriber.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},DebounceTimeSubscriber.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},DebounceTimeSubscriber}(i.Subscriber)},function(e,t,n){"use strict";var r=n(603);t.asap=new r.AsapScheduler},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(604),o=n(287),a=function(e){function AsapScheduler(){e.apply(this,arguments)}return r(AsapScheduler,e),AsapScheduler.prototype.scheduleNow=function(e,t){return new i.AsapAction(this,e).schedule(t)},AsapScheduler}(o.QueueScheduler);t.AsapScheduler=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(605),o=n(289),a=function(e){function AsapAction(){e.apply(this,arguments)}return r(AsapAction,e),AsapAction.prototype._schedule=function(t,n){if(void 0===n&&(n=0),n>0)return e.prototype._schedule.call(this,t,n);this.delay=n,this.state=t;var r=this.scheduler;return r.actions.push(this),r.scheduledId||(r.scheduledId=i.Immediate.setImmediate(function(){r.scheduledId=null,r.flush()})),this},AsapAction.prototype._unsubscribe=function(){var t=this.scheduler,n=t.scheduledId,r=t.actions;e.prototype._unsubscribe.call(this),0===r.length&&(t.active=!1,null!=n&&(t.scheduledId=null,i.Immediate.clearImmediate(n)))},AsapAction}(o.FutureAction);t.AsapAction=a},function(e,t,n){(function(e,r){"use strict";var i=n(60),o=function(){function ImmediateDefinition(e){if(this.root=e,e.setImmediate&&"function"==typeof e.setImmediate)this.setImmediate=e.setImmediate.bind(e),this.clearImmediate=e.clearImmediate.bind(e);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,this.canUseProcessNextTick()?this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?this.setImmediate=this.createReadyStateChangeSetImmediate():this.setImmediate=this.createSetTimeoutSetImmediate();var t=function clearImmediate(e){delete clearImmediate.instance.tasksByHandle[e]};t.instance=this,this.clearImmediate=t}}return ImmediateDefinition.prototype.identify=function(e){return this.root.Object.prototype.toString.call(e)},ImmediateDefinition.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},ImmediateDefinition.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},ImmediateDefinition.prototype.canUseReadyStateChange=function(){var e=this.root.document;return Boolean(e&&"onreadystatechange"in e.createElement("script"))},ImmediateDefinition.prototype.canUsePostMessage=function(){var e=this.root;if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}return!1},ImmediateDefinition.prototype.partiallyApplied=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=function result(){var e=result,t=e.handler,n=e.args;"function"==typeof t?t.apply(void 0,n):new Function(""+t)()};return r.handler=e,r.args=t,r},ImmediateDefinition.prototype.addFromSetImmediateArguments=function(e){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,e),this.nextHandle++},ImmediateDefinition.prototype.createProcessNextTickSetImmediate=function(){var e=function setImmediate(){var e=setImmediate.instance,t=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,t)),t};return e.instance=this,e},ImmediateDefinition.prototype.createPostMessageSetImmediate=function(){var e=this.root,t="setImmediate$"+e.Math.random()+"$",n=function globalMessageHandler(n){var r=globalMessageHandler.instance;n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&r.runIfPresent(+n.data.slice(t.length))};n.instance=this,e.addEventListener("message",n,!1);var r=function setImmediate(){var e=setImmediate,t=e.messagePrefix,n=e.instance,r=n.addFromSetImmediateArguments(arguments);return n.root.postMessage(t+r,"*"),r};return r.instance=this,r.messagePrefix=t,r},ImmediateDefinition.prototype.runIfPresent=function(e){if(this.currentlyRunningATask)this.root.setTimeout(this.partiallyApplied(this.runIfPresent,e),0);else{var t=this.tasksByHandle[e];if(t){this.currentlyRunningATask=!0;try{t()}finally{this.clearImmediate(e),this.currentlyRunningATask=!1}}}},ImmediateDefinition.prototype.createMessageChannelSetImmediate=function(){var e=this,t=new this.root.MessageChannel;t.port1.onmessage=function(t){var n=t.data;e.runIfPresent(n)};var n=function setImmediate(){var e=setImmediate,t=e.channel,n=e.instance,r=n.addFromSetImmediateArguments(arguments);return t.port2.postMessage(r),r};return n.channel=t,n.instance=this,n},ImmediateDefinition.prototype.createReadyStateChangeSetImmediate=function(){var e=function setImmediate(){var e=setImmediate.instance,t=e.root,n=t.document,r=n.documentElement,i=e.addFromSetImmediateArguments(arguments),o=n.createElement("script");return o.onreadystatechange=function(){e.runIfPresent(i),o.onreadystatechange=null,r.removeChild(o),o=null},r.appendChild(o),i};return e.instance=this,e},ImmediateDefinition.prototype.createSetTimeoutSetImmediate=function(){var e=function setImmediate(){var e=setImmediate.instance,t=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,t),0),t};return e.instance=this,e},ImmediateDefinition}();t.ImmediateDefinition=o,t.Immediate=new o(i.root)}).call(t,n(606).clearImmediate,n(606).setImmediate)},function(e,t,n){(function(e,r){function Timeout(e,t){this._id=e,this._clearFn=t}var i=n(588).nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;t.setTimeout=function(){return new Timeout(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new Timeout(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},
Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,r=arguments.length<2?!1:a.call(arguments,1);return s[n]=!0,i(function(){s[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(t,n(606).setImmediate,n(606).clearImmediate)},function(e,t,n){"use strict";var r=n(59),i=n(608);r.Observable.prototype.filter=i.filter},function(e,t,n){"use strict";function filter(e,t){return this.lift(new o(e,t))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(64);t.filter=filter;var o=function(){function FilterOperator(e,t){this.select=e,this.thisArg=t}return FilterOperator.prototype.call=function(e){return new a(e,this.select,this.thisArg)},FilterOperator}(),a=function(e){function FilterSubscriber(t,n,r){e.call(this,t),this.select=n,this.thisArg=r,this.count=0,this.select=n}return r(FilterSubscriber,e),FilterSubscriber.prototype._next=function(e){var t;try{t=this.select.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},FilterSubscriber}(i.Subscriber)},function(e,t,n){"use strict";var r=n(59),i=n(610);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},function(e,t,n){"use strict";function mergeMap(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),this.lift(new a(e,t,n))}var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(611),o=n(614);t.mergeMap=mergeMap;var a=function(){function MergeMapOperator(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return MergeMapOperator.prototype.call=function(e){return new s(e,this.project,this.resultSelector,this.concurrent)},MergeMapOperator}();t.MergeMapOperator=a;var s=function(e){function MergeMapSubscriber(t,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(MergeMapSubscriber,e),MergeMapSubscriber.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},MergeMapSubscriber.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},MergeMapSubscriber.prototype._innerSub=function(e,t,n){this.add(i.subscribeToResult(this,e,t,n))},MergeMapSubscriber.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},MergeMapSubscriber.prototype.notifyNext=function(e,t,n,r,i){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},MergeMapSubscriber.prototype._notifyResultSelector=function(e,t,n,r){var i;try{i=this.resultSelector(e,t,n,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)},MergeMapSubscriber.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},MergeMapSubscriber}(o.OuterSubscriber);t.MergeMapSubscriber=s},function(e,t,n){"use strict";function subscribeToResult(e,t,n,u){var l=new c.InnerSubscriber(e,n,u);if(!l.isUnsubscribed){if(t instanceof a.Observable)return t._isScalar?(l.next(t.value),void l.complete()):t.subscribe(l);if(i.isArray(t)){for(var p=0,h=t.length;h>p&&!l.isUnsubscribed;p++)l.next(t[p]);l.isUnsubscribed||l.complete()}else{if(o.isPromise(t))return t.then(function(e){l.isUnsubscribed||(l.next(e),l.complete())},function(e){return l.error(e)}).then(null,function(e){r.root.setTimeout(function(){throw e})}),l;if("function"==typeof t[s.SymbolShim.iterator]){for(var f=0,d=t;f<d.length;f++){var y=d[f];if(l.next(y),l.isUnsubscribed)break}l.isUnsubscribed||l.complete()}else if("function"==typeof t[s.SymbolShim.observable]){var m=t[s.SymbolShim.observable]();if("function"==typeof m.subscribe)return m.subscribe(new c.InnerSubscriber(e,n,u));l.error("invalid observable")}else l.error(new TypeError("unknown type returned"))}}}var r=n(60),i=n(67),o=n(612),a=n(59),s=n(62),c=n(613);t.subscribeToResult=subscribeToResult},function(e,t){"use strict";function isPromise(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=isPromise},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(64),o=function(e){function InnerSubscriber(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(InnerSubscriber,e),InnerSubscriber.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},InnerSubscriber.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},InnerSubscriber.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},InnerSubscriber}(i.Subscriber);t.InnerSubscriber=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function __(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)},i=n(64),o=function(e){function OuterSubscriber(){e.apply(this,arguments)}return r(OuterSubscriber,e),OuterSubscriber.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},OuterSubscriber.prototype.notifyError=function(e,t){this.destination.error(e)},OuterSubscriber.prototype.notifyComplete=function(e){this.destination.complete()},OuterSubscriber}(i.Subscriber);t.OuterSubscriber=o}]);
//# sourceMappingURL=vendor.bundle.js.map?6f67726a1a8119535f33